import{hasInjectionContext as e,inject as o,effectScope as t,ref as n,markRaw as l,toRaw as a,watch as r,unref as i,getCurrentInstance as s,reactive as c,isRef as u,isReactive as d,toRef as p,nextTick as g,computed as f,getCurrentScope as h,onScopeDispose as m,toRefs as v,onMounted as w,onUnmounted as y,defineComponent as b,createElementBlock as _,openBlock as C,normalizeStyle as E,Fragment as k,renderList as S,withModifiers as I,normalizeClass as R,createCommentVNode as A,createElementVNode as T,toDisplayString as O,createTextVNode as N,withDirectives as V,createBlock as x,vModelText as D,Teleport as P,mergeProps as H,vModelRadio as $,vModelCheckbox as L,provide as F,onBeforeUnmount as B,onBeforeMount as G,createVNode as U,createStaticVNode as M,vModelSelect as j}from"vue";import{useDebounceFn as z}from"@vueuse/core";import W from"@imengyu/vue3-context-menu";var K,q,Y,J,X=Object.create,Z=Object.defineProperty,Q=Object.getOwnPropertyDescriptor,ee=Object.getOwnPropertyNames,oe=Object.getPrototypeOf,te=Object.prototype.hasOwnProperty,ne=(K={"../../node_modules/.pnpm/tsup@8.4.0_@microsoft+api-extractor@7.51.1_@types+node@22.13.14__jiti@2.4.2_postcss@8.5_96eb05a9d65343021e53791dd83f3773/node_modules/tsup/assets/esm_shims.js"(){}},function(){return K&&(q=(0,K[ee(K)[0]])(K=0)),q}),le=(Y={"../../node_modules/.pnpm/rfdc@1.4.1/node_modules/rfdc/index.js"(e,o){function t(e){return e instanceof Buffer?Buffer.from(e):new e.constructor(e.buffer.slice(),e.byteOffset,e.length)}ne(),o.exports=function(e){if((e=e||{}).circles)return function(e){const o=[],n=[],l=/* @__PURE__ */new Map;if(l.set(Date,e=>new Date(e)),l.set(Map,(e,o)=>new Map(r(Array.from(e),o))),l.set(Set,(e,o)=>new Set(r(Array.from(e),o))),e.constructorHandlers)for(const t of e.constructorHandlers)l.set(t[0],t[1]);let a=null;return e.proto?s:i;function r(e,r){const i=Object.keys(e),s=new Array(i.length);for(let c=0;c<i.length;c++){const u=i[c],d=e[u];if("object"!=typeof d||null===d)s[u]=d;else if(d.constructor!==Object&&(a=l.get(d.constructor)))s[u]=a(d,r);else if(ArrayBuffer.isView(d))s[u]=t(d);else{const e=o.indexOf(d);s[u]=-1!==e?n[e]:r(d)}}return s}function i(e){if("object"!=typeof e||null===e)return e;if(Array.isArray(e))return r(e,i);if(e.constructor!==Object&&(a=l.get(e.constructor)))return a(e,i);const s={};o.push(e),n.push(s);for(const r in e){if(!1===Object.hasOwnProperty.call(e,r))continue;const c=e[r];if("object"!=typeof c||null===c)s[r]=c;else if(c.constructor!==Object&&(a=l.get(c.constructor)))s[r]=a(c,i);else if(ArrayBuffer.isView(c))s[r]=t(c);else{const e=o.indexOf(c);s[r]=-1!==e?n[e]:i(c)}}return o.pop(),n.pop(),s}function s(e){if("object"!=typeof e||null===e)return e;if(Array.isArray(e))return r(e,s);if(e.constructor!==Object&&(a=l.get(e.constructor)))return a(e,s);const i={};o.push(e),n.push(i);for(const r in e){const c=e[r];if("object"!=typeof c||null===c)i[r]=c;else if(c.constructor!==Object&&(a=l.get(c.constructor)))i[r]=a(c,s);else if(ArrayBuffer.isView(c))i[r]=t(c);else{const e=o.indexOf(c);i[r]=-1!==e?n[e]:s(c)}}return o.pop(),n.pop(),i}}(e);const o=/* @__PURE__ */new Map;if(o.set(Date,e=>new Date(e)),o.set(Map,(e,o)=>new Map(l(Array.from(e),o))),o.set(Set,(e,o)=>new Set(l(Array.from(e),o))),e.constructorHandlers)for(const t of e.constructorHandlers)o.set(t[0],t[1]);let n=null;return e.proto?function e(a){if("object"!=typeof a||null===a)return a;if(Array.isArray(a))return l(a,e);if(a.constructor!==Object&&(n=o.get(a.constructor)))return n(a,e);const r={};for(const l in a){const i=a[l];"object"!=typeof i||null===i?r[l]=i:i.constructor!==Object&&(n=o.get(i.constructor))?r[l]=n(i,e):ArrayBuffer.isView(i)?r[l]=t(i):r[l]=e(i)}return r}:function e(a){if("object"!=typeof a||null===a)return a;if(Array.isArray(a))return l(a,e);if(a.constructor!==Object&&(n=o.get(a.constructor)))return n(a,e);const r={};for(const l in a){if(!1===Object.hasOwnProperty.call(a,l))continue;const i=a[l];"object"!=typeof i||null===i?r[l]=i:i.constructor!==Object&&(n=o.get(i.constructor))?r[l]=n(i,e):ArrayBuffer.isView(i)?r[l]=t(i):r[l]=e(i)}return r};function l(e,l){const a=Object.keys(e),r=new Array(a.length);for(let i=0;i<a.length;i++){const s=a[i],c=e[s];"object"!=typeof c||null===c?r[s]=c:c.constructor!==Object&&(n=o.get(c.constructor))?r[s]=n(c,l):ArrayBuffer.isView(c)?r[s]=t(c):r[s]=l(c)}return r}}}},function(){return J||(0,Y[ee(Y)[0]])((J={exports:{}}).exports,J),J.exports});ne(),ne(),ne();var ae,re="undefined"!=typeof navigator,ie="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:{};void 0!==ie.chrome&&ie.chrome.devtools,re&&(ie.self,ie.top),"undefined"!=typeof navigator&&(null==(ae=navigator.userAgent)||ae.toLowerCase().includes("electron")),ne();var se=((e,o,t)=>(t=null!=e?X(oe(e)):{},((e,o,t,n)=>{if(o&&"object"==typeof o||"function"==typeof o)for(let l of ee(o))te.call(e,l)||l===t||Z(e,l,{get:()=>o[l],enumerable:!(n=Q(o,l))||n.enumerable});return e})(Z(t,"default",{value:e,enumerable:!0}),e)))(le()),ce=/(?:^|[-_/])(\w)/g;function ue(e,o){return o?o.toUpperCase():""}var de=(0,se.default)({circles:!0});const pe={trailing:!0};function ge(e,o=25,t={}){if(t={...pe,...t},!Number.isFinite(o))throw new TypeError("Expected `wait` to be a finite number");let n,l,a,r,i=[];const s=(o,n)=>(a=async function(e,o,t){return await e.apply(o,t)}(e,o,n),a.finally(()=>{if(a=null,t.trailing&&r&&!l){const e=s(o,r);return r=null,e}}),a);return function(...e){return a?(t.trailing&&(r=e),a):new Promise(a=>{const r=!l&&t.leading;clearTimeout(l),l=setTimeout(()=>{l=null;const o=t.leading?n:s(this,e);for(const e of i)e(o);i=[]},o),r?(n=s(this,e),a(n)):i.push(a)})}}function fe(e,o={},t){for(const n in e){const l=e[n],a=t?`${t}:${n}`:n;"object"==typeof l&&null!==l?fe(l,o,a):"function"==typeof l&&(o[a]=l)}return o}const he={run:e=>e()},me=void 0!==console.createTask?console.createTask:()=>he;function ve(e,o){const t=o.shift(),n=me(t);return e.reduce((e,t)=>e.then(()=>n.run(()=>t(...o))),Promise.resolve())}function we(e,o){const t=o.shift(),n=me(t);return Promise.all(e.map(e=>n.run(()=>e(...o))))}function ye(e,o){for(const t of[...e])t(o)}class be{constructor(){this._hooks={},this._before=void 0,this._after=void 0,this._deprecatedMessages=void 0,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(e,o,t={}){if(!e||"function"!=typeof o)return()=>{};const n=e;let l;for(;this._deprecatedHooks[e];)l=this._deprecatedHooks[e],e=l.to;if(l&&!t.allowDeprecated){let e=l.message;e||(e=`${n} hook has been deprecated`+(l.to?`, please use ${l.to}`:"")),this._deprecatedMessages||(this._deprecatedMessages=/* @__PURE__ */new Set),this._deprecatedMessages.has(e)||(console.warn(e),this._deprecatedMessages.add(e))}if(!o.name)try{Object.defineProperty(o,"name",{get:()=>"_"+e.replace(/\W+/g,"_")+"_hook_cb",configurable:!0})}catch{}return this._hooks[e]=this._hooks[e]||[],this._hooks[e].push(o),()=>{o&&(this.removeHook(e,o),o=void 0)}}hookOnce(e,o){let t,n=(...e)=>("function"==typeof t&&t(),t=void 0,n=void 0,o(...e));return t=this.hook(e,n),t}removeHook(e,o){if(this._hooks[e]){const t=this._hooks[e].indexOf(o);-1!==t&&this._hooks[e].splice(t,1),0===this._hooks[e].length&&delete this._hooks[e]}}deprecateHook(e,o){this._deprecatedHooks[e]="string"==typeof o?{to:o}:o;const t=this._hooks[e]||[];delete this._hooks[e];for(const n of t)this.hook(e,n)}deprecateHooks(e){Object.assign(this._deprecatedHooks,e);for(const o in e)this.deprecateHook(o,e[o])}addHooks(e){const o=fe(e),t=Object.keys(o).map(e=>this.hook(e,o[e]));return()=>{for(const e of t.splice(0,t.length))e()}}removeHooks(e){const o=fe(e);for(const t in o)this.removeHook(t,o[t])}removeAllHooks(){for(const e in this._hooks)delete this._hooks[e]}callHook(e,...o){return o.unshift(e),this.callHookWith(ve,e,...o)}callHookParallel(e,...o){return o.unshift(e),this.callHookWith(we,e,...o)}callHookWith(e,o,...t){const n=this._before||this._after?{name:o,args:t,context:{}}:void 0;this._before&&ye(this._before,n);const l=e(o in this._hooks?[...this._hooks[o]]:[],t);return l instanceof Promise?l.finally(()=>{this._after&&n&&ye(this._after,n)}):(this._after&&n&&ye(this._after,n),l)}beforeEach(e){return this._before=this._before||[],this._before.push(e),()=>{if(void 0!==this._before){const o=this._before.indexOf(e);-1!==o&&this._before.splice(o,1)}}}afterEach(e){return this._after=this._after||[],this._after.push(e),()=>{if(void 0!==this._after){const o=this._after.indexOf(e);-1!==o&&this._after.splice(o,1)}}}}function _e(){return new be}var Ce,Ee=Object.create,ke=Object.defineProperty,Se=Object.getOwnPropertyDescriptor,Ie=Object.getOwnPropertyNames,Re=Object.getPrototypeOf,Ae=Object.prototype.hasOwnProperty,Te=(e,o)=>function(){return o||(0,e[Ie(e)[0]])((o={exports:{}}).exports,o),o.exports},Oe=((e,o)=>function(){return e&&(o=(0,e[Ie(e)[0]])(e=0)),o})({"../../node_modules/.pnpm/tsup@8.4.0_@microsoft+api-extractor@7.51.1_@types+node@22.13.14__jiti@2.4.2_postcss@8.5_96eb05a9d65343021e53791dd83f3773/node_modules/tsup/assets/esm_shims.js"(){}}),Ne=Te({"../../node_modules/.pnpm/speakingurl@14.0.1/node_modules/speakingurl/lib/speakingurl.js"(e,o){Oe(),function(e){var t={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"Ae","Å":"A","Æ":"AE","Ç":"C","È":"E","É":"E","Ê":"E","Ë":"E","Ì":"I","Í":"I","Î":"I","Ï":"I","Ð":"D","Ñ":"N","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"Oe","Ő":"O","Ø":"O","Ù":"U","Ú":"U","Û":"U","Ü":"Ue","Ű":"U","Ý":"Y","Þ":"TH","ß":"ss","à":"a","á":"a","â":"a","ã":"a","ä":"ae","å":"a","æ":"ae","ç":"c","è":"e","é":"e","ê":"e","ë":"e","ì":"i","í":"i","î":"i","ï":"i","ð":"d","ñ":"n","ò":"o","ó":"o","ô":"o","õ":"o","ö":"oe","ő":"o","ø":"o","ù":"u","ú":"u","û":"u","ü":"ue","ű":"u","ý":"y","þ":"th","ÿ":"y","ẞ":"SS","ا":"a","أ":"a","إ":"i","آ":"aa","ؤ":"u","ئ":"e","ء":"a","ب":"b","ت":"t","ث":"th","ج":"j","ح":"h","خ":"kh","د":"d","ذ":"th","ر":"r","ز":"z","س":"s","ش":"sh","ص":"s","ض":"dh","ط":"t","ظ":"z","ع":"a","غ":"gh","ف":"f","ق":"q","ك":"k","ل":"l","م":"m","ن":"n","ه":"h","و":"w","ي":"y","ى":"a","ة":"h","ﻻ":"la","ﻷ":"laa","ﻹ":"lai","ﻵ":"laa","گ":"g","چ":"ch","پ":"p","ژ":"zh","ک":"k","ی":"y","َ":"a","ً":"an","ِ":"e","ٍ":"en","ُ":"u","ٌ":"on","ْ":"","٠":"0","١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","۰":"0","۱":"1","۲":"2","۳":"3","۴":"4","۵":"5","۶":"6","۷":"7","۸":"8","۹":"9","က":"k","ခ":"kh","ဂ":"g","ဃ":"ga","င":"ng","စ":"s","ဆ":"sa","ဇ":"z","စျ":"za","ည":"ny","ဋ":"t","ဌ":"ta","ဍ":"d","ဎ":"da","ဏ":"na","တ":"t","ထ":"ta","ဒ":"d","ဓ":"da","န":"n","ပ":"p","ဖ":"pa","ဗ":"b","ဘ":"ba","မ":"m","ယ":"y","ရ":"ya","လ":"l","ဝ":"w","သ":"th","ဟ":"h","ဠ":"la","အ":"a","ြ":"y","ျ":"ya","ွ":"w","ြွ":"yw","ျွ":"ywa","ှ":"h","ဧ":"e","၏":"-e","ဣ":"i","ဤ":"-i","ဉ":"u","ဦ":"-u","ဩ":"aw","သြော":"aw","ဪ":"aw","၀":"0","၁":"1","၂":"2","၃":"3","၄":"4","၅":"5","၆":"6","၇":"7","၈":"8","၉":"9","္":"","့":"","း":"","č":"c","ď":"d","ě":"e","ň":"n","ř":"r","š":"s","ť":"t","ů":"u","ž":"z","Č":"C","Ď":"D","Ě":"E","Ň":"N","Ř":"R","Š":"S","Ť":"T","Ů":"U","Ž":"Z","ހ":"h","ށ":"sh","ނ":"n","ރ":"r","ބ":"b","ޅ":"lh","ކ":"k","އ":"a","ވ":"v","މ":"m","ފ":"f","ދ":"dh","ތ":"th","ލ":"l","ގ":"g","ޏ":"gn","ސ":"s","ޑ":"d","ޒ":"z","ޓ":"t","ޔ":"y","ޕ":"p","ޖ":"j","ޗ":"ch","ޘ":"tt","ޙ":"hh","ޚ":"kh","ޛ":"th","ޜ":"z","ޝ":"sh","ޞ":"s","ޟ":"d","ޠ":"t","ޡ":"z","ޢ":"a","ޣ":"gh","ޤ":"q","ޥ":"w","ަ":"a","ާ":"aa","ި":"i","ީ":"ee","ު":"u","ޫ":"oo","ެ":"e","ޭ":"ey","ޮ":"o","ޯ":"oa","ް":"","ა":"a","ბ":"b","გ":"g","დ":"d","ე":"e","ვ":"v","ზ":"z","თ":"t","ი":"i","კ":"k","ლ":"l","მ":"m","ნ":"n","ო":"o","პ":"p","ჟ":"zh","რ":"r","ს":"s","ტ":"t","უ":"u","ფ":"p","ქ":"k","ღ":"gh","ყ":"q","შ":"sh","ჩ":"ch","ც":"ts","ძ":"dz","წ":"ts","ჭ":"ch","ხ":"kh","ჯ":"j","ჰ":"h","α":"a","β":"v","γ":"g","δ":"d","ε":"e","ζ":"z","η":"i","θ":"th","ι":"i","κ":"k","λ":"l","μ":"m","ν":"n","ξ":"ks","ο":"o","π":"p","ρ":"r","σ":"s","τ":"t","υ":"y","φ":"f","χ":"x","ψ":"ps","ω":"o","ά":"a","έ":"e","ί":"i","ό":"o","ύ":"y","ή":"i","ώ":"o","ς":"s","ϊ":"i","ΰ":"y","ϋ":"y","ΐ":"i","Α":"A","Β":"B","Γ":"G","Δ":"D","Ε":"E","Ζ":"Z","Η":"I","Θ":"TH","Ι":"I","Κ":"K","Λ":"L","Μ":"M","Ν":"N","Ξ":"KS","Ο":"O","Π":"P","Ρ":"R","Σ":"S","Τ":"T","Υ":"Y","Φ":"F","Χ":"X","Ψ":"PS","Ω":"O","Ά":"A","Έ":"E","Ί":"I","Ό":"O","Ύ":"Y","Ή":"I","Ώ":"O","Ϊ":"I","Ϋ":"Y","ā":"a","ē":"e","ģ":"g","ī":"i","ķ":"k","ļ":"l","ņ":"n","ū":"u","Ā":"A","Ē":"E","Ģ":"G","Ī":"I","Ķ":"k","Ļ":"L","Ņ":"N","Ū":"U","Ќ":"Kj","ќ":"kj","Љ":"Lj","љ":"lj","Њ":"Nj","њ":"nj","Тс":"Ts","тс":"ts","ą":"a","ć":"c","ę":"e","ł":"l","ń":"n","ś":"s","ź":"z","ż":"z","Ą":"A","Ć":"C","Ę":"E","Ł":"L","Ń":"N","Ś":"S","Ź":"Z","Ż":"Z","Є":"Ye","І":"I","Ї":"Yi","Ґ":"G","є":"ye","і":"i","ї":"yi","ґ":"g","ă":"a","Ă":"A","ș":"s","Ș":"S","ț":"t","Ț":"T","ţ":"t","Ţ":"T","а":"a","б":"b","в":"v","г":"g","д":"d","е":"e","ё":"yo","ж":"zh","з":"z","и":"i","й":"i","к":"k","л":"l","м":"m","н":"n","о":"o","п":"p","р":"r","с":"s","т":"t","у":"u","ф":"f","х":"kh","ц":"c","ч":"ch","ш":"sh","щ":"sh","ъ":"","ы":"y","ь":"","э":"e","ю":"yu","я":"ya","А":"A","Б":"B","В":"V","Г":"G","Д":"D","Е":"E","Ё":"Yo","Ж":"Zh","З":"Z","И":"I","Й":"I","К":"K","Л":"L","М":"M","Н":"N","О":"O","П":"P","Р":"R","С":"S","Т":"T","У":"U","Ф":"F","Х":"Kh","Ц":"C","Ч":"Ch","Ш":"Sh","Щ":"Sh","Ъ":"","Ы":"Y","Ь":"","Э":"E","Ю":"Yu","Я":"Ya","ђ":"dj","ј":"j","ћ":"c","џ":"dz","Ђ":"Dj","Ј":"j","Ћ":"C","Џ":"Dz","ľ":"l","ĺ":"l","ŕ":"r","Ľ":"L","Ĺ":"L","Ŕ":"R","ş":"s","Ş":"S","ı":"i","İ":"I","ğ":"g","Ğ":"G","ả":"a","Ả":"A","ẳ":"a","Ẳ":"A","ẩ":"a","Ẩ":"A","đ":"d","Đ":"D","ẹ":"e","Ẹ":"E","ẽ":"e","Ẽ":"E","ẻ":"e","Ẻ":"E","ế":"e","Ế":"E","ề":"e","Ề":"E","ệ":"e","Ệ":"E","ễ":"e","Ễ":"E","ể":"e","Ể":"E","ỏ":"o","ọ":"o","Ọ":"o","ố":"o","Ố":"O","ồ":"o","Ồ":"O","ổ":"o","Ổ":"O","ộ":"o","Ộ":"O","ỗ":"o","Ỗ":"O","ơ":"o","Ơ":"O","ớ":"o","Ớ":"O","ờ":"o","Ờ":"O","ợ":"o","Ợ":"O","ỡ":"o","Ỡ":"O","Ở":"o","ở":"o","ị":"i","Ị":"I","ĩ":"i","Ĩ":"I","ỉ":"i","Ỉ":"i","ủ":"u","Ủ":"U","ụ":"u","Ụ":"U","ũ":"u","Ũ":"U","ư":"u","Ư":"U","ứ":"u","Ứ":"U","ừ":"u","Ừ":"U","ự":"u","Ự":"U","ữ":"u","Ữ":"U","ử":"u","Ử":"ư","ỷ":"y","Ỷ":"y","ỳ":"y","Ỳ":"Y","ỵ":"y","Ỵ":"Y","ỹ":"y","Ỹ":"Y","ạ":"a","Ạ":"A","ấ":"a","Ấ":"A","ầ":"a","Ầ":"A","ậ":"a","Ậ":"A","ẫ":"a","Ẫ":"A","ắ":"a","Ắ":"A","ằ":"a","Ằ":"A","ặ":"a","Ặ":"A","ẵ":"a","Ẵ":"A","⓪":"0","①":"1","②":"2","③":"3","④":"4","⑤":"5","⑥":"6","⑦":"7","⑧":"8","⑨":"9","⑩":"10","⑪":"11","⑫":"12","⑬":"13","⑭":"14","⑮":"15","⑯":"16","⑰":"17","⑱":"18","⑲":"18","⑳":"18","⓵":"1","⓶":"2","⓷":"3","⓸":"4","⓹":"5","⓺":"6","⓻":"7","⓼":"8","⓽":"9","⓾":"10","⓿":"0","⓫":"11","⓬":"12","⓭":"13","⓮":"14","⓯":"15","⓰":"16","⓱":"17","⓲":"18","⓳":"19","⓴":"20","Ⓐ":"A","Ⓑ":"B","Ⓒ":"C","Ⓓ":"D","Ⓔ":"E","Ⓕ":"F","Ⓖ":"G","Ⓗ":"H","Ⓘ":"I","Ⓙ":"J","Ⓚ":"K","Ⓛ":"L","Ⓜ":"M","Ⓝ":"N","Ⓞ":"O","Ⓟ":"P","Ⓠ":"Q","Ⓡ":"R","Ⓢ":"S","Ⓣ":"T","Ⓤ":"U","Ⓥ":"V","Ⓦ":"W","Ⓧ":"X","Ⓨ":"Y","Ⓩ":"Z","ⓐ":"a","ⓑ":"b","ⓒ":"c","ⓓ":"d","ⓔ":"e","ⓕ":"f","ⓖ":"g","ⓗ":"h","ⓘ":"i","ⓙ":"j","ⓚ":"k","ⓛ":"l","ⓜ":"m","ⓝ":"n","ⓞ":"o","ⓟ":"p","ⓠ":"q","ⓡ":"r","ⓢ":"s","ⓣ":"t","ⓤ":"u","ⓦ":"v","ⓥ":"w","ⓧ":"x","ⓨ":"y","ⓩ":"z","“":'"',"”":'"',"‘":"'","’":"'","∂":"d","ƒ":"f","™":"(TM)","©":"(C)","œ":"oe","Œ":"OE","®":"(R)","†":"+","℠":"(SM)","…":"...","˚":"o","º":"o","ª":"a","•":"*","၊":",","။":".",$:"USD","€":"EUR","₢":"BRN","₣":"FRF","£":"GBP","₤":"ITL","₦":"NGN","₧":"ESP","₩":"KRW","₪":"ILS","₫":"VND","₭":"LAK","₮":"MNT","₯":"GRD","₱":"ARS","₲":"PYG","₳":"ARA","₴":"UAH","₵":"GHS","¢":"cent","¥":"CNY","元":"CNY","円":"YEN","﷼":"IRR","₠":"EWE","฿":"THB","₨":"INR","₹":"INR","₰":"PF","₺":"TRY","؋":"AFN","₼":"AZN","лв":"BGN","៛":"KHR","₡":"CRC","₸":"KZT","ден":"MKD","zł":"PLN","₽":"RUB","₾":"GEL"},n=["်","ް"],l={"ာ":"a","ါ":"a","ေ":"e","ဲ":"e","ိ":"i","ီ":"i","ို":"o","ု":"u","ူ":"u","ေါင်":"aung","ော":"aw","ော်":"aw","ေါ":"aw","ေါ်":"aw","်":"်","က်":"et","ိုက်":"aik","ောက်":"auk","င်":"in","ိုင်":"aing","ောင်":"aung","စ်":"it","ည်":"i","တ်":"at","ိတ်":"eik","ုတ်":"ok","ွတ်":"ut","ေတ်":"it","ဒ်":"d","ိုဒ်":"ok","ုဒ်":"ait","န်":"an","ာန်":"an","ိန်":"ein","ုန်":"on","ွန်":"un","ပ်":"at","ိပ်":"eik","ုပ်":"ok","ွပ်":"ut","န်ုပ်":"nub","မ်":"an","ိမ်":"ein","ုမ်":"on","ွမ်":"un","ယ်":"e","ိုလ်":"ol","ဉ်":"in","ံ":"an","ိံ":"ein","ုံ":"on","ައް":"ah","ަށް":"ah"},a={en:{},az:{"ç":"c","ə":"e","ğ":"g","ı":"i","ö":"o","ş":"s","ü":"u","Ç":"C","Ə":"E","Ğ":"G","İ":"I","Ö":"O","Ş":"S","Ü":"U"},cs:{"č":"c","ď":"d","ě":"e","ň":"n","ř":"r","š":"s","ť":"t","ů":"u","ž":"z","Č":"C","Ď":"D","Ě":"E","Ň":"N","Ř":"R","Š":"S","Ť":"T","Ů":"U","Ž":"Z"},fi:{"ä":"a","Ä":"A","ö":"o","Ö":"O"},hu:{"ä":"a","Ä":"A","ö":"o","Ö":"O","ü":"u","Ü":"U","ű":"u","Ű":"U"},lt:{"ą":"a","č":"c","ę":"e","ė":"e","į":"i","š":"s","ų":"u","ū":"u","ž":"z","Ą":"A","Č":"C","Ę":"E","Ė":"E","Į":"I","Š":"S","Ų":"U","Ū":"U"},lv:{"ā":"a","č":"c","ē":"e","ģ":"g","ī":"i","ķ":"k","ļ":"l","ņ":"n","š":"s","ū":"u","ž":"z","Ā":"A","Č":"C","Ē":"E","Ģ":"G","Ī":"i","Ķ":"k","Ļ":"L","Ņ":"N","Š":"S","Ū":"u","Ž":"Z"},pl:{"ą":"a","ć":"c","ę":"e","ł":"l","ń":"n","ó":"o","ś":"s","ź":"z","ż":"z","Ą":"A","Ć":"C","Ę":"e","Ł":"L","Ń":"N","Ó":"O","Ś":"S","Ź":"Z","Ż":"Z"},sv:{"ä":"a","Ä":"A","ö":"o","Ö":"O"},sk:{"ä":"a","Ä":"A"},sr:{"љ":"lj","њ":"nj","Љ":"Lj","Њ":"Nj","đ":"dj","Đ":"Dj"},tr:{"Ü":"U","Ö":"O","ü":"u","ö":"o"}},r={ar:{"∆":"delta","∞":"la-nihaya","♥":"hob","&":"wa","|":"aw","<":"aqal-men",">":"akbar-men","∑":"majmou","¤":"omla"},az:{},ca:{"∆":"delta","∞":"infinit","♥":"amor","&":"i","|":"o","<":"menys que",">":"mes que","∑":"suma dels","¤":"moneda"},cs:{"∆":"delta","∞":"nekonecno","♥":"laska","&":"a","|":"nebo","<":"mensi nez",">":"vetsi nez","∑":"soucet","¤":"mena"},de:{"∆":"delta","∞":"unendlich","♥":"Liebe","&":"und","|":"oder","<":"kleiner als",">":"groesser als","∑":"Summe von","¤":"Waehrung"},dv:{"∆":"delta","∞":"kolunulaa","♥":"loabi","&":"aai","|":"noonee","<":"ah vure kuda",">":"ah vure bodu","∑":"jumula","¤":"faisaa"},en:{"∆":"delta","∞":"infinity","♥":"love","&":"and","|":"or","<":"less than",">":"greater than","∑":"sum","¤":"currency"},es:{"∆":"delta","∞":"infinito","♥":"amor","&":"y","|":"u","<":"menos que",">":"mas que","∑":"suma de los","¤":"moneda"},fa:{"∆":"delta","∞":"bi-nahayat","♥":"eshgh","&":"va","|":"ya","<":"kamtar-az",">":"bishtar-az","∑":"majmooe","¤":"vahed"},fi:{"∆":"delta","∞":"aarettomyys","♥":"rakkaus","&":"ja","|":"tai","<":"pienempi kuin",">":"suurempi kuin","∑":"summa","¤":"valuutta"},fr:{"∆":"delta","∞":"infiniment","♥":"Amour","&":"et","|":"ou","<":"moins que",">":"superieure a","∑":"somme des","¤":"monnaie"},ge:{"∆":"delta","∞":"usasruloba","♥":"siqvaruli","&":"da","|":"an","<":"naklebi",">":"meti","∑":"jami","¤":"valuta"},gr:{},hu:{"∆":"delta","∞":"vegtelen","♥":"szerelem","&":"es","|":"vagy","<":"kisebb mint",">":"nagyobb mint","∑":"szumma","¤":"penznem"},it:{"∆":"delta","∞":"infinito","♥":"amore","&":"e","|":"o","<":"minore di",">":"maggiore di","∑":"somma","¤":"moneta"},lt:{"∆":"delta","∞":"begalybe","♥":"meile","&":"ir","|":"ar","<":"maziau nei",">":"daugiau nei","∑":"suma","¤":"valiuta"},lv:{"∆":"delta","∞":"bezgaliba","♥":"milestiba","&":"un","|":"vai","<":"mazak neka",">":"lielaks neka","∑":"summa","¤":"valuta"},my:{"∆":"kwahkhyaet","∞":"asaonasme","♥":"akhyait","&":"nhin","|":"tho","<":"ngethaw",">":"kyithaw","∑":"paungld","¤":"ngwekye"},mk:{},nl:{"∆":"delta","∞":"oneindig","♥":"liefde","&":"en","|":"of","<":"kleiner dan",">":"groter dan","∑":"som","¤":"valuta"},pl:{"∆":"delta","∞":"nieskonczonosc","♥":"milosc","&":"i","|":"lub","<":"mniejsze niz",">":"wieksze niz","∑":"suma","¤":"waluta"},pt:{"∆":"delta","∞":"infinito","♥":"amor","&":"e","|":"ou","<":"menor que",">":"maior que","∑":"soma","¤":"moeda"},ro:{"∆":"delta","∞":"infinit","♥":"dragoste","&":"si","|":"sau","<":"mai mic ca",">":"mai mare ca","∑":"suma","¤":"valuta"},ru:{"∆":"delta","∞":"beskonechno","♥":"lubov","&":"i","|":"ili","<":"menshe",">":"bolshe","∑":"summa","¤":"valjuta"},sk:{"∆":"delta","∞":"nekonecno","♥":"laska","&":"a","|":"alebo","<":"menej ako",">":"viac ako","∑":"sucet","¤":"mena"},sr:{},tr:{"∆":"delta","∞":"sonsuzluk","♥":"ask","&":"ve","|":"veya","<":"kucuktur",">":"buyuktur","∑":"toplam","¤":"para birimi"},uk:{"∆":"delta","∞":"bezkinechnist","♥":"lubov","&":"i","|":"abo","<":"menshe",">":"bilshe","∑":"suma","¤":"valjuta"},vn:{"∆":"delta","∞":"vo cuc","♥":"yeu","&":"va","|":"hoac","<":"nho hon",">":"lon hon","∑":"tong","¤":"tien te"}},i=[";","?",":","@","&","=","+","$",",","/"].join(""),s=[";","?",":","@","&","=","+","$",","].join(""),c=[".","!","~","*","'","(",")"].join(""),u=function(e,o){var u,d,f,h,m,v,w,y,b,_,C,E,k,S,I="-",R="",A="",T=!0,O={},N="";if("string"!=typeof e)return"";if("string"==typeof o&&(I=o),w=r.en,y=a.en,"object"==typeof o)for(C in u=o.maintainCase||!1,O=o.custom&&"object"==typeof o.custom?o.custom:O,f=+o.truncate>1&&o.truncate||!1,h=o.uric||!1,m=o.uricNoSlash||!1,v=o.mark||!1,T=!1!==o.symbols&&!1!==o.lang,I=o.separator||I,h&&(N+=i),m&&(N+=s),v&&(N+=c),w=o.lang&&r[o.lang]&&T?r[o.lang]:T?r.en:{},y=o.lang&&a[o.lang]?a[o.lang]:!1===o.lang||!0===o.lang?{}:a.en,o.titleCase&&"number"==typeof o.titleCase.length&&Array.prototype.toString.call(o.titleCase)?(o.titleCase.forEach(function(e){O[e+""]=e+""}),d=!0):d=!!o.titleCase,o.custom&&"number"==typeof o.custom.length&&Array.prototype.toString.call(o.custom)&&o.custom.forEach(function(e){O[e+""]=e+""}),Object.keys(O).forEach(function(o){var t;t=o.length>1?new RegExp("\\b"+p(o)+"\\b","gi"):new RegExp(p(o),"gi"),e=e.replace(t,O[o])}),O)N+=C;for(N=p(N+=I),k=!1,S=!1,_=0,E=(e=e.replace(/(^\s+|\s+$)/g,"")).length;_<E;_++)C=e[_],g(C,O)?k=!1:y[C]?(C=k&&y[C].match(/[A-Za-z0-9]/)?" "+y[C]:y[C],k=!1):C in t?(_+1<E&&n.indexOf(e[_+1])>=0?(A+=C,C=""):!0===S?(C=l[A]+t[C],A=""):C=k&&t[C].match(/[A-Za-z0-9]/)?" "+t[C]:t[C],k=!1,S=!1):C in l?(A+=C,C="",_===E-1&&(C=l[A]),S=!0):!w[C]||h&&-1!==i.indexOf(C)||m&&-1!==s.indexOf(C)?(!0===S?(C=l[A]+C,A="",S=!1):k&&(/[A-Za-z0-9]/.test(C)||R.substr(-1).match(/A-Za-z0-9]/))&&(C=" "+C),k=!1):(C=k||R.substr(-1).match(/[A-Za-z0-9]/)?I+w[C]:w[C],C+=void 0!==e[_+1]&&e[_+1].match(/[A-Za-z0-9]/)?I:"",k=!0),R+=C.replace(new RegExp("[^\\w\\s"+N+"_-]","g"),I);return d&&(R=R.replace(/(\w)(\S*)/g,function(e,o,t){var n=o.toUpperCase()+(null!==t?t:"");return Object.keys(O).indexOf(n.toLowerCase())<0?n:n.toLowerCase()})),R=R.replace(/\s+/g,I).replace(new RegExp("\\"+I+"+","g"),I).replace(new RegExp("(^\\"+I+"+|\\"+I+"+$)","g"),""),f&&R.length>f&&(b=R.charAt(f)===I,R=R.slice(0,f),b||(R=R.slice(0,R.lastIndexOf(I)))),u||d||(R=R.toLowerCase()),R},d=function(e){return function(o){return u(o,e)}},p=function(e){return e.replace(/[-\\^$*+?.()|[\]{}\/]/g,"\\$&")},g=function(e,o){for(var t in o)if(o[t]===e)return!0};if(void 0!==o&&o.exports)o.exports=u,o.exports.createSlug=d;else if("undefined"!=typeof define&&define.amd)define([],function(){return u});else try{if(e.getSlug||e.createSlug)throw"speakingurl: globals exists /(getSlug|createSlug)/";e.getSlug=u,e.createSlug=d}catch(f){}}(e)}}),Ve=Te({"../../node_modules/.pnpm/speakingurl@14.0.1/node_modules/speakingurl/index.js"(e,o){Oe(),o.exports=Ne()}});function xe(e){const o=e.__file;if(o)return(t=function(e,o){let t=e.replace(/^[a-z]:/i,"").replace(/\\/g,"/");t.endsWith(`index${o}`)&&(t=t.replace(`/index${o}`,o));const n=t.lastIndexOf("/"),l=t.substring(n+1);{const e=l.lastIndexOf(o);return l.substring(0,e)}}(o,".vue"))&&`${t}`.replace(ce,ue);var t}function De(e,o){return e.type.__VUE_DEVTOOLS_COMPONENT_GUSSED_NAME__=o,o}function Pe(e){return e.__VUE_DEVTOOLS_NEXT_APP_RECORD__?e.__VUE_DEVTOOLS_NEXT_APP_RECORD__:e.root?e.appContext.app.__VUE_DEVTOOLS_NEXT_APP_RECORD__:void 0}function He(e){var o,t;const n=null==(o=e.subTree)?void 0:o.type,l=Pe(e);return!!l&&(null==(t=null==l?void 0:l.types)?void 0:t.Fragment)===n}function $e(e){var o,t,n;const l=function(e){var o;const t=e.name||e._componentTag||e.__VUE_DEVTOOLS_COMPONENT_GUSSED_NAME__||e.__name;return"index"===t&&(null==(o=e.__file)?void 0:o.endsWith("index.vue"))?"":t}((null==e?void 0:e.type)||{});if(l)return l;if((null==e?void 0:e.root)===e)return"Root";for(const r in null==(t=null==(o=e.parent)?void 0:o.type)?void 0:t.components)if(e.parent.type.components[r]===(null==e?void 0:e.type))return De(e,r);for(const r in null==(n=e.appContext)?void 0:n.components)if(e.appContext.components[r]===(null==e?void 0:e.type))return De(e,r);const a=xe((null==e?void 0:e.type)||{});return a||"Anonymous Component"}function Le(e,o){o=o||`${e.id}:root`;return e.instanceMap.get(o)||e.instanceMap.get(":root")}function Fe(e){return Ce||(Ce=document.createRange()),Ce.selectNode(e),Ce.getBoundingClientRect()}function Be(e,o){return(!e.top||o.top<e.top)&&(e.top=o.top),(!e.bottom||o.bottom>e.bottom)&&(e.bottom=o.bottom),(!e.left||o.left<e.left)&&(e.left=o.left),(!e.right||o.right>e.right)&&(e.right=o.right),e}Oe(),Oe(),Oe(),Oe(),Oe(),Oe(),Oe(),Oe();var Ge={top:0,left:0,right:0,bottom:0,width:0,height:0};function Ue(e){const o=e.subTree.el;return"undefined"==typeof window?Ge:He(e)?function(e){const o=function(){const e={top:0,bottom:0,left:0,right:0,get width(){return e.right-e.left},get height(){return e.bottom-e.top}};return e}();if(!e.children)return o;for(let t=0,n=e.children.length;t<n;t++){const n=e.children[t];let l;if(n.component)l=Ue(n.component);else if(n.el){const e=n.el;1===e.nodeType||e.getBoundingClientRect?l=e.getBoundingClientRect():3===e.nodeType&&e.data.trim()&&(l=Fe(e))}l&&Be(o,l)}return o}(e.subTree):1===(null==o?void 0:o.nodeType)?null==o?void 0:o.getBoundingClientRect():e.subTree.component?Ue(e.subTree.component):Ge}function Me(e){return He(e)?function(e){if(!e.children)return[];const o=[];return e.children.forEach(e=>{e.component?o.push(...Me(e.component)):(null==e?void 0:e.el)&&o.push(e.el)}),o}(e.subTree):e.subTree?[e.subTree.el]:[]}Oe();var je="__vue-devtools-component-inspector__",ze="__vue-devtools-component-inspector__card__",We="__vue-devtools-component-inspector__name__",Ke="__vue-devtools-component-inspector__indicator__",qe={display:"block",zIndex:2147483640,position:"fixed",backgroundColor:"#42b88325",border:"1px solid #42b88350",borderRadius:"5px",transition:"all 0.1s ease-in",pointerEvents:"none"},Ye={fontFamily:"Arial, Helvetica, sans-serif",padding:"5px 8px",borderRadius:"4px",textAlign:"left",position:"absolute",left:0,color:"#e9e9e9",fontSize:"14px",fontWeight:600,lineHeight:"24px",backgroundColor:"#42b883",boxShadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px -1px rgba(0, 0, 0, 0.1)"},Je={display:"inline-block",fontWeight:400,fontStyle:"normal",fontSize:"12px",opacity:.7};function Xe(){return document.getElementById(je)}function Ze(e){return{left:Math.round(100*e.left)/100+"px",top:Math.round(100*e.top)/100+"px",width:Math.round(100*e.width)/100+"px",height:Math.round(100*e.height)/100+"px"}}function Qe(e){var o;const t=document.createElement("div");t.id=null!=(o=e.elementId)?o:je,Object.assign(t.style,{...qe,...Ze(e.bounds),...e.style});const n=document.createElement("span");n.id=ze,Object.assign(n.style,{...Ye,top:e.bounds.top<35?0:"-35px"});const l=document.createElement("span");l.id=We,l.innerHTML=`&lt;${e.name}&gt;&nbsp;&nbsp;`;const a=document.createElement("i");return a.id=Ke,a.innerHTML=`${Math.round(100*e.bounds.width)/100} x ${Math.round(100*e.bounds.height)/100}`,Object.assign(a.style,Je),n.appendChild(l),n.appendChild(a),t.appendChild(n),document.body.appendChild(t),t}function eo(e){const o=Xe(),t=document.getElementById(ze),n=document.getElementById(We),l=document.getElementById(Ke);o&&(Object.assign(o.style,{...qe,...Ze(e.bounds)}),Object.assign(t.style,{top:e.bounds.top<35?0:"-35px"}),n.innerHTML=`&lt;${e.name}&gt;&nbsp;&nbsp;`,l.innerHTML=`${Math.round(100*e.bounds.width)/100} x ${Math.round(100*e.bounds.height)/100}`)}function oo(){const e=Xe();e&&(e.style.display="none")}var to=null;function no(e){const o=e.target;if(o){const e=o.__vueParentComponent;if(e){to=e;if(e.vnode.el){const o=Ue(e),t=$e(e);Xe()?eo({bounds:o,name:t}):Qe({bounds:o,name:t})}}}}var lo,ao=null;function ro(){return window.addEventListener("mouseover",no),new Promise(e=>{function o(t){t.preventDefault(),t.stopPropagation(),function(e,o){e.preventDefault(),e.stopPropagation(),to&&o(`${null!=(a=null==(l=null==(n=null==(t=to)?void 0:t.appContext)?void 0:n.app)?void 0:l.__VUE_DEVTOOLS_NEXT_APP_RECORD_ID__)?a:0}:${t===(null==t?void 0:t.root)?"root":t.uid}`);var t,n,l,a}(t,t=>{window.removeEventListener("click",o,!0),ao=null,window.removeEventListener("mouseover",no);const n=Xe();n&&(n.style.display="none"),e(JSON.stringify({id:t}))})}ao=o,window.addEventListener("click",o,!0)})}function io(){return new Promise(e=>{function o(){!function(){const e=ie.__VUE_INSPECTOR__,o=e.openInEditor;e.openInEditor=async(...t)=>{e.disable(),o(...t)}}(),e(ie.__VUE_INSPECTOR__)}ie.__VUE_INSPECTOR__?o():function(e){let o=0;const t=setInterval(()=>{ie.__VUE_INSPECTOR__&&(clearInterval(t),o+=30,e()),o>=5e3&&clearInterval(t)},30)}(()=>{o()})})}function so(e){return function(e){return!(!e||!e.__v_isReadonly)}(e)?so(e.__v_raw):!(!e||!e.__v_isReactive)}function co(e){return!(!e||!0!==e.__v_isRef)}function uo(e){const o=e&&e.__v_raw;return o?uo(o):e}Oe(),null!=(lo=ie).__VUE_DEVTOOLS_COMPONENT_INSPECTOR_ENABLED__||(lo.__VUE_DEVTOOLS_COMPONENT_INSPECTOR_ENABLED__=!0),Oe(),Oe();var po=class{constructor(){this.refEditor=new go}set(e,o,t,n){const l=Array.isArray(o)?o:o.split(".");for(;l.length>1;){const o=l.shift();e=e instanceof Map?e.get(o):e instanceof Set?Array.from(e.values())[o]:e[o],this.refEditor.isRef(e)&&(e=this.refEditor.get(e))}const a=l[0],r=this.refEditor.get(e)[a];n?n(e,a,t):this.refEditor.isRef(r)?this.refEditor.set(r,t):e[a]=t}get(e,o){const t=Array.isArray(o)?o:o.split(".");for(let n=0;n<t.length;n++)if(e=e instanceof Map?e.get(t[n]):e[t[n]],this.refEditor.isRef(e)&&(e=this.refEditor.get(e)),!e)return;return e}has(e,o,t=!1){if(void 0===e)return!1;const n=Array.isArray(o)?o.slice():o.split("."),l=t?2:1;for(;e&&n.length>l;){e=e[n.shift()],this.refEditor.isRef(e)&&(e=this.refEditor.get(e))}return null!=e&&Object.prototype.hasOwnProperty.call(e,n[0])}createDefaultSetCallback(e){return(o,t,n)=>{if((e.remove||e.newKey)&&(Array.isArray(o)?o.splice(t,1):uo(o)instanceof Map?o.delete(t):uo(o)instanceof Set?o.delete(Array.from(o.values())[t]):Reflect.deleteProperty(o,t)),!e.remove){const l=o[e.newKey||t];this.refEditor.isRef(l)?this.refEditor.set(l,n):uo(o)instanceof Map?o.set(e.newKey||t,n):uo(o)instanceof Set?o.add(n):o[e.newKey||t]=n}}}},go=class{set(e,o){if(co(e))e.value=o;else{if(e instanceof Set&&Array.isArray(o))return e.clear(),void o.forEach(o=>e.add(o));const t=Object.keys(o);if(e instanceof Map){const n=new Set(e.keys());return t.forEach(t=>{e.set(t,Reflect.get(o,t)),n.delete(t)}),void n.forEach(o=>e.delete(o))}const n=new Set(Object.keys(e));t.forEach(t=>{Reflect.set(e,t,Reflect.get(o,t)),n.delete(t)}),n.forEach(o=>Reflect.deleteProperty(e,o))}}get(e){return co(e)?e.value:e}isRef(e){return co(e)||so(e)}};Oe(),Oe(),Oe();var fo;function ho(){if("undefined"==typeof window||!re||"undefined"==typeof localStorage||null===localStorage)return{recordingState:!1,mouseEventEnabled:!1,keyboardEventEnabled:!1,componentEventEnabled:!1,performanceEventEnabled:!1,selected:""};const e=void 0!==localStorage.getItem?localStorage.getItem("__VUE_DEVTOOLS_KIT_TIMELINE_LAYERS_STATE__"):null;return e?JSON.parse(e):{recordingState:!1,mouseEventEnabled:!1,keyboardEventEnabled:!1,componentEventEnabled:!1,performanceEventEnabled:!1,selected:""}}Oe(),Oe(),Oe(),null!=(fo=ie).__VUE_DEVTOOLS_KIT_TIMELINE_LAYERS||(fo.__VUE_DEVTOOLS_KIT_TIMELINE_LAYERS=[]);var mo,vo=new Proxy(ie.__VUE_DEVTOOLS_KIT_TIMELINE_LAYERS,{get:(e,o,t)=>Reflect.get(e,o,t)});null!=(mo=ie).__VUE_DEVTOOLS_KIT_INSPECTOR__||(mo.__VUE_DEVTOOLS_KIT_INSPECTOR__=[]);var wo,yo,bo,_o,Co,Eo=new Proxy(ie.__VUE_DEVTOOLS_KIT_INSPECTOR__,{get:(e,o,t)=>Reflect.get(e,o,t)}),ko=ge(()=>{gt.hooks.callHook("sendInspectorToClient",So())});function So(){return Eo.filter(e=>e.descriptor.app===No.value.app).filter(e=>"components"!==e.descriptor.id).map(e=>{var o;const t=e.descriptor,n=e.options;return{id:n.id,label:n.label,logo:t.logo,icon:`custom-ic-baseline-${null==(o=null==n?void 0:n.icon)?void 0:o.replace(/_/g,"-")}`,packageName:t.packageName,homepage:t.homepage,pluginId:t.id}})}function Io(e,o){return Eo.find(t=>t.options.id===e&&(!o||t.descriptor.app===o))}null!=(wo=ie).__VUE_DEVTOOLS_KIT_APP_RECORDS__||(wo.__VUE_DEVTOOLS_KIT_APP_RECORDS__=[]),null!=(yo=ie).__VUE_DEVTOOLS_KIT_ACTIVE_APP_RECORD__||(yo.__VUE_DEVTOOLS_KIT_ACTIVE_APP_RECORD__={}),null!=(bo=ie).__VUE_DEVTOOLS_KIT_ACTIVE_APP_RECORD_ID__||(bo.__VUE_DEVTOOLS_KIT_ACTIVE_APP_RECORD_ID__=""),null!=(_o=ie).__VUE_DEVTOOLS_KIT_CUSTOM_TABS__||(_o.__VUE_DEVTOOLS_KIT_CUSTOM_TABS__=[]),null!=(Co=ie).__VUE_DEVTOOLS_KIT_CUSTOM_COMMANDS__||(Co.__VUE_DEVTOOLS_KIT_CUSTOM_COMMANDS__=[]);var Ro,Ao="__VUE_DEVTOOLS_KIT_GLOBAL_STATE__";null!=(Ro=ie)[Ao]||(Ro[Ao]={connected:!1,clientConnected:!1,vitePluginDetected:!0,appRecords:[],activeAppRecordId:"",tabs:[],commands:[],highPerfModeEnabled:!0,devtoolsClientDetected:{},perfUniqueGroupId:0,timelineLayersState:ho()});var To=ge(e=>{gt.hooks.callHook("devtoolsStateUpdated",{state:e})});ge((e,o)=>{gt.hooks.callHook("devtoolsConnectedUpdated",{state:e,oldState:o})});var Oo=new Proxy(ie.__VUE_DEVTOOLS_KIT_APP_RECORDS__,{get:(e,o,t)=>"value"===o?ie.__VUE_DEVTOOLS_KIT_APP_RECORDS__:ie.__VUE_DEVTOOLS_KIT_APP_RECORDS__[o]}),No=new Proxy(ie.__VUE_DEVTOOLS_KIT_ACTIVE_APP_RECORD__,{get:(e,o,t)=>"value"===o?ie.__VUE_DEVTOOLS_KIT_ACTIVE_APP_RECORD__:"id"===o?ie.__VUE_DEVTOOLS_KIT_ACTIVE_APP_RECORD_ID__:ie.__VUE_DEVTOOLS_KIT_ACTIVE_APP_RECORD__[o]});function Vo(){To({...ie[Ao],appRecords:Oo.value,activeAppRecordId:No.id,tabs:ie.__VUE_DEVTOOLS_KIT_CUSTOM_TABS__,commands:ie.__VUE_DEVTOOLS_KIT_CUSTOM_COMMANDS__})}var xo,Do=new Proxy(ie[Ao],{get:(e,o)=>"appRecords"===o?Oo:"activeAppRecordId"===o?No.id:"tabs"===o?ie.__VUE_DEVTOOLS_KIT_CUSTOM_TABS__:"commands"===o?ie.__VUE_DEVTOOLS_KIT_CUSTOM_COMMANDS__:ie[Ao][o],deleteProperty:(e,o)=>(delete e[o],!0),set:(e,o,t)=>(ie[Ao],e[o]=t,ie[Ao][o]=t,!0)});function Po(e={}){var o,t,n;const{file:l,host:a,baseUrl:r=window.location.origin,line:i=0,column:s=0}=e;if(l)if("chrome-extension"===a){const e=l.replace(/\\/g,"\\\\"),n=null!=(t=null==(o=window.VUE_DEVTOOLS_CONFIG)?void 0:o.openInEditorHost)?t:"/";fetch(`${n}__open-in-editor?file=${encodeURI(l)}`).then(o=>{if(!o.ok){const o=`Opening component ${e} failed`;console.log(`%c${o}`,"color:red")}})}else if(Do.vitePluginDetected){const e=null!=(n=ie.__VUE_DEVTOOLS_OPEN_IN_EDITOR_BASE_URL__)?n:r;ie.__VUE_INSPECTOR__.openInEditor(e,l,i,s)}}Oe(),Oe(),Oe(),Oe(),Oe(),null!=(xo=ie).__VUE_DEVTOOLS_KIT_PLUGIN_BUFFER__||(xo.__VUE_DEVTOOLS_KIT_PLUGIN_BUFFER__=[]);var Ho,$o,Lo=new Proxy(ie.__VUE_DEVTOOLS_KIT_PLUGIN_BUFFER__,{get:(e,o,t)=>Reflect.get(e,o,t)});function Fo(e){const o={};return Object.keys(e).forEach(t=>{o[t]=e[t].defaultValue}),o}function Bo(e){return`__VUE_DEVTOOLS_NEXT_PLUGIN_SETTINGS__${e}__`}function Go(e){var o,t,n;const l=null!=(t=null==(o=Lo.find(o=>{var t;return o[0].id===e&&!!(null==(t=o[0])?void 0:t.settings)}))?void 0:o[0])?t:null;return null!=(n=null==l?void 0:l.settings)?n:null}function Uo(e,o){var t,n,l;const a=Bo(e);if(a){const e=localStorage.getItem(a);if(e)return JSON.parse(e)}if(e){const o=null!=(n=null==(t=Lo.find(o=>o[0].id===e))?void 0:t[0])?n:null;return Fo(null!=(l=null==o?void 0:o.settings)?l:{})}return Fo(o)}Oe(),Oe(),Oe(),Oe(),Oe(),Oe(),Oe(),Oe(),Oe(),Oe(),Oe();var Mo=null!=($o=(Ho=ie).__VUE_DEVTOOLS_HOOK)?$o:Ho.__VUE_DEVTOOLS_HOOK=_e(),jo={vueAppInit(e){Mo.hook("app:init",e)},vueAppUnmount(e){Mo.hook("app:unmount",e)},vueAppConnected(e){Mo.hook("app:connected",e)},componentAdded:e=>Mo.hook("component:added",e),componentEmit:e=>Mo.hook("component:emit",e),componentUpdated:e=>Mo.hook("component:updated",e),componentRemoved:e=>Mo.hook("component:removed",e),setupDevtoolsPlugin(e){Mo.hook("devtools-plugin:setup",e)},perfStart:e=>Mo.hook("perf:start",e),perfEnd:e=>Mo.hook("perf:end",e)},zo={on:jo,setupDevToolsPlugin:(e,o)=>Mo.callHook("devtools-plugin:setup",e,o)},Wo=class{constructor({plugin:e,ctx:o}){this.hooks=o.hooks,this.plugin=e}get on(){return{visitComponentTree:e=>{this.hooks.hook("visitComponentTree",e)},inspectComponent:e=>{this.hooks.hook("inspectComponent",e)},editComponentState:e=>{this.hooks.hook("editComponentState",e)},getInspectorTree:e=>{this.hooks.hook("getInspectorTree",e)},getInspectorState:e=>{this.hooks.hook("getInspectorState",e)},editInspectorState:e=>{this.hooks.hook("editInspectorState",e)},inspectTimelineEvent:e=>{this.hooks.hook("inspectTimelineEvent",e)},timelineCleared:e=>{this.hooks.hook("timelineCleared",e)},setPluginSettings:e=>{this.hooks.hook("setPluginSettings",e)}}}notifyComponentUpdate(e){var o;if(Do.highPerfModeEnabled)return;const t=So().find(e=>e.packageName===this.plugin.descriptor.packageName);if(null==t?void 0:t.id){if(e){const t=[e.appContext.app,e.uid,null==(o=e.parent)?void 0:o.uid,e];Mo.callHook("component:updated",...t)}else Mo.callHook("component:updated");this.hooks.callHook("sendInspectorState",{inspectorId:t.id,plugin:this.plugin})}}addInspector(e){this.hooks.callHook("addInspector",{inspector:e,plugin:this.plugin}),this.plugin.descriptor.settings&&function(e,o){const t=Bo(e);localStorage.getItem(t)||localStorage.setItem(t,JSON.stringify(Fo(o)))}(e.id,this.plugin.descriptor.settings)}sendInspectorTree(e){Do.highPerfModeEnabled||this.hooks.callHook("sendInspectorTree",{inspectorId:e,plugin:this.plugin})}sendInspectorState(e){Do.highPerfModeEnabled||this.hooks.callHook("sendInspectorState",{inspectorId:e,plugin:this.plugin})}selectInspectorNode(e,o){this.hooks.callHook("customInspectorSelectNode",{inspectorId:e,nodeId:o,plugin:this.plugin})}visitComponentTree(e){return this.hooks.callHook("visitComponentTree",e)}now(){return Do.highPerfModeEnabled?0:Date.now()}addTimelineLayer(e){this.hooks.callHook("timelineLayerAdded",{options:e,plugin:this.plugin})}addTimelineEvent(e){Do.highPerfModeEnabled||this.hooks.callHook("timelineEventAdded",{options:e,plugin:this.plugin})}getSettings(e){return Uo(null!=e?e:this.plugin.descriptor.id,this.plugin.descriptor.settings)}getComponentInstances(e){return this.hooks.callHook("getComponentInstances",{app:e})}getComponentBounds(e){return this.hooks.callHook("getComponentBounds",{instance:e})}getComponentName(e){return this.hooks.callHook("getComponentName",{instance:e})}highlightElement(e){const o=e.__VUE_DEVTOOLS_NEXT_UID__;return this.hooks.callHook("componentHighlight",{uid:o})}unhighlightElement(){return this.hooks.callHook("componentUnhighlight")}};Oe(),Oe(),Oe(),Oe();var Ko="__vue_devtool_undefined__",qo="__vue_devtool_infinity__",Yo="__vue_devtool_negative_infinity__",Jo="__vue_devtool_nan__";Oe(),Oe();var Xo,Zo={[Ko]:"undefined",[Jo]:"NaN",[qo]:"Infinity",[Yo]:"-Infinity"};function Qo(e,o){return zo.setupDevToolsPlugin(e,o)}function et(e,o){ie.__VUE_DEVTOOLS_KIT__REGISTERED_PLUGIN_APPS__.has(e)||Do.highPerfModeEnabled&&!(null==o?void 0:o.inspectingComponent)||(ie.__VUE_DEVTOOLS_KIT__REGISTERED_PLUGIN_APPS__.add(e),Lo.forEach(o=>{!function(e,o){const[t,n]=e;if(t.app!==o)return;const l=new Wo({plugin:{setupFn:n,descriptor:t},ctx:gt});"vuex"===t.packageName&&l.on.editInspectorState(e=>{l.sendInspectorState(e.inspectorId)}),n(l)}(o,e)}))}Object.entries(Zo).reduce((e,[o,t])=>(e[t]=o,e),{}),Oe(),Oe(),Oe(),Oe(),Oe(),null!=(Xo=ie).__VUE_DEVTOOLS_KIT__REGISTERED_PLUGIN_APPS__||(Xo.__VUE_DEVTOOLS_KIT__REGISTERED_PLUGIN_APPS__=/* @__PURE__ */new Set),Oe(),Oe();var ot,tt,nt,lt="__VUE_DEVTOOLS_ROUTER__",at="__VUE_DEVTOOLS_ROUTER_INFO__";function rt(e){return e.map(e=>{let{path:o,name:t,children:n,meta:l}=e;return(null==n?void 0:n.length)&&(n=rt(n)),{path:o,name:t,children:n,meta:l}})}function it(e,o){function t(){var o;const t=null==(o=e.app)?void 0:o.config.globalProperties.$router,n=function(e){if(e){const{fullPath:o,hash:t,href:n,path:l,name:a,matched:r,params:i,query:s}=e;return{fullPath:o,hash:t,href:n,path:l,name:a,params:i,query:s,matched:rt(r)}}return e}(null==t?void 0:t.currentRoute.value),l=rt(function(e){const o=/* @__PURE__ */new Map;return((null==e?void 0:e.getRoutes())||[]).filter(e=>!o.has(e.path)&&o.set(e.path,1))}(t)),a=console.warn;console.warn=()=>{},ie[at]={currentRoute:n?de(n):{},routes:de(l)},ie[lt]=t,console.warn=a}t(),zo.on.componentUpdated(ge(()=>{var n;(null==(n=o.value)?void 0:n.app)===e.app&&(t(),Do.highPerfModeEnabled||gt.hooks.callHook("routerInfoUpdated",{state:ie[at]}))},200))}null!=(ot=ie)[at]||(ot[at]={currentRoute:null,routes:[]}),null!=(tt=ie)[lt]||(tt[lt]={}),new Proxy(ie[at],{get:(e,o)=>ie[at][o]}),new Proxy(ie[lt],{get(e,o){if("value"===o)return ie[lt]}}),Oe(),null!=(nt=ie).__VUE_DEVTOOLS_ENV__||(nt.__VUE_DEVTOOLS_ENV__={vitePluginDetected:!1});var st,ct,ut=function(){const e=_e();e.hook("addInspector",({inspector:e,plugin:o})=>{!function(e,o){var t,n;Eo.push({options:e,descriptor:o,treeFilterPlaceholder:null!=(t=e.treeFilterPlaceholder)?t:"Search tree...",stateFilterPlaceholder:null!=(n=e.stateFilterPlaceholder)?n:"Search state...",treeFilter:"",selectedNodeId:"",appRecord:Pe(o.app)}),ko()}(e,o.descriptor)});const o=ge(async({inspectorId:o,plugin:t})=>{var n;if(!o||!(null==(n=null==t?void 0:t.descriptor)?void 0:n.app)||Do.highPerfModeEnabled)return;const l=Io(o,t.descriptor.app),a={app:t.descriptor.app,inspectorId:o,filter:(null==l?void 0:l.treeFilter)||"",rootNodes:[]};await new Promise(o=>{e.callHookWith(async e=>{await Promise.all(e.map(e=>e(a))),o()},"getInspectorTree")}),e.callHookWith(async e=>{await Promise.all(e.map(e=>e({inspectorId:o,rootNodes:a.rootNodes})))},"sendInspectorTreeToClient")},120);e.hook("sendInspectorTree",o);const t=ge(async({inspectorId:o,plugin:t})=>{var n;if(!o||!(null==(n=null==t?void 0:t.descriptor)?void 0:n.app)||Do.highPerfModeEnabled)return;const l=Io(o,t.descriptor.app),a={app:t.descriptor.app,inspectorId:o,nodeId:(null==l?void 0:l.selectedNodeId)||"",state:null},r={currentTab:`custom-inspector:${o}`};a.nodeId&&await new Promise(o=>{e.callHookWith(async e=>{await Promise.all(e.map(e=>e(a,r))),o()},"getInspectorState")}),e.callHookWith(async e=>{await Promise.all(e.map(e=>e({inspectorId:o,nodeId:a.nodeId,state:a.state})))},"sendInspectorStateToClient")},120);return e.hook("sendInspectorState",t),e.hook("customInspectorSelectNode",({inspectorId:e,nodeId:o,plugin:t})=>{const n=Io(e,t.descriptor.app);n&&(n.selectedNodeId=o)}),e.hook("timelineLayerAdded",({options:e,plugin:o})=>{!function(e,o){Do.timelineLayersState[o.id]=!1,vo.push({...e,descriptorId:o.id,appRecord:Pe(o.app)})}(e,o.descriptor)}),e.hook("timelineEventAdded",({options:o,plugin:t})=>{var n;Do.highPerfModeEnabled||!(null==(n=Do.timelineLayersState)?void 0:n[t.descriptor.id])&&!["performance","component-event","keyboard","mouse"].includes(o.layerId)||e.callHookWith(async e=>{await Promise.all(e.map(e=>e(o)))},"sendTimelineEventToClient")}),e.hook("getComponentInstances",async({app:e})=>{const o=e.__VUE_DEVTOOLS_NEXT_APP_RECORD__;if(!o)return null;const t=o.id.toString();return[...o.instanceMap].filter(([e])=>e.split(":")[0]===t).map(([,e])=>e)}),e.hook("getComponentBounds",async({instance:e})=>Ue(e)),e.hook("getComponentName",({instance:e})=>$e(e)),e.hook("componentHighlight",({uid:e})=>{const o=No.value.instanceMap.get(e);o&&function(e){const o=Ue(e);if(!o.width&&!o.height)return;const t=$e(e);Xe()?eo({bounds:o,name:t}):Qe({bounds:o,name:t})}(o)}),e.hook("componentUnhighlight",()=>{oo()}),e}();null!=(st=ie).__VUE_DEVTOOLS_KIT_CONTEXT__||(st.__VUE_DEVTOOLS_KIT_CONTEXT__={hooks:ut,get state(){return{...Do,activeAppRecordId:No.id,activeAppRecord:No.value,appRecords:Oo.value}},api:(ct=ut,{async getInspectorTree(e){const o={...e,app:No.value.app,rootNodes:[]};return await new Promise(e=>{ct.callHookWith(async t=>{await Promise.all(t.map(e=>e(o))),e()},"getInspectorTree")}),o.rootNodes},async getInspectorState(e){const o={...e,app:No.value.app,state:null},t={currentTab:`custom-inspector:${e.inspectorId}`};return await new Promise(e=>{ct.callHookWith(async n=>{await Promise.all(n.map(e=>e(o,t))),e()},"getInspectorState")}),o.state},editInspectorState(e){const o=new po,t={...e,app:No.value.app,set:(t,n=e.path,l=e.state.value,a)=>{o.set(t,n,l,a||o.createDefaultSetCallback(e.state))}};ct.callHookWith(e=>{e.forEach(e=>e(t))},"editInspectorState")},sendInspectorState(e){const o=Io(e);ct.callHook("sendInspectorState",{inspectorId:e,plugin:{descriptor:o.descriptor,setupFn:()=>({})}})},inspectComponentInspector:()=>ro(),cancelInspectComponentInspector:()=>(oo(),window.removeEventListener("mouseover",no),window.removeEventListener("click",ao,!0),void(ao=null)),getComponentRenderCode(e){const o=Le(No.value,e);if(o)return"function"!=typeof(null==o?void 0:o.type)?o.render.toString():o.type.toString()},scrollToComponent:e=>function(e){const o=Le(No.value,e.id);if(o){const[t]=Me(o);if("function"==typeof t.scrollIntoView)t.scrollIntoView({behavior:"smooth"});else{const e=Ue(o),t=document.createElement("div"),n={...Ze(e),position:"absolute"};Object.assign(t.style,n),document.body.appendChild(t),t.scrollIntoView({behavior:"smooth"}),setTimeout(()=>{document.body.removeChild(t)},2e3)}setTimeout(()=>{const t=Ue(o);if(t.width||t.height){const n=$e(o),l=Xe();l?eo({...e,name:n,bounds:t}):Qe({...e,name:n,bounds:t}),setTimeout(()=>{l&&(l.style.display="none")},1500)}},1200)}}({id:e}),openInEditor:Po,getVueInspector:io,toggleApp(e,o){const t=Oo.value.find(o=>o.id===e);var n;t&&(function(e){ie.__VUE_DEVTOOLS_KIT_ACTIVE_APP_RECORD_ID__=e,Vo()}(e),n=t,ie.__VUE_DEVTOOLS_KIT_ACTIVE_APP_RECORD__=n,Vo(),it(t,No),ko(),et(t.app,o))},inspectDOM(e){const o=Le(No.value,e);if(o){const[e]=Me(o);e&&(ie.__VUE_DEVTOOLS_INSPECT_DOM_TARGET__=e)}},updatePluginSettings(e,o,t){!function(e,o,t){const n=Bo(e),l=localStorage.getItem(n),a=JSON.parse(l||"{}"),r={...a,[o]:t};localStorage.setItem(n,JSON.stringify(r)),gt.hooks.callHookWith(n=>{n.forEach(n=>n({pluginId:e,key:o,oldValue:a[o],newValue:t,settings:r}))},"setPluginSettings")}(e,o,t)},getPluginSettings:e=>({options:Go(e),values:Uo(e)})})});var dt,pt,gt=ie.__VUE_DEVTOOLS_KIT_CONTEXT__;Oe(),((e,o,t)=>{t=null!=e?Ee(Re(e)):{},((e,o,t,n)=>{if(o&&"object"==typeof o||"function"==typeof o)for(let l of Ie(o))Ae.call(e,l)||l===t||ke(e,l,{get:()=>o[l],enumerable:!(n=Se(o,l))||n.enumerable})})(ke(t,"default",{value:e,enumerable:!0}),e)})(Ve()),null!=(dt=ie).__VUE_DEVTOOLS_NEXT_APP_RECORD_INFO__||(dt.__VUE_DEVTOOLS_NEXT_APP_RECORD_INFO__={id:0,appIds:/* @__PURE__ */new Set}),Oe(),Oe(),Oe(),Oe(),Oe(),null!=(pt=ie).__VUE_DEVTOOLS_UPDATE_CLIENT_DETECTED__||(pt.__VUE_DEVTOOLS_UPDATE_CLIENT_DETECTED__=function(e){Do.devtoolsClientDetected={...Do.devtoolsClientDetected,...e};const o=Object.values(Do.devtoolsClientDetected).some(Boolean);var t;t=!o,Do.highPerfModeEnabled=null!=t?t:!Do.highPerfModeEnabled,!t&&No.value&&et(No.value.app)}),Oe(),Oe(),Oe(),Oe(),Oe(),Oe(),Oe();var ft=class{constructor(){this.keyToValue=/* @__PURE__ */new Map,this.valueToKey=/* @__PURE__ */new Map}set(e,o){this.keyToValue.set(e,o),this.valueToKey.set(o,e)}getByKey(e){return this.keyToValue.get(e)}getByValue(e){return this.valueToKey.get(e)}clear(){this.keyToValue.clear(),this.valueToKey.clear()}},ht=class{constructor(e){this.generateIdentifier=e,this.kv=new ft}register(e,o){this.kv.getByValue(e)||(o||(o=this.generateIdentifier(e)),this.kv.set(o,e))}clear(){this.kv.clear()}getIdentifier(e){return this.kv.getByValue(e)}getValue(e){return this.kv.getByKey(e)}},mt=class extends ht{constructor(){super(e=>e.name),this.classToAllowedProps=/* @__PURE__ */new Map}register(e,o){"object"==typeof o?(o.allowProps&&this.classToAllowedProps.set(e,o.allowProps),super.register(e,o.identifier)):super.register(e,o)}getAllowedProps(e){return this.classToAllowedProps.get(e)}};function vt(e,o){const t=function(e){if("values"in Object)return Object.values(e);const o=[];for(const t in e)e.hasOwnProperty(t)&&o.push(e[t]);return o}(e);if("find"in t)return t.find(o);const n=t;for(let l=0;l<n.length;l++){const e=n[l];if(o(e))return e}}function wt(e,o){Object.entries(e).forEach(([e,t])=>o(t,e))}function yt(e,o){return-1!==e.indexOf(o)}function bt(e,o){for(let t=0;t<e.length;t++){const n=e[t];if(o(n))return n}}Oe(),Oe();var _t=class{constructor(){this.transfomers={}}register(e){this.transfomers[e.name]=e}findApplicable(e){return vt(this.transfomers,o=>o.isApplicable(e))}findByName(e){return this.transfomers[e]}};Oe(),Oe();var Ct=e=>void 0===e,Et=e=>"object"==typeof e&&null!==e&&(e!==Object.prototype&&(null===Object.getPrototypeOf(e)||Object.getPrototypeOf(e)===Object.prototype)),kt=e=>Et(e)&&0===Object.keys(e).length,St=e=>Array.isArray(e),It=e=>e instanceof Map,Rt=e=>e instanceof Set,At=e=>"Symbol"===(e=>Object.prototype.toString.call(e).slice(8,-1))(e),Tt=e=>"number"==typeof e&&isNaN(e),Ot=e=>(e=>"boolean"==typeof e)(e)||(e=>null===e)(e)||Ct(e)||(e=>"number"==typeof e&&!isNaN(e))(e)||(e=>"string"==typeof e)(e)||At(e);Oe();var Nt=e=>e.replace(/\./g,"\\."),Vt=e=>e.map(String).map(Nt).join("."),xt=e=>{const o=[];let t="";for(let l=0;l<e.length;l++){let n=e.charAt(l);if("\\"===n&&"."===e.charAt(l+1)){t+=".",l++;continue}"."===n?(o.push(t),t=""):t+=n}const n=t;return o.push(n),o};function Dt(e,o,t,n){return{isApplicable:e,annotation:o,transform:t,untransform:n}}Oe();var Pt=[Dt(Ct,"undefined",()=>null,()=>{}),Dt(e=>"bigint"==typeof e,"bigint",e=>e.toString(),e=>"undefined"!=typeof BigInt?BigInt(e):(console.error("Please add a BigInt polyfill."),e)),Dt(e=>e instanceof Date&&!isNaN(e.valueOf()),"Date",e=>e.toISOString(),e=>new Date(e)),Dt(e=>e instanceof Error,"Error",(e,o)=>{const t={name:e.name,message:e.message};return o.allowedErrorProps.forEach(o=>{t[o]=e[o]}),t},(e,o)=>{const t=new Error(e.message);return t.name=e.name,t.stack=e.stack,o.allowedErrorProps.forEach(o=>{t[o]=e[o]}),t}),Dt(e=>e instanceof RegExp,"regexp",e=>""+e,e=>{const o=e.slice(1,e.lastIndexOf("/")),t=e.slice(e.lastIndexOf("/")+1);return new RegExp(o,t)}),Dt(Rt,"set",e=>[...e.values()],e=>new Set(e)),Dt(It,"map",e=>[...e.entries()],e=>new Map(e)),Dt(e=>{return Tt(e)||((o=e)===1/0||o===-1/0);var o},"number",e=>Tt(e)?"NaN":e>0?"Infinity":"-Infinity",Number),Dt(e=>0===e&&1/e==-1/0,"number",()=>"-0",Number),Dt(e=>e instanceof URL,"URL",e=>e.toString(),e=>new URL(e))];function Ht(e,o,t,n){return{isApplicable:e,annotation:o,transform:t,untransform:n}}var $t=Ht((e,o)=>{if(At(e)){return!!o.symbolRegistry.getIdentifier(e)}return!1},(e,o)=>["symbol",o.symbolRegistry.getIdentifier(e)],e=>e.description,(e,o,t)=>{const n=t.symbolRegistry.getValue(o[1]);if(!n)throw new Error("Trying to deserialize unknown symbol");return n}),Lt=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,Uint8ClampedArray].reduce((e,o)=>(e[o.name]=o,e),{}),Ft=Ht(e=>ArrayBuffer.isView(e)&&!(e instanceof DataView),e=>["typed-array",e.constructor.name],e=>[...e],(e,o)=>{const t=Lt[o[1]];if(!t)throw new Error("Trying to deserialize unknown typed array");return new t(e)});function Bt(e,o){if(null==e?void 0:e.constructor){return!!o.classRegistry.getIdentifier(e.constructor)}return!1}var Gt=Ht(Bt,(e,o)=>["class",o.classRegistry.getIdentifier(e.constructor)],(e,o)=>{const t=o.classRegistry.getAllowedProps(e.constructor);if(!t)return{...e};const n={};return t.forEach(o=>{n[o]=e[o]}),n},(e,o,t)=>{const n=t.classRegistry.getValue(o[1]);if(!n)throw new Error(`Trying to deserialize unknown class '${o[1]}' - check https://github.com/blitz-js/superjson/issues/116#issuecomment-773996564`);return Object.assign(Object.create(n.prototype),e)}),Ut=Ht((e,o)=>!!o.customTransformerRegistry.findApplicable(e),(e,o)=>["custom",o.customTransformerRegistry.findApplicable(e).name],(e,o)=>o.customTransformerRegistry.findApplicable(e).serialize(e),(e,o,t)=>{const n=t.customTransformerRegistry.findByName(o[1]);if(!n)throw new Error("Trying to deserialize unknown custom value");return n.deserialize(e)}),Mt=[Gt,$t,Ut,Ft],jt=(e,o)=>{const t=bt(Mt,t=>t.isApplicable(e,o));if(t)return{value:t.transform(e,o),type:t.annotation(e,o)};const n=bt(Pt,t=>t.isApplicable(e,o));return n?{value:n.transform(e,o),type:n.annotation}:void 0},zt={};Pt.forEach(e=>{zt[e.annotation]=e});Oe();var Wt=(e,o)=>{if(o>e.size)throw new Error("index out of bounds");const t=e.keys();for(;o>0;)t.next(),o--;return t.next().value};function Kt(e){if(yt(e,"__proto__"))throw new Error("__proto__ is not allowed as a property");if(yt(e,"prototype"))throw new Error("prototype is not allowed as a property");if(yt(e,"constructor"))throw new Error("constructor is not allowed as a property")}var qt=(e,o,t)=>{if(Kt(o),0===o.length)return t(e);let n=e;for(let a=0;a<o.length-1;a++){const e=o[a];if(St(n)){n=n[+e]}else if(Et(n))n=n[e];else if(Rt(n)){n=Wt(n,+e)}else if(It(n)){if(a===o.length-2)break;const t=+e,l=0===+o[++a]?"key":"value",r=Wt(n,t);switch(l){case"key":n=r;break;case"value":n=n.get(r)}}}const l=o[o.length-1];if(St(n)?n[+l]=t(n[+l]):Et(n)&&(n[l]=t(n[l])),Rt(n)){const e=Wt(n,+l),o=t(e);e!==o&&(n.delete(e),n.add(o))}if(It(n)){const e=+o[o.length-2],a=Wt(n,e);switch(0===+l?"key":"value"){case"key":{const e=t(a);n.set(e,n.get(a)),e!==a&&n.delete(a);break}case"value":n.set(a,t(n.get(a)))}}return e};function Yt(e,o,t=[]){if(!e)return;if(!St(e))return void wt(e,(e,n)=>Yt(e,o,[...t,...xt(n)]));const[n,l]=e;l&&wt(l,(e,n)=>{Yt(e,o,[...t,...xt(n)])}),o(n,t)}function Jt(e,o,t){return Yt(o,(o,n)=>{e=qt(e,n,e=>((e,o,t)=>{if(!St(o)){const n=zt[o];if(!n)throw new Error("Unknown transformation: "+o);return n.untransform(e,t)}switch(o[0]){case"symbol":return $t.untransform(e,o,t);case"class":return Gt.untransform(e,o,t);case"custom":return Ut.untransform(e,o,t);case"typed-array":return Ft.untransform(e,o,t);default:throw new Error("Unknown transformation: "+o)}})(e,o,t))}),e}function Xt(e,o){function t(o,t){const n=((e,o)=>{Kt(o);for(let t=0;t<o.length;t++){const n=o[t];if(Rt(e))e=Wt(e,+n);else if(It(e)){const l=+n,a=0===+o[++t]?"key":"value",r=Wt(e,l);switch(a){case"key":e=r;break;case"value":e=e.get(r)}}else e=e[n]}return e})(e,xt(t));o.map(xt).forEach(o=>{e=qt(e,o,()=>n)})}if(St(o)){const[n,l]=o;n.forEach(o=>{e=qt(e,xt(o),()=>e)}),l&&wt(l,t)}else wt(o,t);return e}var Zt=(e,o,t,n,l=[],a=[],r=/* @__PURE__ */new Map)=>{var i;const s=Ot(e);if(!s){!function(e,o,t){const n=t.get(e);n?n.push(o):t.set(e,[o])}(e,l,o);const t=r.get(e);if(t)return n?{transformedValue:null}:t}if(!((e,o)=>Et(e)||St(e)||It(e)||Rt(e)||Bt(e,o))(e,t)){const o=jt(e,t),n=o?{transformedValue:o.value,annotations:[o.type]}:{transformedValue:e};return s||r.set(e,n),n}if(yt(a,e))return{transformedValue:null};const c=jt(e,t),u=null!=(i=null==c?void 0:c.value)?i:e,d=St(u)?[]:{},p={};wt(u,(i,s)=>{if("__proto__"===s||"constructor"===s||"prototype"===s)throw new Error(`Detected property ${s}. This is a prototype pollution risk, please remove it from your object.`);const c=Zt(i,o,t,n,[...l,s],[...a,e],r);d[s]=c.transformedValue,St(c.annotations)?p[s]=c.annotations:Et(c.annotations)&&wt(c.annotations,(e,o)=>{p[Nt(s)+"."+o]=e})});const g=kt(p)?{transformedValue:d,annotations:c?[c.type]:void 0}:{transformedValue:d,annotations:c?[c.type,p]:p};return s||r.set(e,g),g};function Qt(e){return Object.prototype.toString.call(e).slice(8,-1)}function en(e){return"Array"===Qt(e)}function on(e,o={}){if(en(e))return e.map(e=>on(e,o));if(!function(e){if("Object"!==Qt(e))return!1;const o=Object.getPrototypeOf(e);return!!o&&o.constructor===Object&&o===Object.prototype}(e))return e;return[...Object.getOwnPropertyNames(e),...Object.getOwnPropertySymbols(e)].reduce((t,n)=>{if(en(o.props)&&!o.props.includes(n))return t;return function(e,o,t,n,l){const a={}.propertyIsEnumerable.call(n,o)?"enumerable":"nonenumerable";"enumerable"===a&&(e[o]=t),l&&"nonenumerable"===a&&Object.defineProperty(e,o,{value:t,enumerable:!1,writable:!0,configurable:!0})}(t,n,on(e[n],o),e,o.nonenumerable),t},{})}Oe(),Oe();var tn,nn,ln,an,rn,sn,cn=class{constructor({dedupe:e=!1}={}){this.classRegistry=new mt,this.symbolRegistry=new ht(e=>{var o;return null!=(o=e.description)?o:""}),this.customTransformerRegistry=new _t,this.allowedErrorProps=[],this.dedupe=e}serialize(e){const o=/* @__PURE__ */new Map,t=Zt(e,o,this,this.dedupe),n={json:t.transformedValue};t.annotations&&(n.meta={...n.meta,values:t.annotations});const l=function(e,o){const t={};let n;return e.forEach(e=>{if(e.length<=1)return;o||(e=e.map(e=>e.map(String)).sort((e,o)=>e.length-o.length));const[l,...a]=e;0===l.length?n=a.map(Vt):t[Vt(l)]=a.map(Vt)}),n?kt(t)?[n]:[n,t]:kt(t)?void 0:t}(o,this.dedupe);return l&&(n.meta={...n.meta,referentialEqualities:l}),n}deserialize(e){const{json:o,meta:t}=e;let n=on(o);return(null==t?void 0:t.values)&&(n=Jt(n,t.values,this)),(null==t?void 0:t.referentialEqualities)&&(n=Xt(n,t.referentialEqualities)),n}stringify(e){return JSON.stringify(this.serialize(e))}parse(e){return this.deserialize(JSON.parse(e))}registerClass(e,o){this.classRegistry.register(e,o)}registerSymbol(e,o){this.symbolRegistry.register(e,o)}registerCustom(e,o){this.customTransformerRegistry.register({name:o,...e})}allowErrorProps(...e){this.allowedErrorProps.push(...e)}};cn.defaultInstance=new cn,cn.serialize=cn.defaultInstance.serialize.bind(cn.defaultInstance),cn.deserialize=cn.defaultInstance.deserialize.bind(cn.defaultInstance),cn.stringify=cn.defaultInstance.stringify.bind(cn.defaultInstance),cn.parse=cn.defaultInstance.parse.bind(cn.defaultInstance),cn.registerClass=cn.defaultInstance.registerClass.bind(cn.defaultInstance),cn.registerSymbol=cn.defaultInstance.registerSymbol.bind(cn.defaultInstance),cn.registerCustom=cn.defaultInstance.registerCustom.bind(cn.defaultInstance),cn.allowErrorProps=cn.defaultInstance.allowErrorProps.bind(cn.defaultInstance),Oe(),Oe(),Oe(),Oe(),Oe(),Oe(),Oe(),Oe(),Oe(),Oe(),Oe(),Oe(),Oe(),Oe(),Oe(),Oe(),Oe(),Oe(),Oe(),Oe(),Oe(),Oe(),Oe(),null!=(tn=ie).__VUE_DEVTOOLS_KIT_MESSAGE_CHANNELS__||(tn.__VUE_DEVTOOLS_KIT_MESSAGE_CHANNELS__=[]),null!=(nn=ie).__VUE_DEVTOOLS_KIT_RPC_CLIENT__||(nn.__VUE_DEVTOOLS_KIT_RPC_CLIENT__=null),null!=(ln=ie).__VUE_DEVTOOLS_KIT_RPC_SERVER__||(ln.__VUE_DEVTOOLS_KIT_RPC_SERVER__=null),null!=(an=ie).__VUE_DEVTOOLS_KIT_VITE_RPC_CLIENT__||(an.__VUE_DEVTOOLS_KIT_VITE_RPC_CLIENT__=null),null!=(rn=ie).__VUE_DEVTOOLS_KIT_VITE_RPC_SERVER__||(rn.__VUE_DEVTOOLS_KIT_VITE_RPC_SERVER__=null),null!=(sn=ie).__VUE_DEVTOOLS_KIT_BROADCAST_RPC_SERVER__||(sn.__VUE_DEVTOOLS_KIT_BROADCAST_RPC_SERVER__=null),Oe(),Oe(),Oe(),Oe(),Oe(),Oe(),Oe();const un="undefined"!=typeof window;let dn;const pn=e=>dn=e,gn="production"!==process.env.NODE_ENV?()=>{const t=e()&&o(fn);return t||un||console.error('[🍍]: Pinia instance not found in context. This falls back to the global activePinia which exposes you to cross-request pollution on the server. Most of the time, it means you are calling "useStore()" in the wrong place.\nRead https://vuejs.org/guide/reusability/composables.html to learn more'),t||dn}:()=>e()&&o(fn)||dn,fn="production"!==process.env.NODE_ENV?/* @__PURE__ */Symbol("pinia"):
/* @__PURE__ */Symbol();function hn(e){return e&&"object"==typeof e&&"[object Object]"===Object.prototype.toString.call(e)&&"function"!=typeof e.toJSON}var mn,vn;(vn=mn||(mn={})).direct="direct",vn.patchObject="patch object",vn.patchFunction="patch function";const wn=/* @__PURE__ */(()=>"object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:"object"==typeof globalThis?globalThis:{HTMLElement:null})();function yn(e,o,t){const n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){kn(n.response,o,t)},n.onerror=function(){console.error("could not download file")},n.send()}function bn(e){const o=new XMLHttpRequest;o.open("HEAD",e,!1);try{o.send()}catch(t){}return o.status>=200&&o.status<=299}function _n(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(o){const t=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window,detail:0,screenX:80,screenY:20,clientX:80,clientY:20,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,button:0,relatedTarget:null});e.dispatchEvent(t)}}const Cn="object"==typeof navigator?navigator:{userAgent:""},En=/* @__PURE__ */(()=>/Macintosh/.test(Cn.userAgent)&&/AppleWebKit/.test(Cn.userAgent)&&!/Safari/.test(Cn.userAgent))(),kn=un?"undefined"!=typeof HTMLAnchorElement&&"download"in HTMLAnchorElement.prototype&&!En?function(e,o="download",t){const n=document.createElement("a");n.download=o,n.rel="noopener","string"==typeof e?(n.href=e,n.origin!==location.origin?bn(n.href)?yn(e,o,t):(n.target="_blank",_n(n)):_n(n)):(n.href=URL.createObjectURL(e),setTimeout(function(){URL.revokeObjectURL(n.href)},4e4),setTimeout(function(){_n(n)},0))}:"msSaveOrOpenBlob"in Cn?function(e,o="download",t){if("string"==typeof e)if(bn(e))yn(e,o,t);else{const o=document.createElement("a");o.href=e,o.target="_blank",setTimeout(function(){_n(o)})}else navigator.msSaveOrOpenBlob(function(e,{autoBom:o=!1}={}){return o&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e}(e,t),o)}:function(e,o,t,n){(n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading...");if("string"==typeof e)return yn(e,o,t);const l="application/octet-stream"===e.type,a=/constructor/i.test(String(wn.HTMLElement))||"safari"in wn,r=/CriOS\/[\d]+/.test(navigator.userAgent);if((r||l&&a||En)&&"undefined"!=typeof FileReader){const o=new FileReader;o.onloadend=function(){let e=o.result;if("string"!=typeof e)throw n=null,new Error("Wrong reader.result type");e=r?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=e:location.assign(e),n=null},o.readAsDataURL(e)}else{const o=URL.createObjectURL(e);n?n.location.assign(o):location.href=o,n=null,setTimeout(function(){URL.revokeObjectURL(o)},4e4)}}:()=>{};function Sn(e,o){const t="🍍 "+e;"function"==typeof __VUE_DEVTOOLS_TOAST__?__VUE_DEVTOOLS_TOAST__(t,o):"error"===o?console.error(t):"warn"===o?console.warn(t):console.log(t)}function In(e){return"_a"in e&&"install"in e}function Rn(){if(!("clipboard"in navigator))return Sn("Your browser doesn't support the Clipboard API","error"),!0}function An(e){return!!(e instanceof Error&&e.message.toLowerCase().includes("document is not focused"))&&(Sn('You need to activate the "Emulate a focused page" setting in the "Rendering" panel of devtools.',"warn"),!0)}let Tn;async function On(e){try{const o=(Tn||(Tn=document.createElement("input"),Tn.type="file",Tn.accept=".json"),function(){return new Promise((e,o)=>{Tn.onchange=async()=>{const o=Tn.files;if(!o)return e(null);const t=o.item(0);return e(t?{text:await t.text(),file:t}:null)},Tn.oncancel=()=>e(null),Tn.onerror=o,Tn.click()})}),t=await o();if(!t)return;const{text:n,file:l}=t;Nn(e,JSON.parse(n)),Sn(`Global state imported from "${l.name}".`)}catch(o){Sn("Failed to import the state from JSON. Check the console for more details.","error"),console.error(o)}}function Nn(e,o){for(const t in o){const n=e.state.value[t];n?Object.assign(n,o[t]):e.state.value[t]=o[t]}}function Vn(e){return{_custom:{display:e}}}const xn="🍍 Pinia (root)",Dn="_root";function Pn(e){return In(e)?{id:Dn,label:xn}:{id:e.$id,label:e.$id}}function Hn(e){return e?Array.isArray(e)?e.reduce((e,o)=>(e.keys.push(o.key),e.operations.push(o.type),e.oldValue[o.key]=o.oldValue,e.newValue[o.key]=o.newValue,e),{oldValue:{},keys:[],operations:[],newValue:{}}):{operation:Vn(e.type),key:Vn(e.key),oldValue:e.oldValue,newValue:e.newValue}:{}}function $n(e){switch(e){case mn.direct:return"mutation";case mn.patchFunction:case mn.patchObject:return"$patch";default:return"unknown"}}let Ln=!0;const Fn=[],Bn="pinia:mutations",Gn="pinia",{assign:Un}=Object,Mn=e=>"🍍 "+e;function jn(e,o){Qo({id:"dev.esm.pinia",label:"Pinia 🍍",logo:"https://pinia.vuejs.org/logo.svg",packageName:"pinia",homepage:"https://pinia.vuejs.org",componentStateTypes:Fn,app:e},t=>{"function"!=typeof t.now&&Sn("You seem to be using an outdated version of Vue Devtools. Are you still using the Beta release instead of the stable one? You can find the links at https://devtools.vuejs.org/guide/installation.html."),t.addTimelineLayer({id:Bn,label:"Pinia 🍍",color:15064968}),t.addInspector({id:Gn,label:"Pinia 🍍",icon:"storage",treeFilterPlaceholder:"Search stores",actions:[{icon:"content_copy",action:()=>{!async function(e){if(!Rn())try{await navigator.clipboard.writeText(JSON.stringify(e.state.value)),Sn("Global state copied to clipboard.")}catch(o){if(An(o))return;Sn("Failed to serialize the state. Check the console for more details.","error"),console.error(o)}}(o)},tooltip:"Serialize and copy the state"},{icon:"content_paste",action:async()=>{await async function(e){if(!Rn())try{Nn(e,JSON.parse(await navigator.clipboard.readText())),Sn("Global state pasted from clipboard.")}catch(o){if(An(o))return;Sn("Failed to deserialize the state from clipboard. Check the console for more details.","error"),console.error(o)}}(o),t.sendInspectorTree(Gn),t.sendInspectorState(Gn)},tooltip:"Replace the state with the content of your clipboard"},{icon:"save",action:()=>{!async function(e){try{kn(new Blob([JSON.stringify(e.state.value)],{type:"text/plain;charset=utf-8"}),"pinia-state.json")}catch(o){Sn("Failed to export the state as JSON. Check the console for more details.","error"),console.error(o)}}(o)},tooltip:"Save the state as a JSON file"},{icon:"folder_open",action:async()=>{await On(o),t.sendInspectorTree(Gn),t.sendInspectorState(Gn)},tooltip:"Import the state from a JSON file"}],nodeActions:[{icon:"restore",tooltip:'Reset the state (with "$reset")',action:e=>{const t=o._s.get(e);t?"function"!=typeof t.$reset?Sn(`Cannot reset "${e}" store because it doesn't have a "$reset" method implemented.`,"warn"):(t.$reset(),Sn(`Store "${e}" reset.`)):Sn(`Cannot reset "${e}" store because it wasn't found.`,"warn")}}]}),t.on.inspectComponent(e=>{const o=e.componentInstance&&e.componentInstance.proxy;if(o&&o._pStores){const o=e.componentInstance.proxy._pStores;Object.values(o).forEach(o=>{e.instanceData.state.push({type:Mn(o.$id),key:"state",editable:!0,value:o._isOptionsAPI?{_custom:{value:a(o.$state),actions:[{icon:"restore",tooltip:"Reset the state of this store",action:()=>o.$reset()}]}}:Object.keys(o.$state).reduce((e,t)=>(e[t]=o.$state[t],e),{})}),o._getters&&o._getters.length&&e.instanceData.state.push({type:Mn(o.$id),key:"getters",editable:!1,value:o._getters.reduce((e,t)=>{try{e[t]=o[t]}catch(n){e[t]=n}return e},{})})})}}),t.on.getInspectorTree(t=>{if(t.app===e&&t.inspectorId===Gn){let e=[o];e=e.concat(Array.from(o._s.values())),t.rootNodes=(t.filter?e.filter(e=>"$id"in e?e.$id.toLowerCase().includes(t.filter.toLowerCase()):xn.toLowerCase().includes(t.filter.toLowerCase())):e).map(Pn)}}),globalThis.$pinia=o,t.on.getInspectorState(t=>{if(t.app===e&&t.inspectorId===Gn){const e=t.nodeId===Dn?o:o._s.get(t.nodeId);if(!e)return;e&&(t.nodeId!==Dn&&(globalThis.$store=a(e)),t.state=function(e){if(In(e)){const o=Array.from(e._s.keys()),t=e._s;return{state:o.map(o=>({editable:!0,key:o,value:e.state.value[o]})),getters:o.filter(e=>t.get(e)._getters).map(e=>{const o=t.get(e);return{editable:!1,key:e,value:o._getters.reduce((e,t)=>(e[t]=o[t],e),{})}})}}const o={state:Object.keys(e.$state).map(o=>({editable:!0,key:o,value:e.$state[o]}))};return e._getters&&e._getters.length&&(o.getters=e._getters.map(o=>({editable:!1,key:o,value:e[o]}))),e._customProperties.size&&(o.customProperties=Array.from(e._customProperties).map(o=>({editable:!0,key:o,value:e[o]}))),o}(e))}}),t.on.editInspectorState(t=>{if(t.app===e&&t.inspectorId===Gn){const e=t.nodeId===Dn?o:o._s.get(t.nodeId);if(!e)return Sn(`store "${t.nodeId}" not found`,"error");const{path:n}=t;In(e)?n.unshift("state"):1===n.length&&e._customProperties.has(n[0])&&!(n[0]in e.$state)||n.unshift("$state"),Ln=!1,t.set(e,n,t.state.value),Ln=!0}}),t.on.editComponentState(e=>{if(e.type.startsWith("🍍")){const t=e.type.replace(/^🍍\s*/,""),n=o._s.get(t);if(!n)return Sn(`store "${t}" not found`,"error");const{path:l}=e;if("state"!==l[0])return Sn(`Invalid path for store "${t}":\n${l}\nOnly state can be modified.`);l[0]="$state",Ln=!1,e.set(n,l,e.state.value),Ln=!0}})})}let zn,Wn=0;function Kn(e,o,t){const n=o.reduce((o,t)=>(o[t]=a(e)[t],o),{});for(const l in n)e[l]=function(){const o=Wn,a=t?new Proxy(e,{get:(...e)=>(zn=o,Reflect.get(...e)),set:(...e)=>(zn=o,Reflect.set(...e))}):e;zn=o;const r=n[l].apply(a,arguments);return zn=void 0,r}}function qn({app:e,store:o,options:t}){if(!o.$id.startsWith("__hot:")){if(o._isOptionsAPI=!!t.state,!o._p._testing){Kn(o,Object.keys(t.actions),o._isOptionsAPI);const e=o._hotUpdate;a(o)._hotUpdate=function(t){e.apply(this,arguments),Kn(o,Object.keys(t._hmrPayload.actions),!!o._isOptionsAPI)}}!function(e,o){Fn.includes(Mn(o.$id))||Fn.push(Mn(o.$id)),Qo({id:"dev.esm.pinia",label:"Pinia 🍍",logo:"https://pinia.vuejs.org/logo.svg",packageName:"pinia",homepage:"https://pinia.vuejs.org",componentStateTypes:Fn,app:e,settings:{logStoreChanges:{label:"Notify about new/deleted stores",type:"boolean",defaultValue:!0}}},e=>{const t="function"==typeof e.now?e.now.bind(e):Date.now;o.$onAction(({after:n,onError:l,name:a,args:r})=>{const i=Wn++;e.addTimelineEvent({layerId:Bn,event:{time:t(),title:"🛫 "+a,subtitle:"start",data:{store:Vn(o.$id),action:Vn(a),args:r},groupId:i}}),n(n=>{zn=void 0,e.addTimelineEvent({layerId:Bn,event:{time:t(),title:"🛬 "+a,subtitle:"end",data:{store:Vn(o.$id),action:Vn(a),args:r,result:n},groupId:i}})}),l(n=>{zn=void 0,e.addTimelineEvent({layerId:Bn,event:{time:t(),logType:"error",title:"💥 "+a,subtitle:"end",data:{store:Vn(o.$id),action:Vn(a),args:r,error:n},groupId:i}})})},!0),o._customProperties.forEach(n=>{r(()=>i(o[n]),(o,l)=>{e.notifyComponentUpdate(),e.sendInspectorState(Gn),Ln&&e.addTimelineEvent({layerId:Bn,event:{time:t(),title:"Change",subtitle:n,data:{newValue:o,oldValue:l},groupId:zn}})},{deep:!0})}),o.$subscribe(({events:n,type:l},a)=>{if(e.notifyComponentUpdate(),e.sendInspectorState(Gn),!Ln)return;const r={time:t(),title:$n(l),data:Un({store:Vn(o.$id)},Hn(n)),groupId:zn};l===mn.patchFunction?r.subtitle="⤵️":l===mn.patchObject?r.subtitle="🧩":n&&!Array.isArray(n)&&(r.subtitle=n.type),n&&(r.data["rawEvent(s)"]={_custom:{display:"DebuggerEvent",type:"object",tooltip:"raw DebuggerEvent[]",value:n}}),e.addTimelineEvent({layerId:Bn,event:r})},{detached:!0,flush:"sync"});const n=o._hotUpdate;o._hotUpdate=l(l=>{n(l),e.addTimelineEvent({layerId:Bn,event:{time:t(),title:"🔥 "+o.$id,subtitle:"HMR update",data:{store:Vn(o.$id),info:Vn("HMR update")}}}),e.notifyComponentUpdate(),e.sendInspectorTree(Gn),e.sendInspectorState(Gn)});const{$dispose:a}=o;o.$dispose=()=>{a(),e.notifyComponentUpdate(),e.sendInspectorTree(Gn),e.sendInspectorState(Gn),e.getSettings().logStoreChanges&&Sn(`Disposed "${o.$id}" store 🗑`)},e.notifyComponentUpdate(),e.sendInspectorTree(Gn),e.sendInspectorState(Gn),e.getSettings().logStoreChanges&&Sn(`"${o.$id}" store installed 🆕`)})}(e,o)}}function Yn(){const e=t(!0),o=e.run(()=>n({}));let a=[],r=[];const i=l({install(e){pn(i),i._a=e,e.provide(fn,i),e.config.globalProperties.$pinia=i,"production"!==process.env.NODE_ENV&&"test"!==process.env.NODE_ENV&&un&&jn(e,i),r.forEach(e=>a.push(e)),r=[]},use(e){return this._a?a.push(e):r.push(e),this},_p:a,_a:null,_e:e,_s:/* @__PURE__ */new Map,state:o});return"production"!==process.env.NODE_ENV&&"test"!==process.env.NODE_ENV&&un&&"undefined"!=typeof Proxy&&i.use(qn),i}function Jn(e,o){for(const t in o){const n=o[t];if(!(t in e))continue;const l=e[t];hn(l)&&hn(n)&&!u(n)&&!d(n)?e[t]=Jn(l,n):e[t]=n}return e}const Xn=()=>{};function Zn(e,o,t,n=Xn){e.add(o);const l=()=>{e.delete(o)&&n()};return!t&&h()&&m(l),l}function Qn(e,...o){e.forEach(e=>{e(...o)})}const el=e=>e(),ol=/* @__PURE__ */Symbol(),tl=/* @__PURE__ */Symbol();function nl(e,o){e instanceof Map&&o instanceof Map?o.forEach((o,t)=>e.set(t,o)):e instanceof Set&&o instanceof Set&&o.forEach(e.add,e);for(const t in o){if(!o.hasOwnProperty(t))continue;const n=o[t],l=e[t];hn(l)&&hn(n)&&e.hasOwnProperty(t)&&!u(n)&&!d(n)?e[t]=nl(l,n):e[t]=n}return e}const ll="production"!==process.env.NODE_ENV?/* @__PURE__ */Symbol("pinia:skipHydration"):
/* @__PURE__ */Symbol();function al(e){return!hn(e)||!Object.prototype.hasOwnProperty.call(e,ll)}const{assign:rl}=Object;function il(e){return!(!u(e)||!e.effect)}function sl(e,o,t,a){const{state:r,actions:i,getters:s}=o,c=t.state.value[e];let u;return u=cl(e,function(){c||"production"!==process.env.NODE_ENV&&a||(t.state.value[e]=r?r():{});const o="production"!==process.env.NODE_ENV&&a?v(n(r?r():{}).value):v(t.state.value[e]);return rl(o,i,Object.keys(s||{}).reduce((n,a)=>("production"!==process.env.NODE_ENV&&a in o&&console.warn(`[🍍]: A getter cannot have the same name as another state property. Rename one of them. Found with "${a}" in store "${e}".`),n[a]=l(f(()=>{pn(t);const o=t._s.get(e);return s[a].call(o,o)})),n),{}))},o,t,a,!0),u}function cl(e,o,i={},s,h,m){let v;const w=rl({actions:{}},i);if("production"!==process.env.NODE_ENV&&!s._e.active)throw new Error("Pinia destroyed");const y={deep:!0};let b,_;"production"!==process.env.NODE_ENV&&(y.onTrigger=e=>{b?C=e:0!=b||x._hotUpdating||(Array.isArray(C)?C.push(e):console.error("🍍 debuggerEvents should be an array. This is most likely an internal Pinia bug."))});let C,E=/* @__PURE__ */new Set,k=/* @__PURE__ */new Set;const S=s.state.value[e];m||S||"production"!==process.env.NODE_ENV&&h||(s.state.value[e]={});const I=n({});let R;function A(o){let t;b=_=!1,"production"!==process.env.NODE_ENV&&(C=[]),"function"==typeof o?(o(s.state.value[e]),t={type:mn.patchFunction,storeId:e,events:C}):(nl(s.state.value[e],o),t={type:mn.patchObject,payload:o,storeId:e,events:C});const n=R=/* @__PURE__ */Symbol();g().then(()=>{R===n&&(b=!0)}),_=!0,Qn(E,t,s.state.value[e])}const T=m?function(){const{state:e}=i,o=e?e():{};this.$patch(e=>{rl(e,o)})}:"production"!==process.env.NODE_ENV?()=>{throw new Error(`🍍: Store "${e}" is built using the setup syntax and does not implement $reset().`)}:Xn;const O=(o,t="")=>{if(ol in o)return o[tl]=t,o;const n=function(){pn(s);const t=Array.from(arguments),l=/* @__PURE__ */new Set,a=/* @__PURE__ */new Set;let r;Qn(k,{args:t,name:n[tl],store:x,after:function(e){l.add(e)},onError:function(e){a.add(e)}});try{r=o.apply(this&&this.$id===e?this:x,t)}catch(i){throw Qn(a,i),i}return r instanceof Promise?r.then(e=>(Qn(l,e),e)).catch(e=>(Qn(a,e),Promise.reject(e))):(Qn(l,r),r)};return n[ol]=!0,n[tl]=t,n},N=/* @__PURE__ */l({actions:{},getters:{},state:[],hotState:I}),V={_p:s,$id:e,$onAction:Zn.bind(null,k),$patch:A,$reset:T,$subscribe(o,t={}){const n=Zn(E,o,t.detached,()=>l()),l=v.run(()=>r(()=>s.state.value[e],n=>{("sync"===t.flush?_:b)&&o({storeId:e,type:mn.direct,events:C},n)},rl({},y,t)));return n},$dispose:function(){v.stop(),E.clear(),k.clear(),s._s.delete(e)}},x=c("production"!==process.env.NODE_ENV||"production"!==process.env.NODE_ENV&&"test"!==process.env.NODE_ENV&&un?rl({_hmrPayload:N,_customProperties:l(/* @__PURE__ */new Set)},V):V);s._s.set(e,x);const D=(s._a&&s._a.runWithContext||el)(()=>s._e.run(()=>(v=t()).run(()=>o({action:O}))));for(const t in D){const o=D[t];if(u(o)&&!il(o)||d(o))"production"!==process.env.NODE_ENV&&h?I.value[t]=p(D,t):m||(S&&al(o)&&(u(o)?o.value=S[t]:nl(o,S[t])),s.state.value[e][t]=o),"production"!==process.env.NODE_ENV&&N.state.push(t);else if("function"==typeof o){const e="production"!==process.env.NODE_ENV&&h?o:O(o,t);D[t]=e,"production"!==process.env.NODE_ENV&&(N.actions[t]=o),w.actions[t]=o}else if("production"!==process.env.NODE_ENV&&il(o)&&(N.getters[t]=m?i.getters[t]:o,un)){(D._getters||(D._getters=l([]))).push(t)}}if(rl(x,D),rl(a(x),D),Object.defineProperty(x,"$state",{get:()=>"production"!==process.env.NODE_ENV&&h?I.value:s.state.value[e],set:e=>{if("production"!==process.env.NODE_ENV&&h)throw new Error("cannot set hotState");A(o=>{rl(o,e)})}}),"production"!==process.env.NODE_ENV&&(x._hotUpdate=l(o=>{x._hotUpdating=!0,o._hmrPayload.state.forEach(e=>{if(e in x.$state){const t=o.$state[e],n=x.$state[e];"object"==typeof t&&hn(t)&&hn(n)?Jn(t,n):o.$state[e]=n}x[e]=p(o.$state,e)}),Object.keys(x.$state).forEach(e=>{e in o.$state||delete x[e]}),b=!1,_=!1,s.state.value[e]=p(o._hmrPayload,"hotState"),_=!0,g().then(()=>{b=!0});for(const e in o._hmrPayload.actions){const t=o[e];x[e]=O(t,e)}for(const e in o._hmrPayload.getters){const t=o._hmrPayload.getters[e],n=m?f(()=>(pn(s),t.call(x,x))):t;x[e]=n}Object.keys(x._hmrPayload.getters).forEach(e=>{e in o._hmrPayload.getters||delete x[e]}),Object.keys(x._hmrPayload.actions).forEach(e=>{e in o._hmrPayload.actions||delete x[e]}),x._hmrPayload=o._hmrPayload,x._getters=o._getters,x._hotUpdating=!1})),"production"!==process.env.NODE_ENV&&"test"!==process.env.NODE_ENV&&un){const e={writable:!0,configurable:!0,enumerable:!1};["_p","_hmrPayload","_getters","_customProperties"].forEach(o=>{Object.defineProperty(x,o,rl({value:x[o]},e))})}return s._p.forEach(e=>{if("production"!==process.env.NODE_ENV&&"test"!==process.env.NODE_ENV&&un){const o=v.run(()=>e({store:x,app:s._a,pinia:s,options:w}));Object.keys(o||{}).forEach(e=>x._customProperties.add(e)),rl(x,o)}else rl(x,v.run(()=>e({store:x,app:s._a,pinia:s,options:w})))}),"production"!==process.env.NODE_ENV&&x.$state&&"object"==typeof x.$state&&"function"==typeof x.$state.constructor&&!x.$state.constructor.toString().includes("[native code]")&&console.warn(`[🍍]: The "state" must be a plain object. It cannot be\n\tstate: () => new MyClass()\nFound in store "${x.$id}".`),S&&m&&i.hydrate&&i.hydrate(x.$state,S),b=!0,_=!0,x}function ul(t,n,l){let a;const r="function"==typeof n;function i(l,c){const u=e();if((l=("test"===process.env.NODE_ENV&&dn&&dn._testing?null:l)||(u?o(fn,null):null))&&pn(l),"production"!==process.env.NODE_ENV&&!dn)throw new Error('[🍍]: "getActivePinia()" was called but there was no active Pinia. Are you trying to use a store before calling "app.use(pinia)"?\nSee https://pinia.vuejs.org/core-concepts/outside-component-usage.html for help.\nThis will fail in production.');(l=dn)._s.has(t)||(r?cl(t,n,a,l):sl(t,a,l),"production"!==process.env.NODE_ENV&&(i._pinia=l));const d=l._s.get(t);if("production"!==process.env.NODE_ENV&&c){const e="__hot:"+t,o=r?cl(e,n,a,l,!0):sl(e,rl({},a),l,!0);c._hotUpdate(o),delete l.state.value[e],l._s.delete(e)}if("production"!==process.env.NODE_ENV&&un){const e=s();if(e&&e.proxy&&!c){const o=e.proxy;("_pStores"in o?o._pStores:o._pStores={})[t]=d}}return d}return a=r?l:n,i.$id=t,i}function dl(){const e=n(null);function o(e,t,n){return"simple"===t.type?function(e,o,t){let n;if("__checkbox"===o.columnName&&t)n=t.isRowChecked(e.rowId);else{const t=e.cells.find(e=>e.columnName===o.columnName);n=t?.value}const l=o.value;switch(o.operator){case"Equals":return n===l;case"NotEquals":return n!==l;case"GreaterThan":return Number(n)>Number(l);case"LessThan":return Number(n)<Number(l);case"GreaterThanOrEquals":return Number(n)>=Number(l);case"LessThanOrEquals":return Number(n)<=Number(l);case"Contains":return String(n).toLowerCase().includes(String(l).toLowerCase());case"StartsWith":return String(n).toLowerCase().startsWith(String(l).toLowerCase());case"EndsWith":return String(n).toLowerCase().endsWith(String(l).toLowerCase());case"IsEmpty":return null==n||""===String(n).trim();case"IsNotEmpty":return null!=n&&""!==String(n).trim();default:return!0}}(e,t,n):function(e,t,n){if(!t.left||!t.right)return console.error("[evaluateCompositeFilter] Invalid filter structure - missing children:",t),!0;const l=o(e,t.left,n);if("AND"===t.operator&&!l)return!1;if("OR"===t.operator&&l)return!0;const a=o(e,t.right,n);return"AND"===t.operator?l&&a:l||a}(e,t,n)}return{currentFilter:e,filterRows:function(e,t,n){return t?e.filter(e=>o(e,t,n)):e},setFilter:function(o){e.value=o},clearFilter:function(){e.value=null},evaluateFilter:o}}function pl(e){const o=n(""),t=n("Contains"),l=n([]),a=n(-1);function r(e,o,t){return function(e,o){const t=[];for(let n=0;n<=o.length;n++)t[n]=[n];for(let n=0;n<=e.length;n++)t[0][n]=n;for(let n=1;n<=o.length;n++)for(let l=1;l<=e.length;l++)o.charAt(n-1)===e.charAt(l-1)?t[n][l]=t[n-1][l-1]:t[n][l]=Math.min(t[n-1][l-1]+1,t[n][l-1]+1,t[n-1][l]+1);return t[o.length][e.length]}(e.toLowerCase(),o.toLowerCase())<=t}return{searchTerm:o,searchMode:t,searchResults:l,currentResultIndex:a,searchInRows:function(o,t,n={}){if(!o)return l.value=[],void(a.value=-1);const i=[],s=n.caseSensitive??!1,c=n.fuzzyThreshold??3;for(const l of e.value)for(const e of l.cells){const n=String(e.value||"");let a=!1;const u=s?n:n.toLowerCase(),d=s?o:o.toLowerCase();switch(t){case"Exact":a=s?n===o:n.toLowerCase()===o.toLowerCase();break;case"Contains":a=u.includes(d);break;case"StartsWith":a=u.startsWith(d);break;case"EndsWith":a=u.endsWith(d);break;case"Regex":try{a=new RegExp(o,s?"":"i").test(n)}catch{a=!1}break;case"Fuzzy":a=r(n,o,c)}a&&i.push({rowId:l.rowId,columnName:e.columnName,value:n})}l.value=i,a.value=i.length>0?0:-1},goToNextResult:function(){a.value<l.value.length-1&&a.value++},goToPreviousResult:function(){a.value>0&&a.value--},clearSearch:function(){o.value="",l.value=[],a.value=-1},isSearchMatch:function(e,o){return l.value.some(t=>t.rowId===e&&t.columnName===o)}}}const gl=/* @__PURE__ */new Map,fl=/* @__PURE__ */new Set,hl=(e="dataGrid")=>{if(!e||"string"!=typeof e)throw console.error("[useDataGridStore] Invalid storeId:",e),new Error(`Invalid storeId: ${e}`);if(gl.has(e))return console.log("[useDataGridStore] Using CACHED store definition for:",e),gl.get(e);if(fl.has(e))throw console.error("[useDataGridStore] ⚠️ RACE CONDITION DETECTED! Store is being created by another component:",e),new Error(`[useDataGridStore] Race condition: Store ${e} is already being created. This indicates a timing issue.`);fl.add(e),console.log("[useDataGridStore] Creating NEW store definition for:",e);const o=/* @__PURE__ */ul(e,()=>{const e=n(/* @__PURE__ */new Map),o=n([]),t=n([]),l=n(/* @__PURE__ */new Set),a=n([]),r=n(100),i=n(1),s=n(/* @__PURE__ */new Map),c=n([]),u=n(null),d=n(""),p=n({pageSize:100,enableSort:!0,enableFilter:!0,enableSearch:!0,enableValidation:!0,autoValidate:!0,showRowNumber:!1,showCheckbox:!1,showValidationAlerts:!0,showDeleteButton:!1,showInsertButton:!1,minRowHeight:35}),g=n(null),h=n(!1),m=n(!1),v=n(!1),w=n(/* @__PURE__ */new Set),y=n(/* @__PURE__ */new Set),b=n(1),_=f(()=>o.value.map(o=>e.value.get(o)).filter(Boolean)),C=f(()=>c.value.map(e=>({columnName:e,direction:s.value.get(e).direction})));function E(o){return e.value.get(o)}const{filterRows:k,evaluateFilter:S}=dl(),{searchResults:I,isSearchMatch:R}=pl(_),A=f(()=>o.value.length),T=f(()=>Math.ceil(A.value/r.value)),O=f(()=>{console.log("[visibleRows] 🔍 START");let e=_.value;if(console.log("[visibleRows] Total rows:",e.length),u.value){const o=e.length,t={checkedRows:a.value,isRowChecked:e=>a.value.includes(e)};e=k(e,u.value,t),console.log("[visibleRows] After filter:",e.length,"(filtered:",o-e.length,")")}if(d.value&&I.value.length>0){const o=e.length,t=new Set(I.value.map(e=>e.rowId));e=e.filter(e=>t.has(e.rowId)),console.log("[visibleRows] After search:",e.length,"(filtered:",o-e.length,")")}var o,t;C.value.length>0&&(o=e,e=0===(t=C.value).length?o:[...o].sort((e,o)=>{for(const{columnName:n,direction:l}of t){const t=e.cells.find(e=>e.columnName===n),a=o.cells.find(e=>e.columnName===n),r=t?.value,i=a?.value,s=x(r,i);if(0!==s)return"asc"===l?s:-s}return 0}),console.log("[visibleRows] Sorted by:",C.value.map(e=>`${e.columnName} ${e.direction}`).join(", ")));const n=(i.value-1)*r.value,l=n+r.value;console.log("[visibleRows] Pagination:",{currentPage:i.value,pageSize:r.value,start:n,end:l,total:e.length});const s=e.slice(n,l);return console.log("[visibleRows] ✅ RETURNING:",s.length,"rows"),s});function N(e){const o=`empty-${D()}`;return{rowId:o,rowIndex:e,height:p.value.minRowHeight||35,cells:t.value.map(e=>({rowId:o,columnName:e.name,value:null,isSelected:!1,isValidationError:!1}))}}function V(){const t=o.value.length,n=b.value;if(t<n){const l=n-t;console.log(`[dataGridStore] ensureMinimumRows: Adding ${l} empty rows (current: ${t}, min: ${n})`);for(let n=0;n<l;n++){const l=N(t+n);e.value.set(l.rowId,l),o.value.push(l.rowId)}}}function x(e,o){return null==e&&null==o?0:null==e?-1:null==o?1:"number"==typeof e&&"number"==typeof o?e-o:String(e).localeCompare(String(o))}function D(){return`${Date.now()}-${Math.random().toString(36).substr(2,9)}`}const P=f(()=>{const e=a.value.length;return 0===e?"none":e===_.value.length?"all":"some"});function H(e,o){if(!g.value||!h.value)return;console.log("[dataGridStore] expandDragSelection:",{pressedCell:g.value,currentRowId:e,currentColumnName:o});const n=_.value.findIndex(e=>e.rowId===g.value.rowId),a=_.value.findIndex(o=>o.rowId===e);if(-1===n||-1===a)return;const r=t.value.filter(e=>!e.specialType||"ValidationAlerts"===e.specialType).map(e=>e.name);console.log("[dataGridStore] expandDragSelection: selectableColumns",{total:r.length,columns:r});const i=r.indexOf(g.value.columnName),s=r.indexOf(o);if(-1===i||-1===s)return void console.warn("[dataGridStore] expandDragSelection: column not found in selectableColumns",{pressedColumn:g.value.columnName,currentColumn:o,pressedColIndex:i,currentColIndex:s});const c=Math.min(n,a),u=Math.max(n,a),d=Math.min(i,s),p=Math.max(i,s);console.log("[dataGridStore] expandDragSelection: bounds",{rowRange:[c,u],colRange:[d,p],cellsToSelect:(u-c+1)*(p-d+1)}),l.value.clear();for(let t=c;t<=u;t++){const e=_.value[t].rowId;for(let o=d;o<=p;o++){const t=`${e}:${r[o]}`;l.value.add(t)}}console.log("[dataGridStore] expandDragSelection complete:",{selectedCellsCount:l.value.size})}const $=["__rowNumber","__checkbox","__validationAlerts","__deleteRow","__insertRow"];function L(e){const o=/* @__PURE__ */new Map;return e.map(e=>{const t=e.name,n=o.get(t)||0;return o.set(t,n+1),n>0?{...e,name:`${t}_${n+1}`}:e}).map((e,o,t)=>{const n=e.name.replace(/_\d+$/,"");return t.filter(e=>e.name===n||e.name.startsWith(`${n}_`)).length>1&&e.name===n?{...e,name:`${n}_1`}:e})}return{rows:_,columns:t,selectedCells:l,checkedRows:a,pageSize:r,currentPage:i,sortColumns:C,filterExpression:u,searchQuery:d,searchResults:I,config:p,pressedCell:g,isDragging:h,wasCtrlPressed:m,isAutoRowHeightEnabled:v,minRows:b,visibleRows:O,totalRows:A,totalPages:T,checkboxState:P,getRow:E,loadRows:function(n){console.log("[dataGridStore] loadRows:",{originalRowCount:n.length,columnCount:t.value.length,autoValidate:p.value.autoValidate});const l=/* @__PURE__ */new Map,a=[],r=t.value.filter(e=>!e.specialType&&!1!==e.visibleForGrid);let i=0;n.forEach((e,o)=>{if(!r.some(o=>{const t=e[o.name];return null!=t&&""!==t}))return void i++;const n=e.__rowId||D(),s=e.__rowHeight||40,c={rowId:n,rowIndex:a.length,height:s,cells:t.value.map(o=>({rowId:n,columnName:o.name,value:e[o.name],isSelected:!1,isValidationError:!1}))};l.set(n,c),a.push(n)}),e.value=l,o.value=a,V(),console.log("[dataGridStore] loadRows complete:",{originalRows:n.length,loadedRows:o.value.length,skippedEmptyRows:i,filterRate:`${Math.round(i/n.length*100)}%`,minRowsRequired:b.value,firstRowId:o.value[0],firstRowCells:l.get(o.value[0])?.cells.length})},updateCell:function(e,o,t){const n=E(e);if(n){const l=n.cells.find(e=>e.columnName===o);if(l){const n=l.value;l.value=t,console.log("[dataGridStore] updateCell:",{rowId:e,columnName:o,oldValue:n,newValue:t,autoValidate:p.value.autoValidate});const a=`${e}:${o}`;y.value.add(a)}else console.warn("[dataGridStore] updateCell: cell not found",{rowId:e,columnName:o})}else console.warn("[dataGridStore] updateCell: row not found",{rowId:e})},updateRowHeight:function(e,o){const t=E(e);if(t){const n=t.height;t.height=o,console.log("[dataGridStore] updateRowHeight:",{rowId:e,oldHeight:n,newHeight:o,autoRowHeightEnabled:v.value})}else console.warn("[dataGridStore] updateRowHeight: row not found",{rowId:e})},setAutoRowHeightEnabled:function(e){console.log(`[dataGridStore] setAutoRowHeightEnabled: oldValue=${v.value}, newValue=${e}`),v.value=e},addSort:function(e,o,t=!1){if(t)if(s.value.has(e)){const t=s.value.get(e);s.value.set(e,{direction:o,order:t.order})}else{const t=c.value.length+1;s.value.set(e,{direction:o,order:t}),c.value.push(e)}else s.value.clear(),c.value=[e],s.value.set(e,{direction:o,order:1})},clearSort:function(){s.value.clear(),c.value=[]},setSortColumns:function(e){s.value.clear(),c.value=[],e.forEach((e,o)=>{s.value.set(e.columnName,{direction:e.direction,order:o+1}),c.value.push(e.columnName)})},setPageSize:function(e){r.value=e,i.value=1},goToPage:function(e){e>=1&&e<=T.value&&(i.value=e)},deleteRow:function(t){if(function(o){return e.value.has(o)}(t)){console.log("[dataGridStore] deleteRow:",{rowId:t,rowsBefore:o.value.length,wasChecked:a.value.includes(t)}),e.value.delete(t),o.value=o.value.filter(e=>e!==t);const n=a.value.indexOf(t);n>-1&&a.value.splice(n,1),o.value.forEach((o,t)=>{const n=e.value.get(o);n&&(n.rowIndex=t)}),console.log("[dataGridStore] deleteRow complete:",{rowsAfter:o.value.length}),0===o.value.length&&(console.log("[dataGridStore] deleteRow: Table is empty after deletion, creating minimum rows"),V())}else console.warn("[dataGridStore] deleteRow: row not found",{rowId:t})},insertRow:function(n){const l=o.value.indexOf(n),a=D();console.log("[dataGridStore] insertRow:",{afterRowId:n,index:l,newRowId:a,rowsBefore:o.value.length});const r={rowId:a,rowIndex:l+1,height:p.value.minRowHeight||35,cells:t.value.filter(e=>!e.specialType).map(e=>({rowId:a,columnName:e.name,value:null,isSelected:!1,isValidationError:!1}))};e.value.set(a,r),o.value.splice(l+1,0,a),o.value.forEach((o,t)=>{const n=e.value.get(o);n&&(n.rowIndex=t)}),console.log("[dataGridStore] insertRow complete:",{rowsAfter:o.value.length})},insertMultipleRows:function(n,l,a){const r=o.value.indexOf(n);if(-1===r)return void console.warn("[dataGridStore] insertMultipleRows: row not found",{rowId:n});console.log("[dataGridStore] insertMultipleRows:",{rowId:n,count:l,position:a,index:r,rowsBefore:o.value.length});const i="above"===a?r:r+1,s=[];for(let o=0;o<l;o++){const n=D(),l={rowId:n,rowIndex:i+o,height:p.value.minRowHeight||35,cells:t.value.filter(e=>!e.specialType).map(e=>({rowId:n,columnName:e.name,value:null,isSelected:!1,isValidationError:!1}))};e.value.set(n,l),s.push(n)}o.value.splice(i,0,...s),o.value.forEach((o,t)=>{const n=e.value.get(o);n&&(n.rowIndex=t)}),console.log("[dataGridStore] insertMultipleRows complete:",{rowsAfter:o.value.length,newRowIds:s})},toggleCheckbox:function(e,o){if(console.log("[toggleCheckbox] Called:",{rowId:e,checked:o,currentCount:a.value.length}),o)a.value.includes(e)||a.value.push(e);else{const o=a.value.indexOf(e);o>-1&&a.value.splice(o,1)}console.log("[toggleCheckbox] After:",{count:a.value.length,checkboxState:P.value})},isRowChecked:function(e){return a.value.includes(e)},toggleAllCheckboxes:function(){const e=a.value.length,o=_.value.length;console.log("[toggleAllCheckboxes] BEFORE:",{currentCount:e,totalCount:o,checkboxState:P.value}),a.value.length===_.value.length?(console.log("[toggleAllCheckboxes] ACTION: Unchecking all (was all checked)"),a.value=[]):(console.log("[toggleAllCheckboxes] ACTION: Checking all (was not all checked)"),a.value=_.value.map(e=>e.rowId));const t=a.value.length,n=P.value;console.log("[toggleAllCheckboxes] AFTER:",{newCount:t,totalCount:o,newState:n})},setConfig:function(e){console.log("[dataGridStore] setConfig:",{newConfig:e,oldAutoValidate:p.value.autoValidate,newAutoValidate:e.autoValidate}),p.value={...p.value,...e},e.pageSize&&(r.value=e.pageSize),console.log("[dataGridStore] setConfig complete:",{autoValidate:p.value.autoValidate,enableValidation:p.value.enableValidation})},initializeEmptyRows:function(n){const l=n||b.value;console.log("[dataGridStore] initializeEmptyRows:",{requestedCount:n,rowCount:l,minRowsValue:b.value,pageSizeValue:r.value,currentRowsLength:_.value.length,columnsLength:t.value.length});const a=/* @__PURE__ */new Map,i=[];for(let e=0;e<l;e++){const o=D(),n={rowId:o,rowIndex:e,height:p.value.minRowHeight||35,cells:t.value.filter(e=>!e.specialType).map(e=>({rowId:o,columnName:e.name,value:null,isSelected:!1,isValidationError:!1}))};a.set(o,n),i.push(o)}e.value=a,o.value=i,console.log("[dataGridStore] initializeEmptyRows complete:",{newRowsLength:_.value.length,firstRowCellsCount:_.value[0]?.cells?.length})},setFilter:function(e){console.log("[dataGridStore] setFilter:",{filter:e}),u.value=e},clearFilter:function(){console.log("[dataGridStore] clearFilter"),u.value=null},setSearchQuery:function(e){d.value=e},clearSearch:function(){d.value=""},selectCell:function(e,o,t){const n=`${e}:${o}`;console.log("[dataGridStore] selectCell:",{rowId:e,columnName:o,isCtrlPressed:t,wasSelected:l.value.has(n),currentSelectionCount:l.value.size}),t?(m.value=!0,g.value=null,h.value=!1,l.value.has(n)?(l.value.delete(n),console.log("[dataGridStore] selectCell: toggled OFF",{cellKey:n})):(l.value.add(n),console.log("[dataGridStore] selectCell: toggled ON",{cellKey:n}))):(m.value=!1,g.value={rowId:e,columnName:o},h.value=!1,l.value.clear(),l.value.add(n),console.log("[dataGridStore] selectCell: single select",{cellKey:n})),console.log("[dataGridStore] selectCell complete:",{newSelectionCount:l.value.size})},startDragSelection:function(e,o){g.value&&(h.value=!0,l.value.clear(),H(e,o))},expandDragSelection:H,endDragSelection:function(){g.value=null,h.value=!1},isCellSelected:function(e,o){const t=`${e}:${o}`;return l.value.has(t)},setColumns:function(e){const o=e.filter(e=>!e.specialType).filter(e=>$.includes(e.name)).map(e=>e.name);if(o.length>0)throw new Error(`Column name conflict: The following column names are reserved for special columns and cannot be used: ${o.join(", ")}. Reserved names: ${$.join(", ")}`);const n=L(e);t.value=n,console.log("[dataGridStore] setColumns:",{originalCount:e.length,uniqueCount:n.length,columnNames:n.map(e=>e.name)})},updateColumn:function(e,o){const n=t.value.findIndex(o=>o.name===e);if(-1!==n){const l=t.value[n];t.value[n]={...l,...o},t.value=[...t.value],console.log(`[dataGridStore] updateColumn: ${e}`,{oldWidth:l.width,newWidth:o.width,updates:o})}else console.warn(`[dataGridStore] updateColumn: Column not found: ${e}`)},ensureUniqueColumnNames:L,areNonEmptyRowsValid:function(){for(const e of _.value){if(e.cells.every(e=>null===e.value||void 0===e.value||""===e.value))continue;if(e.cells.some(e=>e.isValidationError))return!1}return!0},markCellValidated:function(e,o){const t=`${e}:${o}`;console.log("[dataGridStore] markCellValidated:",{rowId:e,columnName:o,cellKey:t,validatedCount:w.value.size}),w.value.add(t),y.value.delete(t)},clearValidationTracking:function(){console.log("[dataGridStore] clearValidationTracking:",{clearedValidatedCount:w.value.size,clearedChangedCount:y.value.size}),w.value.clear(),y.value.clear()},getCellsNeedingValidation:function(e=!1,o){console.log("[getCellsNeedingValidation] 🔍 START",{totalRows:_.value.length,validatedCellsCount:w.value.size,changedCellsCount:y.value.size,forceValidateAll:e,hasColumnsWithRules:!!o});const n=new Set(t.value.filter(e=>!1!==e.visibleForGrid).map(e=>e.name)),l=o&&o.size>0?new Set([...n].filter(e=>o.has(e))):n;console.log("[getCellsNeedingValidation] 🔍 Column filtering:",{totalColumns:t.value.length,visibleColumns:n.size,columnsWithRules:o?.size??"N/A",columnsToValidate:l.size,skippedColumns:n.size-l.size,filterRate:o?`${Math.round(100*(1-l.size/n.size))}% skipped`:"N/A (no filter)"});const a=[];let r=0,i=0,s=0,c=0,u=0,d=0;for(const t of _.value){if(!t||!t.cells){console.warn("[getCellsNeedingValidation] Row has no cells array:",t?.rowId);continue}if(t.cells.filter(e=>l.has(e.columnName)).every(e=>null===e.value||void 0===e.value||""===e.value))r++;else for(const l of t.cells){const t=n.has(l.columnName),r=!o||o.has(l.columnName);if(!t){u++;continue}if(o&&!r){d++;continue}const p=`${l.rowId}:${l.columnName}`,g=w.value.has(p),f=y.value.has(p);e||!g||f?(a.push({rowId:l.rowId,columnName:l.columnName}),g?f&&s++:c++):i++}}return console.log("[getCellsNeedingValidation] 📊 RESULT:",{cellsToValidate:a.length,neverValidated:c,changedSinceValidation:s,alreadyValidated:i,emptyRowsSkipped:r,skippedInvisibleCells:u,skippedNoRulesCells:d,sampleCells:a.slice(0,3).map(e=>`${e.rowId}:${e.columnName}`)}),a},setMinRows:function(e){e<0?console.warn("[dataGridStore] setMinRows: Invalid value, must be >= 0:",e):(b.value=e,V(),console.log(`[dataGridStore] setMinRows: ${e}`))},clearAllData:function(){console.log("[dataGridStore] clearAllData called - clearing all state"),e.value.clear(),o.value=[],l.value.clear(),a.value=[],g.value=null,h.value=!1,m.value=!1,w.value.clear(),y.value.clear(),s.value.clear(),c.value=[],u.value=null,d.value="",i.value=1,console.log("[dataGridStore] All data cleared successfully")}}});return gl.set(e,o),fl.delete(e),console.log("[useDataGridStore] Store definition cached for:",e),o};function ml(){const e=n(/* @__PURE__ */new Map),o=c({}),t=n(0),l=n(0);function a(){t.value=Object.keys(o).length}function r(o,t,n){const l=e.value.get(t)||[];console.log("[useValidation] validateCell:",{rowId:o,columnName:t,value:n,ruleCount:l.length,isEmpty:null==n||""===n});const a=null==n||""===n;for(const e of l){if("Required"===e.ruleType&&a)return console.log("[useValidation] validateCell FAILED: Required",{rowId:o,columnName:t,error:e.errorMessage,severity:e.severity}),{isValid:!1,error:e.errorMessage,severity:e.severity};if(!a){if("Regex"===e.ruleType&&e.regexPattern){if(!new RegExp(e.regexPattern).test(String(n)))return console.log("[useValidation] validateCell FAILED: Regex",{rowId:o,columnName:t,value:n,pattern:e.regexPattern,error:e.errorMessage}),{isValid:!1,error:e.errorMessage,severity:e.severity}}if("Range"===e.ruleType){const l=Number(n);if(isNaN(l))return console.log("[useValidation] validateCell FAILED: Range (not a number)",{rowId:o,columnName:t,value:n}),{isValid:!1,error:"Value must be a number",severity:e.severity};if(null!=e.minValue&&l<e.minValue)return console.log("[useValidation] validateCell FAILED: Range (below min)",{rowId:o,columnName:t,value:l,minValue:e.minValue}),{isValid:!1,error:e.errorMessage,severity:e.severity};if(null!=e.maxValue&&l>e.maxValue)return console.log("[useValidation] validateCell FAILED: Range (above max)",{rowId:o,columnName:t,value:l,maxValue:e.maxValue}),{isValid:!1,error:e.errorMessage,severity:e.severity}}if("Custom"===e.ruleType&&e.customValidator&&!e.customValidator(n))return console.log("[useValidation] validateCell FAILED: Custom",{rowId:o,columnName:t,value:n,error:e.errorMessage}),{isValid:!1,error:e.errorMessage,severity:e.severity}}}return console.log("[useValidation] validateCell PASSED",{rowId:o,columnName:t,value:n}),{isValid:!0}}function i(e){return e.every(e=>null==e.value||""===e.value)}function s(e,t,n,l,s=!1){if(console.log("[useValidation] validateCellDirect:",{rowId:e,columnName:t,value:n,hasRowCells:!!l,rowCellsCount:l?.length,skipErrorCountUpdate:s}),l&&i(l))return console.log("[useValidation] validateCellDirect: Row is completely empty, clearing errors",{rowId:e}),delete o[e],s||a(),Promise.resolve();const c=r(e,t,n),u=o[e]||[];if(c.isValid){const n=u.filter(e=>e.columnName!==t);n.length>0?(o[e]=n,console.log("[useValidation] validateCellDirect: Cleared error for column, other errors remain",{rowId:e,columnName:t,remainingErrors:n.length})):(delete o[e],console.log("[useValidation] validateCellDirect: Cleared all errors for row",{rowId:e}))}else{const n=u.findIndex(e=>e.columnName===t),l={rowId:e,columnName:t,message:c.error,severity:c.severity};n>=0?(u[n]=l,console.log("[useValidation] validateCellDirect: Updated existing error",{rowId:e,columnName:t,error:l.message})):(u.push(l),console.log("[useValidation] validateCellDirect: Added new error",{rowId:e,columnName:t,error:l.message})),o[e]=u}return s||a(),Promise.resolve()}const u=z(s,300);return{validationRules:e,validationErrors:o,errorCount:t,ruleCount:l,addValidationRule:function(o){const t=e.value.get(o.columnName)||[];t.push(o),e.value.set(o.columnName,t),console.log("[useValidation] addValidationRule:",{columnName:o.columnName,ruleType:o.ruleType,severity:o.severity,totalRulesForColumn:t.length}),l.value++},validateCell:r,validateCellDirect:s,validateCellThrottled:u,validateAll:async function(e){console.log("[useValidation] validateAll START:",{rowCount:e.length}),Object.keys(o).forEach(e=>delete o[e]);let t=0,n=0;const l=Math.ceil(e.length/50);for(let a=0;a<l;a++){const s=50*a,c=Math.min(s+50,e.length),u=e.slice(s,c);console.log(`[useValidation] Processing batch ${a+1}/${l} (rows ${s}-${c-1})`);for(const e of u)if(n<3&&console.log("[useValidation] validateAll: Examining row",{rowId:e.rowId,rowIndex:n,cellCount:e.cells?.length||0}),n++,e.cells&&Array.isArray(e.cells))if(i(e.cells))console.log("[useValidation] validateAll: Skipping empty row",{rowId:e.rowId,cellCount:e.cells?.length||0});else for(const n of e.cells){const l=r(e.rowId,n.columnName,n.value);if(!l.isValid){const a=o[e.rowId]||[];a.push({rowId:e.rowId,columnName:n.columnName,message:l.error,severity:l.severity}),o[e.rowId]=a,t++}}else console.log("[useValidation] validateAll: Skipping row without cells",{rowId:e.rowId,hasCells:!!e.cells,isArray:Array.isArray(e.cells)});await g()}console.log("[useValidation] validateAll - loop FINISHED, processed",n,"rows"),console.log("[useValidation] validateAll - totalErrors:",t);const s=Object.keys(o).length;console.log("[useValidation] validateAll - rowsWithErrors:",s),console.log("[useValidation] validateAll complete - SUCCESS"),console.log("[useValidation] validateAll - calling updateErrorCount..."),a(),console.log("[useValidation] validateAll - updateErrorCount DONE"),console.log("[useValidation] validateAll - building errors array...");const c=[];for(const a in o){const e=o[a];e&&Array.isArray(e)&&c.push(...e)}return console.log("[useValidation] validateAll - errors array built, count:",c.length),console.log("[useValidation] validateAll - returning result..."),{isValid:0===t,totalErrors:t,errors:c}},getValidationErrors:function(e){return o[e]||[]},clearValidationErrors:function(){const e=Object.keys(o).length;console.log("[useValidation] clearValidationErrors:",{clearedCount:e}),Object.keys(o).forEach(e=>delete o[e]),a()},updateErrorCount:a}}function vl(){const e=n("");function o(e){if(!e)return e;if(!(e.includes("\t")||e.includes("\n")||e.includes("\r")||e.includes('"')))return e;return`"${e.replace(/"/g,'""')}"`}function t(e,o=!1){if(o||1===e.length)return!1;if(e.every(e=>!e||!isNaN(Number(e))))return!1;return e.some(e=>{if(!e)return!1;const o=/^[A-Z]/.test(e),t=e.length<30,n=!/[@#$%^&*()]/.test(e);return o&&t&&n&&isNaN(Number(e))})}return{copyToClipboard:async function(t,n,l={}){try{if(0===t.length)return{success:!1,message:"No data selected for copy"};const a=function(e,t,n={}){const l=[];n.includeHeaders&&l.push(t.map(o).join("\t"));for(const a of e){const e=t.map(e=>{const t=a.cells.find(o=>o.columnName===e),n=t?.value;return o(n?.toString()??"")});l.push(e.join("\t"))}return l.join("\n")}(t,n,l);return await navigator.clipboard.writeText(a),e.value=a,{success:!0,message:`Copied ${t.length} rows to clipboard`,processedRows:t.length}}catch(a){return console.error("Copy failed:",a),{success:!1,message:`Copy failed: ${a}`}}},copySelectedCells:async function(t,n,l){try{if(0===t.size)return{success:!1,message:"No cells selected for copy"};console.log("[useCopyPaste] copySelectedCells:",{selectedCount:t.size,selectedCells:Array.from(t)});const a=[];if(t.forEach(e=>{const[o,t]=e.split(":"),r=n.find(e=>e.rowId===o);if(!r)return;const i=l.findIndex(e=>e.name===t);if(-1===i)return;const s=r.cells.find(e=>e.columnName===t);a.push({rowId:o,rowIndex:r.rowIndex,columnName:t,columnIndex:i,value:s?.value})}),0===a.length)return{success:!1,message:"No valid cells to copy"};const r=Math.min(...a.map(e=>e.rowIndex)),i=Math.max(...a.map(e=>e.rowIndex)),s=Math.min(...a.map(e=>e.columnIndex)),c=Math.max(...a.map(e=>e.columnIndex));console.log("[useCopyPaste] copySelectedCells bounds:",{minRowIndex:r,maxRowIndex:i,minColIndex:s,maxColIndex:c,rows:i-r+1,cols:c-s+1});const u=[];for(let e=r;e<=i;e++){const t=[];for(let n=s;n<=c;n++){const l=a.find(o=>o.rowIndex===e&&o.columnIndex===n);if(l){const e=l.value?.toString()??"";t.push(o(e))}else t.push("")}u.push(t.join("\t"))}const d=u.join("\n");return console.log("[useCopyPaste] copySelectedCells TSV:",{lineCount:u.length,preview:d.substring(0,200)}),await navigator.clipboard.writeText(d),e.value=d,{success:!0,message:`Copied ${a.length} cells to clipboard`,processedRows:a.length}}catch(a){return console.error("[useCopyPaste] Copy failed:",a),{success:!1,message:`Copy failed: ${a}`}}},pasteFromClipboard:async function(){try{let o="";try{o=await navigator.clipboard.readText()}catch{o=e.value}if(!o)return{success:!1,message:"No data available in clipboard"};const{headers:n,rows:l}=function(e){const o=[],n=[];let l="",a=!1,r=!0,i=[];const s=e.trim(),c=!s.includes("\t")&&!s.includes("\n");for(let u=0;u<e.length;u++){const s=e[u],d=u+1<e.length?e[u+1]:null;if('"'===s)a&&'"'===d?(l+='"',u++):a=!a;else if("\t"!==s||a){if("\n"!==s&&"\r"!==s||a)l+=s;else if("\r"===s&&"\n"===d&&u++,l.length>0||n.length>0){if(n.push(l),l="",r){if(t(n,c))i=[...n];else{i=n.map((e,o)=>`Column${o+1}`);const e={};for(let o=0;o<Math.min(i.length,n.length);o++)e[i[o]]=n[o]||null;o.push(e)}r=!1}else{const e={};for(let o=0;o<Math.min(i.length,n.length);o++)e[i[o]]=n[o]||null;o.push(e)}n.length=0}}else n.push(l),l=""}if(l.length>0||n.length>0)if(n.push(l),r&&0===i.length)if(t(n,c))i=[...n];else{i=n.map((e,o)=>`Column${o+1}`);const e={};for(let o=0;o<Math.min(i.length,n.length);o++)e[i[o]]=n[o]||null;o.push(e)}else if(i.length>0){const e={};for(let o=0;o<Math.min(i.length,n.length);o++)e[i[o]]=n[o]||null;o.push(e)}return{headers:i,rows:o}}(o);return{success:!0,message:`Pasted ${l.length} rows from clipboard`,processedRows:l.length,rows:l,headers:n}}catch(o){return console.error("Paste failed:",o),{success:!1,message:`Paste failed: ${o}`}}},canPaste:function(){return!!e.value},clearClipboard:function(){e.value=""}}}const wl={minHeight:35,maxHeight:400,fontFamily:"system-ui, -apple-system, sans-serif",fontSize:14,enableWrapping:!0,padding:16};function yl(e=wl){let o=null,t=null;function n(n,l){if(!n)return e.minHeight;const a=function(){if(o||(o=document.createElement("canvas"),t=o.getContext("2d")),!t)throw new Error("Failed to get canvas context");return t.font=`${e.fontSize}px ${e.fontFamily}`,t}();if(!e.enableWrapping)return e.minHeight;const r=n.toString().split("\n");let i=1.5*e.fontSize,s=0;for(const o of r){if(!o||""===o.trim()){s++;continue}const t=o.split(" ");let n="",r=1;for(const o of t){const t=n?`${n} ${o}`:o;a.measureText(t).width>l-e.padding?n?(r++,n=o):n=o:n=t}s+=r}const c=s*i+10;return Math.max(e.minHeight,Math.min(e.maxHeight,Math.ceil(c)))}function l(o,t){try{let l=e.minHeight;for(const e of t){if(e.specialType&&"ValidationAlerts"!==e.specialType)continue;let t=null;if(o.cells&&Array.isArray(o.cells)){const n=o.cells.find(o=>o.columnName===e.name);t=n?.value}else t=o[e.name];if(null==t)continue;const a=n(String(t),e.width);l=Math.max(l,a)}return{rowId:o.__rowId||o.rowId,calculatedHeight:l,isSuccess:!0}}catch(l){return console.error("Row height calculation failed:",l),{rowId:o.__rowId||o.rowId,calculatedHeight:e.minHeight,isSuccess:!1}}}return{calculateRowHeight:l,calculateRowHeights:function(e,o){return e.map(e=>l(e,o))},applyAutoRowHeight:async function(o,t){let n=0,a=0;const r=Math.ceil(o.length/50);for(let e=0;e<r;e++){const i=50*e,s=Math.min(i+50,o.length),c=o.slice(i,s);console.log(`[AutoRowHeight] Processing batch ${e+1}/${r} (rows ${i}-${s-1})`);for(const e of c){const o=l(e,t);o.isSuccess&&(e.height=o.calculatedHeight,n+=o.calculatedHeight,a++)}await new Promise(e=>setTimeout(e,0))}return{totalRowsUpdated:a,averageHeight:a>0?n/a:e.minHeight}},recalculateRows:function(e,o,t){let n=0;for(const a of e)if(o.includes(a.rowId)){const e=l(a,t);e.isSuccess&&(a.height=e.calculatedHeight,n++)}return n},measureTextHeight:n,updateMaxHeight:function(o){e.maxHeight=o,console.log(`[useAutoRowHeight] maxHeight updated to: ${o}px`)}}}var bl=/* @__PURE__ */(e=>(e.Normal="normal",e.Editing="editing",e.Selection="selection",e.Any="any",e))(bl||{});function _l(e={}){const o=/* @__PURE__ */new Map,t=e.context||"normal";function n(e){const o=[];return e.ctrl&&o.push("Ctrl"),e.shift&&o.push("Shift"),e.alt&&o.push("Alt"),e.meta&&o.push("Meta"),o.push(e.key.toUpperCase()),o.join("+")}async function l(n){if(!e.enabled&&void 0!==e.enabled)return;const l=Array.from(o.values()).filter(e=>{return!1!==e.enabled&&function(e,o){return e.key.toUpperCase()===o.key.toUpperCase()&&!!e.ctrlKey==!!o.ctrl&&!!e.shiftKey==!!o.shift&&!!e.altKey==!!o.alt&&!!e.metaKey==!!o.meta}(n,e.key)&&(o=e.context||"normal",l=t,"any"===o||o===l||"any"===l);var o,l});if(0===l.length)return;l.sort((e,o)=>(o.priority||0)-(e.priority||0));const a=l[0];n.preventDefault(),n.stopPropagation();try{await a.handler(n)}catch(r){console.error(`Shortcut execution failed for ${a.name}:`,r)}}function a(e){const t=n(e.key);o.has(t)&&console.warn(`Shortcut ${t} is already registered. Overwriting.`),o.set(t,{...e,enabled:!1!==e.enabled,context:e.context||"normal",priority:e.priority||0})}return w(()=>{!1!==e.enabled&&document.addEventListener("keydown",l)}),y(()=>{document.removeEventListener("keydown",l)}),{registerShortcut:a,registerShortcuts:function(e){e.forEach(a)},unregisterShortcut:function(e){const t=n(e);return o.delete(t)},unregisterShortcutByName:function(e){const t=Array.from(o.entries()).find(([o,t])=>t.name===e);return!!t&&(o.delete(t[0]),!0)},setShortcutEnabled:function(e,t){const n=Array.from(o.entries()).find(([o,t])=>t.name===e);n&&(n[1].enabled=t)},getShortcuts:function(){return Array.from(o.values())},getShortcutsByContext:function(e){return Array.from(o.values()).filter(o=>o.context===e||"any"===o.context)},clearShortcuts:function(){o.clear()},handleKeyDown:l}}const Cl=e=>({key:e,ctrl:!0}),El=e=>({key:e,ctrl:!0,shift:!0}),kl=e=>({key:e});const Sl=n([]),Il=n(!1);let Rl=null;function Al(e,o,t,n){const l={timestamp:(/* @__PURE__ */new Date).toISOString(),level:e,category:o,message:t,data:void 0!==n?JSON.parse(JSON.stringify(n)):void 0};Sl.value.push(l),Il.value||function(){if(null!==Rl)return;Il.value=!0,Rl=window.setInterval(()=>{!function(){if(0===Sl.value.length)return void Tl();const e=Sl.value.splice(0,50);for(const o of e)Ol(o)}()},100)}()}function Tl(){null!==Rl&&(window.clearInterval(Rl),Rl=null),Il.value=!1}function Ol(e){const o=`${`[${e.timestamp}] [${e.level}] [${e.category}]`} ${e.message}`;switch(e.level){case"DEBUG":void 0!==e.data?console.debug(o,e.data):console.debug(o);break;case"INFO":void 0!==e.data?console.log(o,e.data):console.log(o);break;case"WARN":void 0!==e.data?console.warn(o,e.data):console.warn(o);break;case"ERROR":case"FATAL":void 0!==e.data?console.error(o,e.data):console.error(o)}}const Nl=new class{isHostMode=!1;listBoxRegistry=/* @__PURE__ */new Map;constructor(){this.isHostMode=this.detectHostMode(),console.log("Grid API Mode: "+(this.isHostMode?"Host Objects":"HTTP"))}detectHostMode(){return!!window.gridApi}async callHostApi(e,...o){try{if(!window.gridApi)throw new Error("Grid API not available");const t=window.gridApi,n=await t[e](...o);return"string"==typeof n?JSON.parse(n):n}catch(t){return console.error("Grid API call failed:",t),{success:!1,error:t instanceof Error?t.message:"Unknown error"}}}async request(e,o){try{const t=await fetch(`http://localhost:5000/api/grid${e}`,{...o,headers:{"Content-Type":"application/json",...o?.headers},credentials:"include"});if(!t.ok){return{success:!1,error:(await t.json().catch(()=>({error:t.statusText}))).error||`HTTP ${t.status}: ${t.statusText}`}}return await t.json()}catch(t){return console.error("API request failed:",t),{success:!1,error:t instanceof Error?t.message:"Unknown error"}}}async getData(){return this.isHostMode?this.callHostApi("GetData"):this.request("/data")}async importData(e){if(this.isHostMode){const o=JSON.stringify({data:e});return this.callHostApi("ImportData",o)}return this.request("/import",{method:"POST",body:JSON.stringify({data:e})})}async exportData(e){if(this.isHostMode){const o=JSON.stringify({OnlyFiltered:e?.onlyFiltered??!1,FilteredRowIds:e?.filteredRowIds??null,ColumnNames:e?.columnNames??null});return this.callHostApi("ExportData",o)}{const o=new URLSearchParams;e?.onlyFiltered&&o.append("onlyFiltered","true"),e?.filteredRowIds&&o.append("filteredRowIds",JSON.stringify(e.filteredRowIds)),e?.columnNames&&o.append("columnNames",JSON.stringify(e.columnNames));const t=o.toString()?`?${o.toString()}`:"";return this.request(`/export${t}`)}}async getConfig(){return this.isHostMode?this.callHostApi("GetConfig"):this.request("/config")}async setValidationRules(e){if(this.isHostMode){const o=JSON.stringify({rules:e});return this.callHostApi("SetValidationRules",o)}return this.request("/validation-rules",{method:"POST",body:JSON.stringify({rules:e})})}async getValidationRules(){return this.isHostMode?this.callHostApi("GetValidationRules"):this.request("/validation-rules")}async getColumnNames(){if(this.isHostMode){const e=await this.callHostApi("GetColumnNames");return{success:e.success,data:e.data?.columnNames,error:e.error}}return this.request("/columns")}async getColumns(){return this.isHostMode?this.callHostApi("GetColumns"):this.request("/columns/definitions")}async healthCheck(){try{if(this.isHostMode){return(await this.callHostApi("HealthCheck")).success}return(await fetch("http://localhost:5000/health")).ok}catch{return!1}}registerListBox(e,o){this.listBoxRegistry.set(e,o),console.log(`[GridAPI] ListBox registered: ${e}`)}unregisterListBox(e){this.listBoxRegistry.delete(e),console.log(`[GridAPI] ListBox unregistered: ${e}`)}clearListBoxSelection(e){const o=this.listBoxRegistry.get(e);return o?(o.clearSelection(),console.log(`[GridAPI] ListBox selection cleared: ${e}`),{success:!0,message:`ListBox '${e}' selection cleared`}):(console.warn(`[GridAPI] ListBox not found: ${e}`),{success:!1,error:`ListBox not found: ${e}`})}getListBoxSelection(e){const o=this.listBoxRegistry.get(e);if(o){const t=o.getSelectedValues();return console.log(`[GridAPI] ListBox selection retrieved: ${e}`,t),{success:!0,data:t}}return console.warn(`[GridAPI] ListBox not found: ${e}`),{success:!1,error:`ListBox not found: ${e}`}}async getListBoxConfig(e){return this.isHostMode?this.callHostApi("GetListBoxConfig",e):this.request(`/listbox/${e}/config`)}async getThemeConfig(){return this.isHostMode?this.callHostApi("GetThemeConfig"):this.request("/theme/config")}},Vl={cellColors:{defaultBackground:"#ffffff",defaultForeground:"#212529",hoverBackground:"#f8f9fa",hoverForeground:"#212529",focusedBackground:"#e3f2fd",focusedForeground:"#0d6efd",disabledBackground:"#e9ecef",disabledForeground:"#6c757d",readOnlyBackground:"#f8f9fa",readOnlyForeground:"#495057"},rowColors:{evenRowBackground:"#ffffff",oddRowBackground:"#f8f9fa",hoverBackground:"#e3f2fd",selectedBackground:"#0d6efd",selectedForeground:"#ffffff",selectedInactiveBackground:"#e9ecef",selectedInactiveForeground:"#495057"},headerColors:{background:"#f1f3f5",foreground:"#212529",hoverBackground:"#e9ecef",pressedBackground:"#dee2e6",sortIndicatorColor:"#0d6efd"},validationColors:{errorBackground:"#ffebee",errorForeground:"#c62828",errorBorder:"#ef5350",warningBackground:"#fff3e0",warningForeground:"#e65100",warningBorder:"#ff9800",infoBackground:"#e3f2fd",infoForeground:"#1565c0",infoBorder:"#2196f3"},selectionColors:{selectionBorder:"#0d6efd",selectionFill:"rgba(13, 110, 253, 0.1)",multiSelectionBackground:"#bbdefb",multiSelectionForeground:"#0d6efd"},borderColors:{cellBorder:"#e0e0e0",rowBorder:"#e0e0e0",columnBorder:"#dee2e6",gridBorder:"#ced4da",focusedCellBorder:"#0d6efd"},specialColumnColors:{rowNumberBackground:"#f5f5f5",rowNumberForeground:"#666666",checkboxBorder:"#ced4da",checkboxBackground:"#ffffff",checkboxForeground:"#212529",deleteRowBackground:"transparent",deleteRowForeground:"#dc3545",deleteRowHoverBackground:"#ffebee",insertRowBackground:"transparent",insertRowForeground:"#28a745",insertRowBorder:"transparent",insertRowHoverBackground:"#e8f5e9",insertRowHoverForeground:"#1b5e20",validationAlertsErrorBackground:"#ffebee",validationAlertsErrorForeground:"#c62828"},uiControlColors:{resizeGripColor:"#adb5bd",menuBackground:"#ffffff",menuForeground:"#212529",menuHoverBackground:"#f8f9fa",dialogBackground:"#ffffff",dialogForeground:"#212529",dialogBorder:"#dee2e6",placeholderColor:"#6c757d",searchPanelBackground:"#f8f9fa",searchPanelForeground:"#212529",searchPanelBorder:"#ced4da",filterRowBackground:"#f8f9fa",filterRowForeground:"#212529",filterRowBorder:"#dee2e6",paginationBackground:"#ffffff",paginationForeground:"#212529",paginationBorder:"#dee2e6",paginationButtonHoverBackground:"#e9ecef"}},xl={itemColors:{defaultBackground:"#ffffff",defaultForeground:"#212529",hoverBackground:"#f8f9fa",hoverForeground:"#212529",selectedBackground:"#e3f2fd",selectedForeground:"#0d6efd",selectedHoverBackground:"#bbdefb",selectedHoverForeground:"#0d6efd",disabledBackground:"#e9ecef",disabledForeground:"#6c757d"},containerColors:{background:"#ffffff",border:"#ced4da",focusedBorder:"#0d6efd",titleForeground:"#212529"},checkboxColors:{border:"#ced4da",background:"#ffffff",checkedBackground:"#0d6efd",checkedBorder:"#0d6efd",hoverBorder:"#adb5bd"},scrollbarColors:{trackBackground:"#f1f1f1",thumbBackground:"#c1c1c1",thumbHoverBackground:"#a8a8a8"}};const Dl=["onClick","onContextmenu"],Pl={key:0,class:"checkbox-icon"},Hl={key:1,class:"checkbox-icon"},$l={key:1,class:"header-text"},Ll={key:0,class:"sort-order"},Fl=["onMousedown"],Bl=(e,o)=>{const t=e.__vccOpts||e;for(const[n,l]of o)t[n]=l;return t},Gl=/* @__PURE__ */Bl(/* @__PURE__ */b({__name:"DataGridHeader",props:{columns:{},gridTemplateColumns:{},gridId:{},isGridReady:{type:Boolean},isProcessing:{type:Boolean},showHiddenColumnsPanel:{type:Boolean},enableHideColumn:{type:Boolean},enableAutoFit:{type:Boolean}},emits:["sort","resize","hideColumn","autoFitColumn","showFilter"],setup(e,{emit:o}){const t=e,l=o,a=hl(t.gridId)(),r=n(null),s=n(0),c=n(0),u=f(()=>{const e=/* @__PURE__ */new Map;return a.sortColumns.forEach((o,t)=>{e.set(o.columnName,{direction:o.direction,order:t+1,isPrimary:0===t})}),e});function d(e){return u.value.get(e)??null}function p(e,o){if(console.log("[DataGridHeader] 🟢 Header CLICKED:",{columnName:o.name,specialType:o.specialType,isSortable:o.isSortable,shiftKey:e.shiftKey,button:e.button}),"Checkbox"!==o.specialType){if(o.isSortable&&e.shiftKey)return console.log("[DataGridHeader] 🔄 Sortable + Shift - calling handleSort"),void function(e,o=!1){if(!e.isSortable)return;const t=d(e.name);if(t){const n="asc"===t.direction?"desc":"asc";a.addSort(e.name,n,o)}else a.addSort(e.name,"asc",o);const n=d(e.name);n&&l("sort",e.name,n.direction)}(o,!0);console.log("[DataGridHeader] 📋 Calling showHeaderContextMenu"),v(e,o)}else console.log("[DataGridHeader] ❌ Checkbox column - ignoring click")}function g(){a.toggleAllCheckboxes()}function h(e){if(!r.value)return;const o=e.clientX-s.value,t=Math.max(r.value.minWidth,Math.min(r.value.maxWidth,c.value+o));l("resize",r.value.name,t)}function m(){r.value=null,window.removeEventListener("mousemove",h),window.removeEventListener("mouseup",m)}function v(e,o){if(console.log("[DataGridHeader] 🔵 Context menu requested for column:",o.name),console.log("[DataGridHeader] Column props:",{specialType:o.specialType,name:o.name,header:o.header,isSortable:o.isSortable,isFilterable:o.isFilterable}),console.log("[DataGridHeader] showHiddenColumnsPanel prop:",t.showHiddenColumnsPanel),console.log("[DataGridHeader] isGridReady:",t.isGridReady,", isProcessing:",t.isProcessing),!1===t.isGridReady)return void console.error("[showHeaderContextMenu] ❌ Grid not ready yet");if(!a)return void console.error("[showHeaderContextMenu] ❌ Store not initialized yet");if(t.isProcessing)return void console.error("[showHeaderContextMenu] ❌ Grid is currently processing data");console.log("[DataGridHeader] ✅ All checks passed, building menu items...");const n=[...a.sortColumns],r=a.filterExpression,i=[];if(o.isSortable){const e=d(o.name),t=n.length>0;i.push({label:"Sort Ascending",icon:"▲",onClick:()=>{a.addSort(o.name,"asc",!1),l("sort",o.name,"asc")}},{label:"Sort Descending",icon:"▼",onClick:()=>{a.addSort(o.name,"desc",!1),l("sort",o.name,"desc")}}),t&&i.push({divided:!0},{label:"Add to Sort (Asc)",icon:"▲+",onClick:()=>{a.addSort(o.name,"asc",!0)}},{label:"Add to Sort (Desc)",icon:"▼+",onClick:()=>{a.addSort(o.name,"desc",!0)}}),e&&i.push({divided:!0},{label:`Remove from Sort (Order ${e.order})`,icon:"✖",onClick:()=>{const e=n.filter(e=>e.columnName!==o.name);a.setSortColumns(e)}}),t&&i.push({label:"Clear All Sorts",icon:"🗑",onClick:()=>{a.clearSort()}}),i.push({divided:!0})}o.isFilterable&&(i.push({label:"Filter...",icon:"🔍",onClick:()=>l("showFilter",o.name)}),null!==r&&i.push({label:"Clear All Filters",icon:"🗑",onClick:()=>{a.clearFilter()}}),i.push({divided:!0})),console.log("[DataGridHeader] Checking column management options, specialType:",o.specialType),o.specialType||!1===t.enableAutoFit?o.specialType||console.log("[DataGridHeader] ❌ NOT adding Auto-fit Column option (enableAutoFit is false)"):(console.log("[DataGridHeader] ✅ Adding Auto-fit Column option (enableAutoFit !== false)"),i.push({label:"Auto-fit Column",icon:"↔️",onClick:()=>{console.log("[DataGridHeader] ↔️ Auto-fit Column clicked for:",o.name),console.log("[DataGridHeader] 🚀 Emitting autoFitColumn event"),l("autoFitColumn",o.name)}})),o.specialType||!1===t.enableHideColumn?o.specialType||console.log("[DataGridHeader] ❌ NOT adding Hide Column option (enableHideColumn is false)"):(console.log("[DataGridHeader] ✅ Adding Hide Column option (enableHideColumn !== false)"),i.push({label:"Hide Column",icon:"👁️",onClick:()=>{console.log("[DataGridHeader] 👁️ Hide Column clicked for:",o.name),console.log("[DataGridHeader] 🚀 Emitting hideColumn event"),l("hideColumn",o.name)}})),console.log("[DataGridHeader] 📋 Total menu items:",i.length),console.log("[DataGridHeader] Menu items labels:",i.map(e=>e.label||"---divider---")),W.showContextMenu({x:e.x,y:e.y,items:i})}return(o,t)=>(C(),_("div",{class:"grid-header",style:E({gridTemplateColumns:e.gridTemplateColumns})},[(C(!0),_(k,null,S(e.columns,e=>(C(),_("div",{key:e.name,class:R(["header-cell",{"header-cell--auto-width":e.autoWidth}]),onClick:o=>p(o,e),onContextmenu:I(o=>v(o,e),["prevent"])},["Checkbox"===e.specialType?(C(),_("div",{key:0,class:R(["custom-checkbox",{"checkbox-none":"none"===i(a).checkboxState,"checkbox-some":"some"===i(a).checkboxState,"checkbox-all":"all"===i(a).checkboxState}]),onClick:I(g,["stop"]),title:"Toggle all checkboxes"},["all"===i(a).checkboxState?(C(),_("span",Pl,"✓")):"some"===i(a).checkboxState?(C(),_("span",Hl,"−")):A("",!0)],2)):(C(),_("span",$l,O(e.header),1)),e.isSortable&&d(e.name)?(C(),_("span",{key:2,class:R(["sort-icon",d(e.name)?.isPrimary?"sort-icon--primary":"sort-icon--secondary"])},[N(O("asc"===d(e.name)?.direction?"▲":"▼")+" ",1),d(e.name)?.order&&d(e.name).order>1?(C(),_("span",Ll,O(d(e.name)?.order),1)):A("",!0)],2)):A("",!0),T("div",{class:"resize-grip",onMousedown:I(o=>function(e,o){r.value=e,s.value=o.clientX,c.value=e.width,window.addEventListener("mousemove",h),window.addEventListener("mouseup",m)}(e,o),["stop"])},null,40,Fl)],42,Dl))),128))],4))}}),[["__scopeId","data-v-e0d96a4e"]]),Ul=["innerHTML"],Ml=/* @__PURE__ */Bl(/* @__PURE__ */b({__name:"DataGridCell",props:{cell:{},column:{},isSelected:{type:Boolean},gridId:{}},emits:["editComplete","cellInput","copy","cut","paste","delete","insertAbove","insertBelow"],setup(e,{emit:t}){const l=e,a=t,r=hl(l.gridId)(),i=o("validation",null),s=i?.validateCellThrottled||(()=>{}),c=i?.validationErrors||{},u=n(),d=n(),p=n(!1),h=n(l.cell.value),m=n(null),v=n(!1),w=n(null),y=n(!1),b=f(()=>null==l.cell.value?"":String(l.cell.value)),k=f(()=>b.value.includes("\n")),S=f(()=>{const e=b.value,o=r.searchQuery;if(!o||!e)return I(e);try{const t=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),n=new RegExp(`(${t})`,"gi");return I(e).replace(n,'<mark class="search-highlight">$1</mark>')}catch(t){return I(e)}});function I(e){const o=document.createElement("div");return o.textContent=e,o.innerHTML}const T=f(()=>(c[l.cell.rowId]||[]).find(e=>e.columnName===l.cell.columnName)),N=f(()=>({"cell--selected":l.isSelected,"cell--editing":p.value,"cell--validation-error":"Error"===T.value?.severity||"Critical"===T.value?.severity,"cell--validation-warning":"Warning"===T.value?.severity||"Info"===T.value?.severity,"cell--readonly":l.column.isReadOnly,"cell--auto-height":r.isAutoRowHeightEnabled,"cell--has-newlines":k.value&&!r.isAutoRowHeightEnabled})),H=f(()=>({}));function $(e){if(0!==e.button)return;const o=e.ctrlKey;console.log("[DataGridCell] MouseDown:",{rowId:l.cell.rowId,columnName:l.cell.columnName,isEditing:p.value}),r.selectCell(l.cell.rowId,l.cell.columnName,o)}function L(e){if(v.value=!0,u.value){const e=u.value.getBoundingClientRect();w.value={left:e.left,top:e.top-4}}if(e.ctrlKey||r.wasCtrlPressed)return;const o=1===e.buttons;if(r.pressedCell&&!r.isDragging&&o){if(l.cell.rowId===r.pressedCell.rowId&&l.cell.columnName===r.pressedCell.columnName)return;r.startDragSelection(l.cell.rowId,l.cell.columnName)}else r.isDragging&&o&&r.expandDragSelection(l.cell.rowId,l.cell.columnName)}function F(){v.value=!1,w.value=null}function B(e){p.value||!l.isSelected||"Enter"!==e.key||l.column.isReadOnly||(e.preventDefault(),G())}async function G(){l.column.isReadOnly||(console.log("[DataGridCell] enterEditMode:",{rowId:l.cell.rowId,columnName:l.cell.columnName,currentCellValue:l.cell.value,storingAsOriginal:l.cell.value}),m.value=l.cell.value,p.value=!0,h.value=l.cell.value,await g(),d.value?.focus(),d.value?.select())}async function U(){console.log("[DataGridCell] handleDoubleClick:",{rowId:l.cell.rowId,columnName:l.cell.columnName,currentValue:l.cell.value}),G()}function M(){const e=r.rows.find(e=>e.rowId===l.cell.rowId);if(e)return e.cells.map(e=>({columnName:e.columnName,value:e.value}))}function j(){if(console.log("[DataGridCell] handleInput:",{rowId:l.cell.rowId,columnName:l.cell.columnName,newValue:h.value,autoValidate:r.config.autoValidate}),r.config.autoValidate&&r.config.enableValidation){const e=M();s(l.cell.rowId,l.cell.columnName,h.value,e)}a("cellInput",l.cell.rowId,l.cell.columnName,h.value)}function z(e){if(console.log("[DataGridCell] handleKeyDown:",{rowId:l.cell.rowId,columnName:l.cell.columnName,key:e.key,shift:e.shiftKey,ctrl:e.ctrlKey}),"Escape"===e.key)return e.preventDefault(),e.stopPropagation(),void K();if("Enter"===e.key&&!e.shiftKey)return e.preventDefault(),e.stopPropagation(),void function(){if(console.log("[DataGridCell] confirmEdit:",{rowId:l.cell.rowId,columnName:l.cell.columnName,confirmedValue:h.value,originalWas:m.value}),y.value=!0,r.config.autoValidate&&r.config.enableValidation){const e=M();s(l.cell.rowId,l.cell.columnName,h.value,e)}a("editComplete",l.cell.rowId,l.cell.columnName,h.value),p.value=!1,m.value=null,g(()=>{try{console.log(`[DataGridCell] confirmEdit - Attempting to restore focus to cell: rowId=${l.cell.rowId}, column=${l.cell.columnName}`),u.value?(u.value.focus(),console.log("[DataGridCell] confirmEdit - Focus restored successfully")):console.log("[DataGridCell] confirmEdit - WARNING: cellRef.value is null/undefined")}catch(e){console.log(`[DataGridCell] confirmEdit - ERROR restoring focus: ${e}`)}}),setTimeout(()=>{y.value=!1},100)}();if("Tab"===e.key){e.preventDefault();const o=e.target,t=o.selectionStart,n=o.selectionEnd;h.value=h.value.substring(0,t)+"\t"+h.value.substring(n),g(()=>{o.selectionStart=o.selectionEnd=t+1})}}function K(){if(console.log("[DataGridCell] cancelEdit:",{rowId:l.cell.rowId,columnName:l.cell.columnName,originalValue:m.value,currentEditValue:h.value}),h.value=m.value,p.value=!1,a("editComplete",l.cell.rowId,l.cell.columnName,m.value),r.config.autoValidate&&r.config.enableValidation){const e=M();s(l.cell.rowId,l.cell.columnName,m.value,e)}m.value=null,g(()=>{try{console.log(`[DataGridCell] cancelEdit - Attempting to restore focus to cell: rowId=${l.cell.rowId}, column=${l.cell.columnName}`),u.value?(u.value.focus(),console.log("[DataGridCell] cancelEdit - Focus restored successfully")):console.log("[DataGridCell] cancelEdit - WARNING: cellRef.value is null/undefined")}catch(e){console.log(`[DataGridCell] cancelEdit - ERROR restoring focus: ${e}`)}})}function q(){console.log("[DataGridCell] handleBlur:",{rowId:l.cell.rowId,columnName:l.cell.columnName,isEditing:p.value,isConfirming:y.value}),p.value&&!y.value&&K()}function Y(e){if(!e.ctrlKey)return;e.preventDefault();const o=/* @__PURE__ */new Map;r.selectedCells.forEach(e=>{const[t]=e.split(":"),n=r.rows.find(e=>e.rowId===t);n&&o.set(t,n.rowIndex)});const t=o.size,n=Array.from(o.values()),i=n.length>0?Math.min(...n):0,s=n.length>0?Math.max(...n):0,c=r.rows.find(e=>e.rowIndex===i),u=r.rows.find(e=>e.rowIndex===s);W.showContextMenu({x:e.x,y:e.y,items:[{label:"Copy",icon:"📋",onClick:()=>a("copy"),disabled:!l.isSelected},{label:"Cut",icon:"✂️",onClick:()=>a("cut"),disabled:!l.isSelected||l.column.isReadOnly},{label:"Paste",icon:"📄",onClick:()=>a("paste"),disabled:l.column.isReadOnly},{divided:!0},{label:"Delete",icon:"🗑️",onClick:()=>a("delete"),disabled:!l.isSelected||l.column.isReadOnly},{divided:!0},{label:`Insert ${t} row(s) above`,icon:"⬆️",onClick:()=>a("insertAbove",c?.rowId||l.cell.rowId,t||1),disabled:l.column.isReadOnly},{label:`Insert ${t} row(s) below`,icon:"⬇️",onClick:()=>a("insertBelow",u?.rowId||l.cell.rowId,t||1),disabled:l.column.isReadOnly}]})}return(o,t)=>(C(),_("div",{ref_key:"cellRef",ref:u,class:R(["grid-cell",N.value]),style:E(H.value),onMousedown:$,onMouseenter:L,onMouseleave:F,onDblclick:U,onKeydown:B,onContextmenu:Y,tabindex:"0"},[p.value?V((C(),_("textarea",{key:1,ref_key:"inputRef",ref:d,"onUpdate:modelValue":t[0]||(t[0]=e=>h.value=e),class:"cell-input",onInput:j,onBlur:q,onKeydown:z},null,544)),[[D,h.value]]):(C(),_("div",{key:0,class:"cell-text",innerHTML:S.value},null,8,Ul)),(C(),x(P,{to:"body"},[T.value&&(v.value||e.isSelected)&&w.value?(C(),_("div",{key:0,class:R(["validation-tooltip",{"validation-tooltip--error":"Error"===T.value.severity||"Critical"===T.value.severity,"validation-tooltip--warning":"Warning"===T.value.severity||"Info"===T.value.severity}]),style:E({position:"fixed",left:w.value.left+"px",top:w.value.top+"px"})},O(T.value.message),7)):A("",!0)]))],38))}}),[["__scopeId","data-v-46101a22"]]),jl={key:0,class:"row-number"},zl=["checked"],Wl=["title"],Kl={class:"validation-message"},ql=["disabled"],Yl=/* @__PURE__ */Bl(/* @__PURE__ */b({__name:"SpecialColumnCell",props:{specialType:{},rowId:{},rowIndex:{},column:{},isChecked:{type:Boolean}},emits:["checkboxChange","deleteRow","insertRow"],setup(e,{emit:t}){const l=e,a=t;r(()=>l.isChecked,(e,o)=>{"Checkbox"===l.specialType&&console.log("[SpecialColumnCell] isChecked prop changed:",{rowId:l.rowId,newVal:e,oldVal:o})},{immediate:!0});const i=o("validation",null),s=i?.validationErrors||{},c=n(!1),u=n(0),d=f(()=>l.rowIndex+1),p=f(()=>s[l.rowId]||[]),g=f(()=>p.value.some(e=>"Error"===e.severity||"Critical"===e.severity)),h=f(()=>p.value.some(e=>"Warning"===e.severity)),m=f(()=>{const e=p.value;return 0===e.length?"":e.map(e=>`${e.columnName}: ${e.message}`).join("; ")}),v=f(()=>({"special-cell--row-number":"RowNumber"===l.specialType,"special-cell--checkbox":"Checkbox"===l.specialType,"special-cell--validation":"ValidationAlerts"===l.specialType,"special-cell--delete":"DeleteRow"===l.specialType,"special-cell--insert":"InsertRow"===l.specialType})),w=f(()=>({}));function y(e){const o=e.target;console.log("[SpecialColumnCell] Checkbox change:",{rowId:l.rowId,checked:o.checked,currentProp:l.isChecked}),a("checkboxChange",l.rowId,o.checked)}function b(){const e=Date.now();e-u.value<300||(u.value=e,confirm("Are you sure you want to delete this row?")&&(c.value=!0,a("deleteRow",l.rowId),setTimeout(()=>{c.value=!1},1e3)))}function k(){a("insertRow",l.rowId)}return(o,t)=>(C(),_("div",{class:R(["special-cell",v.value]),style:E(w.value),onMousedown:t[0]||(t[0]=I(()=>{},["stop"])),onMouseenter:t[1]||(t[1]=I(()=>{},["stop"]))},["RowNumber"===e.specialType?(C(),_("span",jl,O(d.value),1)):"Checkbox"===e.specialType?(C(),_("input",{key:1,type:"checkbox",class:"checkbox-input",checked:e.isChecked,onChange:y},null,40,zl)):"ValidationAlerts"===e.specialType?(C(),_("div",{key:2,class:R(["validation-alerts",{"has-errors":g.value||h.value}]),title:m.value},[T("span",Kl,O(m.value),1)],10,Wl)):"DeleteRow"===e.specialType?(C(),_("button",{key:3,class:"delete-button",disabled:c.value,onClick:b,title:"Delete row"}," 🗑️ ",8,ql)):"InsertRow"===e.specialType?(C(),_("button",{key:4,class:"insert-button",onClick:k,title:"Insert new row"}," ➕ ")):A("",!0)],38))}}),[["__scopeId","data-v-771c0d4c"]]),Jl=/* @__PURE__ */Bl(/* @__PURE__ */b({__name:"DataGridRow",props:{row:{},columns:{},gridTemplateColumns:{},gridId:{}},emits:["cellEditComplete","cellInput","checkboxChange","deleteRow","insertRow","insertAbove","insertBelow"],setup(e,{emit:o}){const t=e,n=o,l=hl(t.gridId)(),a=f(()=>{const e=l.isRowChecked(t.row.rowId);return console.log("[DataGridRow] Row checked state:",{rowId:t.row.rowId,checked:e}),e});function r(e){const o=t.row.cells.find(o=>o.columnName===e);return o||{rowId:t.row.rowId,columnName:e,value:null,isSelected:!1,isValidationError:!1}}function s(e,o,t){n("cellEditComplete",e,o,t)}function c(e,o,t){n("cellInput",e,o,t)}function u(e,o){n("checkboxChange",e,o)}function d(e){n("deleteRow",e)}function p(e){n("insertRow",e)}function g(e,o){n("insertAbove",e,o)}function h(e,o){n("insertBelow",e,o)}return(o,t)=>(C(),_("div",{class:"grid-row",style:E({height:e.row.height+"px",gridTemplateColumns:e.gridTemplateColumns})},[(C(!0),_(k,null,S(e.columns,o=>(C(),_(k,{key:`${e.row.rowId}:${o.name}`},[o.specialType?(C(),x(Yl,{key:0,"special-type":o.specialType,"row-id":e.row.rowId,"row-index":e.row.rowIndex,column:o,"is-checked":"Checkbox"===o.specialType?a.value:void 0,onCheckboxChange:u,onDeleteRow:d,onInsertRow:p},null,8,["special-type","row-id","row-index","column","is-checked"])):(C(),x(Ml,{key:1,cell:r(o.name),column:o,"is-selected":i(l).isCellSelected(e.row.rowId,o.name),"grid-id":e.gridId,onEditComplete:s,onCellInput:c,onInsertAbove:g,onInsertBelow:h},null,8,["cell","column","is-selected","grid-id"]))],64))),128))],4))}}),[["__scopeId","data-v-fc3d676a"]]),Xl=/* @__PURE__ */Bl(/* @__PURE__ */b({inheritAttrs:!1,__name:"LazyRow",props:{row:{},columns:{},gridTemplateColumns:{},minTableWidth:{},gridId:{}},setup(e){const t=e,l=n(null),a=o("intersectionObserver"),r=o("rowVisibility"),i=f(()=>{if(t.row.cells.every(e=>null===e.value||void 0===e.value||""===e.value))return!0;if(!r||!r.value)return console.warn("[LazyRow] rowVisibility not available, rendering by default for row:",t.row.rowId),!0;return r.value.get(t.row.rowId)??!0});return w(()=>{a&&a.value&&l.value&&(l.value.dataset.rowId=t.row.rowId,a.value.observe(l.value))}),y(()=>{a&&a.value&&l.value&&(a.value.unobserve(l.value),r&&r.value&&r.value.delete(t.row.rowId))}),(o,t)=>(C(),_("div",{ref_key:"placeholderRef",ref:l,class:"lazy-row-placeholder",style:E({height:e.row.height+"px"})},[i.value?(C(),x(Jl,H({key:0,row:e.row,columns:e.columns,"grid-template-columns":e.gridTemplateColumns,"min-table-width":e.minTableWidth,"grid-id":e.gridId},o.$attrs),null,16,["row","columns","grid-template-columns","min-table-width","grid-id"])):A("",!0)],4))}}),[["__scopeId","data-v-bf787141"]]),Zl={class:"pagination"},Ql=["disabled"],ea=["disabled"],oa={class:"page-numbers"},ta=["onClick"],na=["disabled"],la=["disabled"],aa={class:"page-info"},ra=["value"],ia=["value"],sa=/* @__PURE__ */Bl(/* @__PURE__ */b({__name:"PaginationControl",props:{currentPage:{},pageSize:{},totalRows:{},pageSizeOptions:{default:()=>[50,100,200,500]}},emits:["pageChange","pageSizeChange"],setup(e,{emit:o}){const t=e,n=o,l=f(()=>{const e=[...t.pageSizeOptions];return e.includes(t.pageSize)||e.push(t.pageSize),e.sort((e,o)=>e-o)}),a=f(()=>Math.ceil(t.totalRows/t.pageSize)),r=f(()=>{const e=a.value,o=t.currentPage;if(e<=20){const o=[];for(let t=1;t<=e;t++)o.push(t);return o}const n=Math.ceil(e/20),l=/* @__PURE__ */new Set;l.add(1),l.add(e),l.add(o),o>1&&l.add(o-1),o<e&&l.add(o+1);for(let t=1;t<=e;t+=n)l.add(t);return Array.from(l).sort((e,o)=>e-o)});function i(e){const o=e.target;n("pageSizeChange",Number(o.value))}return(o,t)=>(C(),_("div",Zl,[T("button",{onClick:t[0]||(t[0]=e=>n("pageChange",1)),disabled:1===e.currentPage}," First ",8,Ql),T("button",{onClick:t[1]||(t[1]=o=>n("pageChange",e.currentPage-1)),disabled:1===e.currentPage}," Previous ",8,ea),T("div",oa,[(C(!0),_(k,null,S(r.value,o=>(C(),_("button",{key:o,class:R({"page-number":!0,active:o===e.currentPage}),onClick:e=>n("pageChange",o)},O(o),11,ta))),128))]),T("button",{onClick:t[2]||(t[2]=o=>n("pageChange",e.currentPage+1)),disabled:e.currentPage===a.value}," Next ",8,na),T("button",{onClick:t[3]||(t[3]=e=>n("pageChange",a.value)),disabled:e.currentPage===a.value}," Last ",8,la),T("span",aa," ("+O(e.totalRows)+" rows) ",1),T("select",{value:e.pageSize,onChange:i},[(C(!0),_(k,null,S(l.value,e=>(C(),_("option",{key:e,value:e},O(e),9,ia))),128))],40,ra)]))}}),[["__scopeId","data-v-8f2dff14"]]),ca={class:"filter-header"},ua={class:"filter-title"},da={class:"filter-mode"},pa={key:0,class:"filter-content"},ga={class:"filter-values"},fa=["onUpdate:modelValue"],ha={class:"value-text"},ma={key:0,class:"no-values"},va={key:1,class:"filter-content"},wa={class:"regex-label"},ya=/* @__PURE__ */Bl(/* @__PURE__ */b({__name:"FilterFlyout",props:{visible:{type:Boolean},columnName:{},position:{},uniqueValues:{},currentMode:{},currentPattern:{}},emits:["close","applyCheckbox","applyRegex","clearFilter"],setup(e,{emit:o}){const t=e,l=o,a=n(t.currentMode||"checkbox"),i=n(""),s=n(t.currentPattern||""),c=n([]);r(()=>t.uniqueValues,e=>{c.value=e.map(e=>({...e}))},{immediate:!0,deep:!0}),r(()=>t.currentPattern,e=>{e&&(s.value=e)},{immediate:!0});const u=f(()=>{if(!i.value)return c.value;const e=i.value.toLowerCase();return c.value.filter(o=>o.value.toLowerCase().includes(e))}),d=e=>e.count>0?`${e.value} (${e.count})`:e.value;function p(){u.value.forEach(e=>{e.isSelected=!0})}function g(){u.value.forEach(e=>{e.isSelected=!1})}function h(){if("checkbox"===a.value){const e=c.value.filter(e=>e.isSelected).map(e=>e.value);l("applyCheckbox",e)}else l("applyRegex",s.value);v()}function m(){l("clearFilter"),v()}function v(){l("close")}return(o,t)=>(C(),x(P,{to:"body"},[e.visible?(C(),_("div",{key:0,class:"filter-flyout-overlay",onClick:I(v,["self"])},[T("div",{class:"filter-flyout",style:E({top:e.position.y+"px",left:e.position.x+"px"})},[T("div",ca,[T("h3",ua,"Filter: "+O(e.columnName),1),T("button",{class:"close-button",onClick:v},"✕")]),T("div",da,[T("label",null,[V(T("input",{type:"radio",value:"checkbox","onUpdate:modelValue":t[0]||(t[0]=e=>a.value=e),name:"filterMode"},null,512),[[$,a.value]]),t[4]||(t[4]=T("span",null,"Checkbox",-1))]),T("label",null,[V(T("input",{type:"radio",value:"regex","onUpdate:modelValue":t[1]||(t[1]=e=>a.value=e),name:"filterMode"},null,512),[[$,a.value]]),t[5]||(t[5]=T("span",null,"Regex",-1))])]),"checkbox"===a.value?(C(),_("div",pa,[V(T("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>i.value=e),type:"text",class:"filter-search",placeholder:"Search values..."},null,512),[[D,i.value]]),T("div",{class:"filter-actions"},[T("button",{class:"action-button",onClick:p},"Select All"),T("button",{class:"action-button",onClick:g},"Deselect All")]),T("div",ga,[(C(!0),_(k,null,S(u.value,e=>(C(),_("label",{key:e.value,class:R(["value-item",{"value-item--selected":e.isSelected}])},[V(T("input",{type:"checkbox","onUpdate:modelValue":o=>e.isSelected=o,class:"value-checkbox"},null,8,fa),[[L,e.isSelected]]),T("span",ha,O(e.displayText||d(e)),1)],2))),128)),0===u.value.length?(C(),_("div",ma," No values found ")):A("",!0)])])):(C(),_("div",va,[T("label",wa,[t[6]||(t[6]=T("span",null,"Regex Pattern:",-1)),V(T("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>s.value=e),type:"text",class:"regex-input",placeholder:"^test.*|.*example$"},null,512),[[D,s.value]])]),t[7]||(t[7]=T("div",{class:"regex-help"},[T("details",null,[T("summary",null,"Regex Examples"),T("ul",null,[T("li",null,[T("code",null,"^test"),N(' - Starts with "test"')]),T("li",null,[T("code",null,"example$"),N(' - Ends with "example"')]),T("li",null,[T("code",null,"^test.*example$"),N(' - Starts with "test" and ends with "example"')]),T("li",null,[T("code",null,"test|example"),N(' - Contains "test" OR "example"')]),T("li",null,[T("code",null,"\\d{3}"),N(" - Contains exactly 3 digits")])])])],-1))])),T("div",{class:"filter-footer"},[T("button",{class:"footer-button footer-button--apply",onClick:h}," Apply Filter "),T("button",{class:"footer-button footer-button--clear",onClick:m}," Clear Filter "),T("button",{class:"footer-button footer-button--cancel",onClick:v}," Cancel ")])],4)])):A("",!0)]))}}),[["__scopeId","data-v-4fbdbd14"]]),ba={key:0,class:"processing-overlay"},_a={class:"processing-content"},Ca={class:"processing-text"},Ea={key:0,class:"progress-container"},ka={class:"progress-bar-wrapper"},Sa={class:"progress-text"},Ia={key:1,class:"loading-overlay"},Ra={class:"loading-content"},Aa={class:"loading-text"},Ta={key:0,class:"progress-container"},Oa={class:"progress-bar-wrapper"},Na={class:"progress-text"},Va={class:"grid-toolbar"},xa={class:"toolbar-section"},Da=["title"],Pa={key:2,class:"hidden-columns-panel"},Ha=["onClick","title"],$a={class:"grid-container"},La={class:"table-content"},Fa=/* @__PURE__ */Bl(/* @__PURE__ */b({__name:"DataGrid",props:{config:{},columns:{},gridId:{},theme:{},minTableWidth:{},width:{},height:{},autoRowHeightEnabled:{type:Boolean},minRows:{},showHiddenColumnsPanel:{type:Boolean},enableHideColumn:{type:Boolean,default:!0},enableAutoFit:{type:Boolean,default:!0}},setup(e,{expose:o}){const t=e,l=t.gridId||`grid-${Math.random().toString(36).substr(2,9)}`,a=function(e="App"){return{debug(o,t){Al("DEBUG",e,o,t)},info(o,t){Al("INFO",e,o,t)},warn(o,t){Al("WARN",e,o,t)},error(o,t){Al("ERROR",e,o,t)},fatal(o,t){Al("FATAL",e,o,t)},flush(){for(;Sl.value.length>0;)Ol(Sl.value.shift());Tl()},getQueueSize:()=>Sl.value.length}}(`DataGrid[${l}]`);a.info("⚙️ Component initializing",{gridId:l,hasConfig:!!t.config,hasColumns:!!t.columns,columnCount:t.columns?.length||0}),console.log("[DataGrid] Creating store with ID:",l);const s=hl(l);let c;console.log("[DataGrid] Store factory created:",typeof s,s);try{c=s(),console.log("[DataGrid] Store instance created:",c),a.debug("📦 Store created",{instanceId:l})}catch(Ge){throw console.error("[DataGrid] FAILED to create store:",Ge),a.error("❌ Store creation failed",{instanceId:l,error:Ge}),Ge}void 0!==t.autoRowHeightEnabled&&(c.setAutoRowHeightEnabled(t.autoRowHeightEnabled),a.info(`🔧 AutoRowHeight initialized to: ${t.autoRowHeightEnabled}`)),void 0!==t.minRows&&(c.setMinRows(t.minRows),a.info(`🔧 MinRows initialized to: ${t.minRows}`));const u=ml();F("validation",u);const d=n(/* @__PURE__ */new Map),p=n(null);try{F("intersectionObserver",p),F("rowVisibility",d),a.debug("✅ Observer refs created and provided successfully")}catch(Ge){throw a.error("❌ Failed to initialize observer:",Ge),console.error("[DataGrid] Setup error:",Ge),Ge}const h=vl(),{filterRows:m,evaluateFilter:v}=dl(),b=n(!1),I=n(!1),N=n(!1),V=n({isValidating:!1,current:0,total:0,percentage:0});let D=!1;const P=n(800),H=f(()=>{const e=Math.max(32,Math.floor(.7*P.value));return console.log(`[AutoRowHeight] Computed maxHeight: ${e}px (container: ${P.value}px)`),e}),$=yl({minHeight:32,maxHeight:H.value,fontFamily:"system-ui, -apple-system, sans-serif",fontSize:14,enableWrapping:!0,padding:16});r(H,async e=>{console.log(`[AutoRowHeight] maxHeight changed to: ${e}px`),$.updateMaxHeight(e),c.isAutoRowHeightEnabled&&c.rows.length>0&&(console.log("[AutoRowHeight] maxHeight changed - recalculating all row heights..."),await De())});const L=()=>{if(!K.value)return void console.log("[AutoRowHeight] Cannot measure: scrollerRef is null");const e=K.value.clientHeight;e>0?(P.value=e,console.log(`[AutoRowHeight] Container height measured: ${e}px`)):console.log("[AutoRowHeight] Container height is 0, keeping default")};w(async()=>{if(a.info("========== ✅ Component mounted - START initialization ==========",{gridId:t.gridId,autoRowHeight:c.isAutoRowHeightEnabled,rowCount:c.rows.length,columnCount:c.columns.length}),document.addEventListener("mouseup",te),document.addEventListener("keydown",ee),a.debug("🎯 Event listeners registered (mouseup, keydown)"),t.columns&&t.columns.length>0&&0===c.rows.length){a.info("🔧 Auto-initializing empty rows from provided columns",{columnCount:t.columns.length});try{c.setColumns(t.columns),c.initializeEmptyRows(),a.info(`✅ Auto-initialized ${c.rows.length} empty rows`)}catch(Ge){a.error("❌ Failed to set columns:",Ge),alert(`Column configuration error: ${Ge instanceof Error?Ge.message:"Unknown error"}`)}}if(async function(){a.debug("🔌 Checking backend connection...");try{M.value=await Nl.healthCheck(),M.value?a.info("✅ Backend connected"):a.warn("⚠️ Backend disconnected")}catch(Ge){a.error("❌ Backend connection check failed",{error:Ge?.message||Ge?.toString()||"Unknown error",stack:Ge?.stack}),M.value=!1}}(),await g(),a.debug("⏰ DOM ready after nextTick"),L(),c.isAutoRowHeightEnabled&&c.rows.length>0){a.info("📏 AutoRowHeight enabled - applying heights..."),await g();try{await De(),a.info("✅ AutoRowHeight applied successfully on mount")}catch(Ge){a.error("❌ AutoRowHeight ERROR on mount:",Ge)}}else a.debug(`⏭️ Skipping AutoRowHeight: enabled=${c.isAutoRowHeightEnabled}, rowCount=${c.rows.length}`);if(await g(),K.value?(p.value=new IntersectionObserver(e=>{e.forEach(e=>{const o=e.target.dataset.rowId;o&&d.value.set(o,e.isIntersecting)})},{root:K.value,rootMargin:"100px",threshold:0}),a.info("👁️ IntersectionObserver created with root: .scroller for instance:",l)):a.error("❌ scrollerRef not available for IntersectionObserver!"),window.addEventListener("resize",L),a.debug("🎯 Resize listener registered"),K.value){const e=e=>{if(!K.value)return;if(Math.abs(e.deltaY)>Math.abs(e.deltaX)){const o=K.value.scrollHeight-K.value.clientHeight,t=K.value.scrollTop;(e.deltaY<0&&t<=0||e.deltaY>0&&t>=o)&&e.preventDefault()}};K.value.addEventListener("wheel",e,{passive:!1}),a.debug("🎯 Wheel event handler registered on .scroller"),window.__dataGridScrollCleanup=window.__dataGridScrollCleanup||[],window.__dataGridScrollCleanup.push(()=>{K.value?.removeEventListener("wheel",e)})}await g(),b.value=!0,a.info("========== ✅ Grid marked as READY for user interaction =========="),await g();const e=document.querySelector(".table-content"),o=document.querySelector(".table-inner"),n=document.querySelector(".grid-header"),r=K.value,i=document.querySelector(".grid-row");if(console.group("🔍 HORIZONTAL SCROLL DIAGNOSTIC"),console.log("📊 .table-content:",{offsetWidth:e?.offsetWidth,scrollWidth:e?.scrollWidth,"overflow-x (CSS)":"auto","overflow-x (computed)":e?getComputedStyle(e).overflowX:null,hasHorizontalScroll:(e?.scrollWidth||0)>(e?.offsetWidth||0)}),console.log("📊 .table-inner (NOVÝ WRAPPER):",{offsetWidth:o?.offsetWidth,scrollWidth:o?.scrollWidth,minWidth:o?.style.minWidth,"width (CSS)":"fit-content","width (computed)":o?getComputedStyle(o).width:null}),console.log("📊 .grid-header:",{offsetWidth:n?.offsetWidth,scrollWidth:n?.scrollWidth,gridTemplateColumns:n?.style.gridTemplateColumns,"minWidth removed":"✅"}),console.log("📊 .scroller:",{offsetWidth:r?.offsetWidth,scrollWidth:r?.scrollWidth,"overflow-x (CSS)":"hidden","overflow-x (computed)":r?getComputedStyle(r).overflowX:null,"overflow-y (computed)":r?getComputedStyle(r).overflowY:null,hasHorizontalScroll:(r?.scrollWidth||0)>(r?.offsetWidth||0)}),console.log("📊 .grid-row (first):",{offsetWidth:i?.offsetWidth,scrollWidth:i?.scrollWidth,gridTemplateColumns:i?.style.gridTemplateColumns,"minWidth removed":"✅"}),console.log("🎯 COLUMN GROUPING CHECK:"),console.log("  .table-inner width === .grid-header width?",o?.offsetWidth===n?.offsetWidth?"✅":"❌",`(${o?.offsetWidth} vs ${n?.offsetWidth})`),console.log("  .table-inner width === .scroller width?",o?.offsetWidth===r?.offsetWidth?"✅":"❌",`(${o?.offsetWidth} vs ${r?.offsetWidth})`),console.log("  Header width === Row width?",n?.offsetWidth===i?.offsetWidth?"✅":"❌",`(${n?.offsetWidth} vs ${i?.offsetWidth})`),console.log("  Scroller has horizontal scroll?",(r?.scrollWidth||0)>(r?.offsetWidth||0)?"❌ PROBLÉM!":"✅ OK"),console.log("⚠️ CSS SPEC VIOLATION CHECK:"),r){const e=getComputedStyle(r),o=e.overflowX,t=e.overflowY;console.log(`  overflow-x: ${o}, overflow-y: ${t}`),"auto"===o&&"auto"===t?(console.log('  ❌ PROBLÉM: overflow-x konvertované z "visible" na "auto"!'),console.log("  → Toto vytvára DRUHÝ horizontal scrollbar!")):"hidden"===o&&"auto"===t&&(console.log('  ✅ OK: overflow-x je "hidden", overflow-y je "auto"'),console.log("  → Žiadny vnútorný horizontal scroll v .scroller!"))}if(console.groupEnd(),e&&r){let o=0;const t=()=>{const t=e.scrollLeft,l=t-o;o=t;const a=n?.getBoundingClientRect().left||0,r=i?.getBoundingClientRect().left||0,s=Math.abs(a-r);console.log("🔄 .table-content scroll:",{scrollLeft:t,scrollDelta:l,headerOffsetLeft:a,rowOffsetLeft:r,misalignment:s.toFixed(2)+"px",status:s<1?"✅ ALIGNED":"❌ MISALIGNED"})},l=()=>{0!==r.scrollLeft&&console.warn("⚠️ .scroller horizontal scroll DETECTED:",{scrollLeft:r.scrollLeft,message:"This should NOT happen! Rows should not scroll horizontally inside .scroller",solution:"Check if .scroller has overflow-x: hidden (not visible or auto)"})};e.addEventListener("scroll",t,{passive:!0}),r.addEventListener("scroll",l,{passive:!0}),console.log("🎯 Scroll event listeners registered for debugging"),window.__dataGridScrollCleanup=window.__dataGridScrollCleanup||[],window.__dataGridScrollCleanup.push(()=>{e?.removeEventListener("scroll",t),r?.removeEventListener("scroll",l)})}}),r(()=>t.columns,e=>{c&&e&&0!==e.length&&(a.info("[DataGrid] props.columns changed, syncing to store",{columnCount:e.length}),e.forEach(e=>{c.columns.find(o=>o.name===e.name)?c.updateColumn(e.name,{header:e.header,dataType:e.dataType}):c.addColumn(e)}))},{deep:!0,immediate:!0}),B(()=>{window.removeEventListener("resize",L),document.removeEventListener("mouseup",te),document.removeEventListener("keydown",ee),window.__dataGridScrollCleanup&&(window.__dataGridScrollCleanup.forEach(e=>e()),window.__dataGridScrollCleanup=[]),a.info("🧹 Cleanup: All event listeners removed")});const M=n(!1),j=n(!1);n(!1);const W=n({isLoading:!1,operation:"",progress:0,total:0,percentage:0}),K=n(),q=async()=>{if(console.log("[DataGrid] handleCopy called, selectedCells:",c.selectedCells.size),0===c.selectedCells.size)return void console.warn("[DataGrid] No cells selected for copy");const e=await h.copySelectedCells(c.selectedCells,c.rows,Q.value);e.success?console.log("[DataGrid] Copy successful:",e.message):console.error("[DataGrid] Copy failed:",e.message)},Y=async()=>{const e=await h.pasteFromClipboard();if(e.success&&e.rows&&e.rows.length>0){const o=Array.from(c.selectedCells);let t=c.rows.length;if(o.length>0){const e=o[0].split(":")[0],n=c.rows.findIndex(o=>o.rowId===e);n>=0&&(t=n)}e.rows.forEach((e,o)=>{if(t+o<c.rows.length){const n=c.rows[t+o];Object.keys(e).forEach(o=>{Q.value.some(e=>e.name===o)&&c.updateCell(n.rowId,o,e[o])})}else{const o=c.rows[c.rows.length-1]?.rowId;if(o){c.insertRow(o);const t=c.rows[c.rows.length-1];Object.keys(e).forEach(o=>{Q.value.some(e=>e.name===o)&&c.updateCell(t.rowId,o,e[o])})}}}),console.log(e.message)}else console.error(e.message)},J=async()=>{await q();Array.from(c.selectedCells).forEach(e=>{const[o,t]=e.split(":");Q.value.find(e=>e.name===t)?.isReadOnly||c.updateCell(o,t,null)})},X=_l({enabled:!0,context:bl.Normal});X.registerShortcuts(function(e){const o=[];return e.onCopy&&o.push({name:"Copy",key:Cl("c"),handler:e.onCopy,description:"Copy selected cells",priority:100}),e.onPaste&&o.push({name:"Paste",key:Cl("v"),handler:e.onPaste,description:"Paste from clipboard",priority:100}),e.onCut&&o.push({name:"Cut",key:Cl("x"),handler:e.onCut,description:"Cut selected cells",priority:100}),e.onDelete&&o.push({name:"Delete",key:kl("Delete"),handler:e.onDelete,description:"Delete selected cells",priority:100}),e.onSelectAll&&o.push({name:"SelectAll",key:Cl("a"),handler:e.onSelectAll,description:"Select all cells",priority:100}),e.onFind&&o.push({name:"Find",key:Cl("f"),handler:e.onFind,description:"Open find dialog",priority:100}),e.onUndo&&o.push({name:"Undo",key:Cl("z"),handler:e.onUndo,description:"Undo last action",priority:100}),e.onRedo&&o.push({name:"Redo",key:El("z"),handler:e.onRedo,description:"Redo last undone action",priority:100}),e.onEscape&&o.push({name:"Escape",key:kl("Escape"),handler:e.onEscape,description:"Cancel current operation",priority:100}),e.onEnter&&o.push({name:"Enter",key:kl("Enter"),handler:e.onEnter,description:"Confirm edit and move to next row",context:"editing",priority:100}),e.onTab&&o.push({name:"Tab",key:kl("Tab"),handler:e.onTab,description:"Move to next cell",priority:100}),e.onArrowUp&&o.push({name:"ArrowUp",key:kl("ArrowUp"),handler:e.onArrowUp,description:"Move selection up",priority:50}),e.onArrowDown&&o.push({name:"ArrowDown",key:kl("ArrowDown"),handler:e.onArrowDown,description:"Move selection down",priority:50}),e.onArrowLeft&&o.push({name:"ArrowLeft",key:kl("ArrowLeft"),handler:e.onArrowLeft,description:"Move selection left",priority:50}),e.onArrowRight&&o.push({name:"ArrowRight",key:kl("ArrowRight"),handler:e.onArrowRight,description:"Move selection right",priority:50}),o}({onCopy:q,onPaste:Y,onCut:J,onDelete:()=>{Array.from(c.selectedCells).forEach(e=>{const[o,t]=e.split(":");Q.value.find(e=>e.name===t)?.isReadOnly||c.updateCell(o,t,null)})},onSelectAll:()=>{c.rows.forEach(e=>{Q.value.forEach(o=>{o.specialType||c.selectCell(e.rowId,o.name,!0)})})},onFind:()=>console.log("Find not implemented yet")}));const Z=f(()=>c.visibleRows),Q=f(()=>c.columns.map(e=>e.specialType?e:{...e,minWidth:e.minWidth??50,maxWidth:e.maxWidth??200,isSortable:e.isSortable??!1,isFilterable:e.isFilterable??!1,visibleForGrid:e.visibleForGrid??!0}));function ee(e){(e.ctrlKey||e.metaKey)&&("c"!==e.key&&"C"!==e.key||(e.preventDefault(),console.log("[DataGrid] Ctrl+C pressed - copying selected cells"),async function(){if(0===c.selectedCells.size)return void console.warn("[DataGrid] No cells selected for copy");console.log("[DataGrid] Copying selected cells:",{selectedCount:c.selectedCells.size,selectedCells:Array.from(c.selectedCells)});const e=await h.copySelectedCells(c.selectedCells,c.rows,re.value);e.success?console.log("[DataGrid] Copy successful:",e.message):console.error("[DataGrid] Copy failed:",e.message)}()),"v"!==e.key&&"V"!==e.key||(e.preventDefault(),console.log("[DataGrid] Ctrl+V pressed - pasting from clipboard"),async function(){const e=await h.pasteFromClipboard();if(e.success&&e.rows&&e.rows.length>0){console.log("[DataGrid] Paste successful:",{rowCount:e.rows.length,headers:e.headers});const o=re.value.filter(e=>!e.specialType);let t=0,n=0;if(c.selectedCells.size>0){const e=Array.from(c.selectedCells)[0],[l,a]=e.split(":"),r=c.rows.find(e=>e.rowId===l),i=o.findIndex(e=>e.name===a);r&&-1!==i&&(t=r.rowIndex,n=i)}if(console.log("[DataGrid] Pasting at position:",{targetRowIndex:t,targetColIndex:n,dataColumnsCount:o.length}),e.rows.forEach((e,l)=>{const a=t+l;if(a>=c.rows.length)return void console.warn("[DataGrid] Paste row out of bounds:",{pasteRowIndex:a,maxRows:c.rows.length});const r=c.rows[a];Object.keys(e).forEach((t,l)=>{const i=n+l;if(i>=o.length)return void console.warn("[DataGrid] Paste column out of bounds:",{pasteColIndex:i,maxCols:o.length});const s=o[i],u=e[t];c.updateCell(r.rowId,s.name,u),console.log("[DataGrid] Pasted cell:",{row:a,col:i,columnName:s.name,value:u})})}),console.log("[DataGrid] Paste complete"),c.config.autoValidate&&c.config.enableValidation&&u){(u?.validationRules?.value?.size||0)>0&&(console.log("[DataGrid] Paste complete - triggering auto-validation..."),await g(),await oe(),console.log("[DataGrid] Paste validation complete"))}}else console.error("[DataGrid] Paste failed:",e.message)}()))}async function oe(){if(N.value){console.log("═══════════════════════════════════════════════════"),console.log("[validateAllCellsInBatches] ⚠️ WAIT START"),console.log(`  isValidating: ${N.value}`),console.log(`  Timestamp: ${/* @__PURE__ */(new Date).toISOString()}`),console.log("  Stack trace:"),console.log((new Error).stack),console.log("═══════════════════════════════════════════════════"),console.log("[validateAllCellsInBatches] Cancelling previous validation..."),D=!0;const e=async(e=5e3)=>{const o=Date.now();let t=0;for(;N.value&&Date.now()-o<e;)t++,console.log(`[waitForValidation] Waiting iteration ${t}, elapsed: ${Date.now()-o}ms, isValidating: ${N.value}`),await g(),await new Promise(e=>setTimeout(e,100));if(N.value){console.error("═══════════════════════════════════════════════════"),console.error(`[waitForValidation] ❌ DEADLOCK DETECTED after ${Date.now()-o}ms`),console.error(`  Iterations: ${t}`),console.error("  isValidating was NEVER reset to false"),console.error("  This indicates validation hung or crashed without cleanup"),console.error("═══════════════════════════════════════════════════"),N.value=!1,console.error("[waitForValidation] Forced isValidating=false to break deadlock");try{window.chrome?.webview&&window.chrome.webview.postMessage(JSON.stringify({type:"error",source:"DataGrid.waitForValidation",error:"Validation deadlock detected - isValidating was never reset",iterations:t,elapsedMs:Date.now()-o,timestamp:/* @__PURE__ */(new Date).toISOString()}))}catch{}return!1}return console.log(`[waitForValidation] ✅ Validation completed after ${Date.now()-o}ms (${t} iterations)`),!0},o=await e(5e3);if(console.log("═══════════════════════════════════════════════════"),console.log("[validateAllCellsInBatches] WAIT END"),console.log(`  validationReady: ${o}`),console.log(`  isValidating after wait: ${N.value}`),console.log(`  Timestamp: ${/* @__PURE__ */(new Date).toISOString()}`),console.log("═══════════════════════════════════════════════════"),!o)return void console.error("[validateAllCellsInBatches] ❌ WAIT FAILED - aborting")}N.value=!0,D=!1;try{if(console.log("[validateAllCellsInBatches] 🔍 START",{enableValidation:c?.config?.enableValidation??!1,hasValidation:!!u,totalRows:c?.rows?.length??0,totalColumns:c?.columns?.length??0}),console.info("═══════════════════════════════════════════════════"),console.info("🔍 VALIDATION START"),console.info(`   Rows: ${c?.rows?.length??0}, Columns: ${c?.columns?.length??0}`),console.info("═══════════════════════════════════════════════════"),!(c&&c.config&&c.rows&&u))return void console.log("[validateAllCellsInBatches] ⚠️ SKIPPED - store or validation not initialized");if(!c.config.enableValidation)return void console.log("[validateAllCellsInBatches] ⚠️ SKIPPED - validation not enabled");const o=/* @__PURE__ */new Set;for(const[e,r]of u.validationRules.value.entries())r.length>0&&o.add(e);if(console.log("[validateAllCellsInBatches] 🔍 Columns with rules:",{totalColumns:c?.columns?.length??0,columnsWithRules:o.size,columns:Array.from(o)}),0===o.size)return console.log("[validateAllCellsInBatches] ⚠️ NO VALIDATION RULES - skipping validation entirely"),void console.log("[validateAllCellsInBatches] ✅ SKIPPED - 0 cells validated (no rules defined)");const t=c.getCellsNeedingValidation(!0,o);if(console.log("[validateAllCellsInBatches] 📋 Cells needing validation:",{count:t.length,sample:t.slice(0,5).map(e=>`${e.rowId}:${e.columnName}`)}),0===t.length)return void console.log("[validateAllCellsInBatches] ✅ NO CELLS NEED VALIDATION - all cells already validated");V.value={isValidating:!0,current:0,total:t.length,percentage:0};const n=(e=t.length)<1e3?25:e<5e3?50:e<15e3?100:200;let l=0;console.log("[validateAllCellsInBatches] Starting PARALLEL batch validation...",{totalCells:t.length,parallelBatchSize:n,estimatedBatches:Math.ceil(t.length/n)});for(let e=0;e<t.length;e+=n){if(D)return void console.log("[validateAllCellsInBatches] ⚠️ CANCELLED by user");const o=t.slice(e,e+n),a=Math.floor(e/n)+1;console.log(`[validateAllCellsInBatches] 📦 Processing batch ${a} (PARALLEL):`,{batchSize:o.length,from:e,to:e+o.length});const r=o.map(({rowId:e,columnName:o})=>{const t=c.getRow(e);if(!t||!t.cells)return console.warn("[validateAllCellsInBatches] ⚠️ Row not found or has no cells:",e),Promise.resolve();const n=t.cells.find(e=>e.columnName===o);if(!n)return console.warn("[validateAllCellsInBatches] ⚠️ Cell not found:",{rowId:e,columnName:o}),Promise.resolve();const a=t.cells.map(e=>({columnName:e.columnName,value:e.value}));return u.validateCellDirect(e,o,n.value,a,!0).then(()=>{c.markCellValidated(e,o),l++}).catch(t=>{console.error("[validateAllCellsInBatches] ❌ Validation error:",{rowId:e,columnName:o,err:t})})});await Promise.all(r),V.value.current=l,V.value.percentage=Math.round(l/t.length*100),await g(),console.log(`[validateAllCellsInBatches] ✓ Batch ${a} complete (PARALLEL):`,{validated:l,total:t.length,progress:`${V.value.percentage}%`})}u.updateErrorCount(),console.log("[validateAllCellsInBatches] 🎉 COMPLETE:",{totalValidated:l,totalRequested:t.length,success:l===t.length}),console.info("═══════════════════════════════════════════════════"),console.info(`✅ VALIDATION SUCCESS - ${l} cells validated`);const a=u?.validationErrors?.value?.length??0;console.info(`   Total errors: ${a}`),console.info("═══════════════════════════════════════════════════")}catch(Ge){throw console.error("═══════════════════════════════════════════════════"),console.error("❌ VALIDATION ERROR:",Ge),console.error("═══════════════════════════════════════════════════"),Ge}finally{N.value=!1,V.value.isValidating=!1,console.log("[validateAllCellsInBatches] 🔍 END")}var e}function te(){(c.isDragging||c.pressedCell)&&c.endDragSelection()}G(()=>{a.info("🔄 Component before mount")}),B(()=>{a.info("🔄 Component before unmount - starting cleanup"),p.value&&(console.log("[DataGrid] Disconnecting SharedIntersectionObserver..."),p.value.disconnect(),p.value=null),d.value.clear(),console.log("[DataGrid] SharedIntersectionObserver destroyed for instance:",l),u&&(console.log("[DataGrid] Clearing validation state..."),u.clearValidationErrors(),u.validationRules.value.clear()),console.log("[DataGrid] Clearing store data..."),c.clearAllData(),a.info("✅ Component cleanup complete")}),y(()=>{a.info("🗑️ Component unmounted - final cleanup"),a.info("👋 Component cleanup complete")}),r(()=>c.config.autoValidate,async(e,o)=>{console.log("[DataGrid] autoValidate changed:",{wasEnabled:o,enabled:e}),e&&!o&&c.config.enableValidation&&(console.log("[DataGrid] Auto-validation enabled - validating all unvalidated cells"),await oe())});const ne=f(()=>{const e=[],o=c.config;return o.showRowNumber&&e.push({name:"__rowNumber",header:"#",width:50,minWidth:40,maxWidth:80,isVisible:!0,isReadOnly:!0,isSortable:!1,isFilterable:!1,specialType:"RowNumber"}),o.showCheckbox&&e.push({name:"__checkbox",header:"☑",width:40,minWidth:40,maxWidth:40,isVisible:!0,isReadOnly:!0,isSortable:!1,isFilterable:!0,specialType:"Checkbox"}),e}),le=f(()=>{const e=[];return c.config.showValidationAlerts&&e.push({name:"__validationAlerts",header:"⚠ Validation",width:150,minWidth:100,maxWidth:300,autoWidth:!1,isVisible:!0,isReadOnly:!0,isSortable:!1,isFilterable:!1,specialType:"ValidationAlerts"}),e}),ae=f(()=>{const e=[],o=c.config;return o.showInsertButton&&e.push({name:"__insertRow",header:"Insert",width:60,minWidth:50,maxWidth:80,isVisible:!0,isReadOnly:!0,isSortable:!1,isFilterable:!1,specialType:"InsertRow"}),o.showDeleteButton&&e.push({name:"__deleteRow",header:"Delete",width:60,minWidth:50,maxWidth:80,isVisible:!0,isReadOnly:!0,isSortable:!1,isFilterable:!1,specialType:"DeleteRow"}),e}),re=f(()=>[...ne.value,...Q.value.filter(e=>!e.specialType&&e.isVisible&&!1!==e.visibleForGrid),...le.value,...ae.value]),ie=f(()=>{const e=re.value.map(e=>e.autoWidth?"1fr":`${e.width}px`).join(" ");return console.log("[GridTemplate] All Columns:",re.value.map(e=>({name:e.name,header:e.header,width:e.width,autoWidth:e.autoWidth,specialType:e.specialType}))),console.log("[GridTemplate] Generated Template:",e),e});r(ie,e=>{console.log("[DataGrid] ✅ gridTemplateColumns CHANGED:",e)},{immediate:!1});const se=f(()=>{const e=re.value.reduce((e,o)=>!1===o.visibleForGrid||o.autoWidth?e:e+o.width,0);return console.log("[GridTemplate] Min Table Width (fixed columns only):",e,"px"),e});function ce(e,o){const t=c.columns.find(o=>o.name===e);t?t.isSortable?!1!==t.visibleForGrid?c.addSort(e,o,!1):console.warn(`[handleSort] Column '${e}' has visibleForGrid=false, sorting not allowed`):console.warn(`[handleSort] Column '${e}' is not sortable`):console.error(`[handleSort] Column not found: ${e}`)}function ue(e,o){const t=c.columns.find(o=>o.name===e);t&&(t.width=o)}async function de(e,o,t){console.log(`[DataGrid] handleCellEditComplete: rowId=${e}, columnName=${o}, newValue=${t}, autoValidate=${c.config.autoValidate}, autoRowHeight=${c.isAutoRowHeightEnabled}`),c.updateCell(e,o,t);const n=c.columns.find(e=>e.name===o);if(n){if(!1===n.visibleForGrid)console.log("[DataGrid] handleCellEditComplete: Skipping validation - hidden column:",o);else if(c.config.autoValidate&&c.config.enableValidation&&u){if(u.validationRules.value.has(o)&&u.validationRules.value.get(o).length>0){const n=c.rows.find(o=>o.rowId===e),l=n?.cells.map(e=>({columnName:e.columnName,value:e.value}));await u.validateCellThrottled(e,o,t,l);const a=u.validationErrors[e]&&u.validationErrors[e].length>0;console.log("[DataGrid] Cell validated after edit:",{rowId:e,columnName:o,hasErrors:a})}else console.log("[DataGrid] handleCellEditComplete: Skipping validation - no rules:",o)}c.isAutoRowHeightEnabled?(console.log("[DataGrid] Recalculating row height:",{rowId:e}),await He(e),await g()):(console.log("[DataGrid] Recalculating height for newlines (AutoRowHeight OFF):",{rowId:e}),await $e(e))}else console.warn("[DataGrid] handleCellEditComplete: Column not found:",o)}async function pe(e,o,t){console.log("[handleCellInput] Called:",{rowId:e,columnName:o,value:t,autoRowHeightEnabled:c.isAutoRowHeightEnabled}),c.updateCell(e,o,t),c.isAutoRowHeightEnabled?(await He(e),await g()):null!=t&&String(t).includes("\n")&&await $e(e)}function ge(e,o){c.toggleCheckbox(e,o)}function fe(e){c.deleteRow(e)}function he(e){c.insertRow(e)}function me(e,o){c.insertMultipleRows(e,o,"above")}function ve(e,o){c.insertMultipleRows(e,o,"below")}r(()=>t.config,e=>{e&&c.setConfig(e)},{immediate:!0,deep:!0}),r(()=>t.columns,e=>{if(console.log("[DataGrid] Columns watch triggered:",{hasColumns:e?.length,rowsLength:c.rows.length,willInitialize:e&&e.length>0&&0===c.rows.length}),e&&e.length>0)try{c.setColumns(e),console.log("[DataGrid] After setColumns, rowsLength:",c.rows.length),0===c.rows.length?(console.log("[DataGrid] Calling initializeEmptyRows..."),c.initializeEmptyRows(),console.log("[DataGrid] After initializeEmptyRows, rowsLength:",c.rows.length)):console.log("[DataGrid] SKIPPED initializeEmptyRows - rows already exist!")}catch(Ge){console.error("[DataGrid] Failed to set columns:",Ge),alert(`Column configuration error: ${Ge instanceof Error?Ge.message:"Unknown error"}`)}},{immediate:!0,deep:!0}),r(()=>u?.ruleCount?.value??0,async(e,o)=>{const t=u?.validationRules?.value?.size||0;console.log("═══════════════════════════════════════════════════"),console.log("[WATCHER] VALIDATION RULES CHANGED - START"),console.log(`  Old count: ${o} → New count: ${e}`),console.log(`  Rules size: ${t}`);const n=c?.rows?.length??0;if(console.log(`  Rows: ${n}`),console.log(`  autoValidate: ${c?.config?.autoValidate??!1}`),console.log(`  isValidating: ${N.value}`),console.log(`  Timestamp: ${/* @__PURE__ */(new Date).toISOString()}`),console.log("═══════════════════════════════════════════════════"),c&&c.rows)if(0!==t&&0!==c.rows.length&&c.config.autoValidate){console.log("[WATCHER] Triggering auto-validation for all rows..."),c.clearValidationTracking();try{await g(),console.log("[WATCHER] First nextTick done"),await g(),console.log("[WATCHER] Second nextTick done"),await oe(),console.log("═══════════════════════════════════════════════════"),console.log("[WATCHER] VALIDATION RULES CHANGED - SUCCESS"),console.log(`  Timestamp: ${/* @__PURE__ */(new Date).toISOString()}`),console.log("═══════════════════════════════════════════════════")}catch(Ge){console.log("═══════════════════════════════════════════════════"),console.error("[WATCHER] VALIDATION RULES CHANGED - FAILED"),console.error(`  Error: ${Ge}`),console.log("═══════════════════════════════════════════════════"),N.value=!1,console.error("[WATCHER] Forced isValidating=false after error"),alert(`Auto-validation failed: ${Ge instanceof Error?Ge.message:String(Ge)}`);try{window.chrome?.webview&&window.chrome.webview.postMessage(JSON.stringify({type:"error",source:"DataGrid.ruleCount.watcher",error:Ge instanceof Error?Ge.message:String(Ge),stack:Ge instanceof Error?Ge.stack:void 0,timestamp:/* @__PURE__ */(new Date).toISOString()}))}catch{}}}else console.log("[WATCHER] Skipping auto-validation:",{noRules:0===t,noData:0===c.rows.length,autoValidateDisabled:!c.config.autoValidate});else console.warn("[WATCHER] Store not initialized yet, skipping validation")}),r(()=>N.value,(e,o)=>{console.log("═══════════════════════════════════════════════════"),console.log("[WATCH isValidating] STATE CHANGED"),console.log(`  ${o} → ${e}`),console.log(`  Timestamp: ${/* @__PURE__ */(new Date).toISOString()}`);const t=(new Error).stack;if(t){const e=t.split("\n").slice(1,5);console.log("  Call stack:"),e.forEach(e=>console.log(`    ${e.trim()}`))}console.log("═══════════════════════════════════════════════════")}),r(()=>u?.errorCount?.value??0,async(e,o)=>{const t=u?.validationErrors;console.log("[WATCHER] Validation errors changed!",{errorCount:e,oldErrorCount:o,hasErrors:e>0,isAutoRowHeightEnabled:c.isAutoRowHeightEnabled,validationErrorsKeys:t?Object.keys(t):[]}),console.log("[WATCHER] Updating validationErrorCount for all rows..."),c.rows.forEach(e=>{const o=t&&t[e.rowId]?t[e.rowId].length:0;e.validationErrorCount=o,(o>0||e.validationErrorCount!==o)&&console.log("[WATCHER] Updated validationErrorCount:",{rowId:e.rowId,count:o})}),t&&0!==e?(await g(),c.isAutoRowHeightEnabled?(console.log("[WATCHER] AutoRowHeight is ON, calling applyAutoRowHeightToAll..."),await De(),console.log("[WATCHER] applyAutoRowHeightToAll completed")):(console.log("[WATCHER] AutoRowHeight is OFF, calling resetAllRowHeights..."),await Pe(),console.log("[WATCHER] resetAllRowHeights completed"))):console.log("[WATCHER] No validation errors, heights updated, done.")});const we=f(()=>Q.value.filter(e=>!e.isVisible&&!e.specialType&&!1!==e.visibleForGrid));function ye(e){console.log("[DataGrid] ✅ handleHideColumn CALLED with:",e);const o=c.columns.find(o=>o.name===e);console.log("[DataGrid] Found column:",o?{name:o.name,specialType:o.specialType,isVisible:o.isVisible}:"NOT FOUND"),o&&!o.specialType?(c.updateColumn(e,{isVisible:!1}),console.log(`[DataGrid] ✅ Hidden column: ${e}`)):console.warn(`[DataGrid] ❌ Cannot hide column: ${e} (specialType: ${o?.specialType})`)}function be(){c.columns.forEach(e=>{e.specialType||c.updateColumn(e.name,{isVisible:!0})}),console.log("Shown all columns")}function _e(e){console.log("[DataGrid] ✅ handleAutoFitColumn CALLED with:",e);const o=c.columns.find(o=>o.name===e);if(!o)return void console.warn("[DataGrid] ❌ Column not found:",e);console.log("[DataGrid] Found column:",{name:o.name,currentWidth:o.width,minWidth:o.minWidth,maxWidth:o.maxWidth});const t=document.createElement("canvas").getContext("2d");if(!t)return void console.error("[DataGrid] ❌ Canvas context not available");t.font="14px system-ui, -apple-system, sans-serif";let n=0;const l=t.measureText(o.header).width;n=Math.max(n,l+40),console.log("[DataGrid] Header width:",l,"→ with padding:",l+40),c.rows.forEach(o=>{const l=o.cells.find(o=>o.columnName===e),a=l?.value,r=a?.toString()??"";if(r){const e=t.measureText(r).width;n=Math.max(n,e+24)}}),console.log("[DataGrid] Max measured width (with padding):",Math.ceil(n));const a=Math.max(o.minWidth,Math.min(o.maxWidth,Math.ceil(n)));console.log("[DataGrid] Calculated new width:",a,"(min:",o.minWidth,"max:",o.maxWidth,")"),c.updateColumn(e,{width:a}),console.log(`[DataGrid] ✅ Auto-fit column ${e}: ${a}px (measured: ${Math.ceil(n)}px)`)}const Ce=n({visible:!1,columnName:"",position:{x:0,y:0},uniqueValues:[],mode:"checkbox",pattern:""});function Ee(e,o){if(null==e)return null;if("simple"===e.type){return e.columnName===o?null:e}const t=e;if(!t.left||!t.right)return console.error("[extractFiltersExceptColumn] Invalid composite filter - missing children:",t),null;const n=Ee(t.left,o),l=Ee(t.right,o);return n||l?n?l?{type:"composite",left:n,right:l,operator:t.operator}:n:l:null}function ke(e,o){const t=/* @__PURE__ */new Set;if(null==e)return t;return function e(n){if("simple"===n.type){const e=n;e.columnName===o&&"Equals"===e.operator&&t.add(String(e.value))}else{const o=n;e(o.left),e(o.right)}}(e),t}function Se(e){try{if(console.log(`[handleShowFilter] START for column: ${e}`),!b.value)return console.error("[handleShowFilter] Grid not ready yet"),void alert("Please wait for the grid to finish loading before opening filters.");if(I.value)return console.error("[handleShowFilter] Grid is currently processing data"),void alert("Please wait while data is being processed...");const o=Q.value.find(o=>o.name===e);if(!o)return void console.error(`[handleShowFilter] Column not found: ${e}`);if(!o.isFilterable)return void console.warn(`[handleShowFilter] Column '${e}' is not filterable`);if(!1===o.visibleForGrid)return void console.warn(`[handleShowFilter] Column '${e}' has visibleForGrid=false, filtering not allowed`);if(!c||!c.rows||0===c.rows.length)return console.error("[handleShowFilter] Store not initialized or no data"),void alert("Please load data before opening filters.");const t=function(e){try{if(console.log(`[getUniqueValues] Starting for column: ${e}`),!c||!c.rows)return console.warn("[getUniqueValues] Store or rows not initialized yet, returning empty array"),[];if("__checkbox"===e){const o=Ee(c.filterExpression,e);console.log(`[getUniqueValues] Checkbox - Has filters to apply: ${!!o}`);const t=c.rows;console.log(`[getUniqueValues] Checkbox - Total rows before filtering: ${t.length}`);const n=o?m(t,o,c):t;console.log(`[getUniqueValues] Checkbox - Total rows after filtering: ${n.length}`);const l=Math.min(3,n.length);for(let e=0;e<l;e++){const o=n[e].cells.find(e=>"__checkbox"===e.columnName);console.log(`[getUniqueValues] Checkbox - Row ${e}: cell=${!!o}, value=${o?.value}, type=${typeof o?.value}`)}const a=n.filter(e=>c.isRowChecked(e.rowId)).length,r=n.length-a,i=ke(c.filterExpression,e);return console.log(`[getUniqueValues] Checkbox column: true=${a}, false=${r}, selected=${Array.from(i)}`),[{value:"true",isSelected:i.has("true"),count:a,displayText:`☑ Checked (${a})`},{value:"false",isSelected:i.has("false"),count:r,displayText:`☐ Unchecked (${r})`}]}const o=/* @__PURE__ */new Map,t=Ee(c.filterExpression,e);console.log(`[getUniqueValues] Has filters to apply for '${e}': ${!!t}`);const n=c.rows,l=t?m(n,t,c):n;console.log(`[getUniqueValues] Column=${e}, AllRows=${n.length}, FilteredRows=${l.length}`),l.forEach(t=>{const n=t.cells.find(o=>o.columnName===e),l=n?.value?.toString()??"";o.set(l,(o.get(l)||0)+1)});const a=ke(c.filterExpression,e);console.log(`[getUniqueValues] Column=${e}, UniqueValues=${o.size}, SelectedValues=${a.size}`);const r=Array.from(o.entries()).map(([e,o])=>{const t=""===e?"(Empty)":e;return{value:e,isSelected:a.has(e),count:o,displayText:`${t} (${o})`}}).sort((e,o)=>""===e.value&&""!==o.value?1:""!==e.value&&""===o.value?-1:e.value.localeCompare(o.value));return console.log(`[getUniqueValues] Returning ${r.length} unique values`),r}catch(Ge){return console.error(`[getUniqueValues] ERROR for column '${e}':`,Ge),console.error("[getUniqueValues] Filter expression at time of error:",c.filterExpression),console.error("[getUniqueValues] Stack trace:",Ge instanceof Error?Ge.stack:"No stack trace"),[]}}(e);console.log(`[handleShowFilter] Got ${t.length} unique values`);const n={x:window.innerWidth/2-200,y:window.innerHeight/2-300};Ce.value={visible:!0,columnName:e,position:n,uniqueValues:t,mode:"checkbox",pattern:""},console.log("[handleShowFilter] Filter flyout opened successfully")}catch(Ge){console.error(`[handleShowFilter] CRITICAL ERROR for column '${e}':`,Ge),console.error("[handleShowFilter] Stack trace:",Ge instanceof Error?Ge.stack:"No stack trace"),alert(`Error opening filter for column '${e}': ${Ge instanceof Error?Ge.message:String(Ge)}`)}}function Ie(){Ce.value.visible=!1}function Re(e){const o=/* @__PURE__ */new Map;return e&&function e(t,n){if("simple"===t.type){const e=t;return n&&o.set(e.columnName,t),e.columnName}{const l=t;if("AND"===l.operator)return e(l.left,!0),e(l.right,!0),null;{const a=e(l.left,!1),r=e(l.right,!1),i=a||r;return i&&n&&o.set(i,t),i}}}(e,!0),o}function Ae(e){const o=e.filter(e=>null!=e);if(0===o.length)return null;if(1===o.length)return o[0];let t=o[0];for(let n=1;n<o.length;n++)t={type:"composite",left:t,right:o[n],operator:"AND"};return t}function Te(e,o){const t=Re(c.filterExpression);t.set(o,e);return Ae(Array.from(t.values()))||e}function Oe(e){const o=Ce.value.columnName;if(0===e.length){const e=Re(c.filterExpression);if(e.delete(o),0===e.size)c.clearFilter();else{const o=Ae(Array.from(e.values()));c.setFilter(o)}}else{const t="__checkbox"===o?e.map(e=>"true"===e):e;let n;if(1===t.length)n={type:"simple",columnName:o,operator:"Equals",value:t[0]};else{n={type:"simple",columnName:o,operator:"Equals",value:t[0]};for(let e=1;e<t.length;e++)n={type:"composite",left:n,right:{type:"simple",columnName:o,operator:"Equals",value:t[e]},operator:"OR"}}const l=Te(n,o);c.setFilter(l)}console.log(`Applied checkbox filter to ${o}:`,e,"Final filter:",c.filterExpression)}function Ne(e){const o=Ce.value.columnName;if(!e){const e=Re(c.filterExpression);if(e.delete(o),0===e.size)c.clearFilter();else{const o=Ae(Array.from(e.values()));c.setFilter(o)}return}const t=Te({type:"simple",columnName:o,operator:"Contains",value:e},o);c.setFilter(t),console.log(`Applied text contains filter to ${o}:`,e,"Final filter:",c.filterExpression)}function Ve(){const e=Ce.value.columnName,o=Re(c.filterExpression);if(o.delete(e),0===o.size)c.clearFilter();else{const e=Ae(Array.from(o.values()));c.setFilter(e)}console.log(`Cleared filter for ${e}`,"Final filter:",c.filterExpression)}async function xe(){try{console.log("[toggleAutoRowHeight] ========== FUNCTION CALLED =========="),console.log(`[toggleAutoRowHeight] Current state: ${c.isAutoRowHeightEnabled}`),console.log("[toggleAutoRowHeight] Rows BEFORE:",c.rows.slice(0,5).map(e=>({id:e.rowId,height:e.height})));const e=!c.isAutoRowHeightEnabled;console.log(`[toggleAutoRowHeight] New state will be: ${e}`),c.setAutoRowHeightEnabled(e),console.log("[toggleAutoRowHeight] Store updated"),e?(console.log("[toggleAutoRowHeight] Enabled - applying heights to all rows..."),await De(),console.log("[toggleAutoRowHeight] Heights applied successfully")):(console.log("[toggleAutoRowHeight] Disabled - resetting all row heights..."),await Pe(),console.log("[toggleAutoRowHeight] Heights reset successfully")),console.log("[toggleAutoRowHeight] Rows AFTER:",c.rows.slice(0,5).map(e=>({id:e.rowId,height:e.height}))),console.log("[toggleAutoRowHeight] ========== FUNCTION COMPLETED ==========")}catch(Ge){console.log(`[toggleAutoRowHeight] ❌ ERROR: ${Ge}`),console.log(`[toggleAutoRowHeight] Error stack: ${Ge instanceof Error?Ge.stack:"N/A"}`)}}async function De(){const e=re.value.filter(e=>!e.specialType||"ValidationAlerts"!==e.specialType).map(e=>({name:e.name,width:e.width,specialType:e.specialType}));console.log("[applyAutoRowHeightToAll] ========== START =========="),console.log("[applyAutoRowHeightToAll] AutoRowHeight is ON");const o=c.rows.map(e=>({rowId:e.rowId,heightBefore:e.height}));console.log("[applyAutoRowHeightToAll] BEFORE - All row heights:",o.slice(0,10)),console.log("[applyAutoRowHeightToAll] Measuring columns:",e.map(e=>`${e.name} (${e.width}px, special: ${e.specialType||"none"})`).join(", "));const t=await $.applyAutoRowHeight(c.rows,e),n=c.rows.map((e,t)=>({rowId:e.rowId,heightBefore:o[t].heightBefore,heightAfter:e.height,changed:o[t].heightBefore!==e.height}));console.log("[applyAutoRowHeightToAll] AFTER - All row heights (first 10):",n.slice(0,10)),console.log("[applyAutoRowHeightToAll] Changed rows:",n.filter(e=>e.changed).length),console.log(`[applyAutoRowHeightToAll] Summary: ${t.totalRowsUpdated} rows updated, average height: ${t.averageHeight.toFixed(1)}px`),await g(),console.log("[applyAutoRowHeightToAll] First nextTick complete"),await g(),console.log("[applyAutoRowHeightToAll] Second nextTick complete"),await g(),console.log("[applyAutoRowHeightToAll] Third nextTick complete"),await new Promise(e=>setTimeout(e,50)),console.log("[applyAutoRowHeightToAll] Delay complete"),console.log("[applyAutoRowHeightToAll] ========== COMPLETE ==========")}async function Pe(){console.log("[resetAllRowHeights] START - AutoRowHeight is OFF, resetting to default height");let e=0;c.rows.forEach(o=>{o.height=32,e++}),console.log("[resetAllRowHeights] Summary:",{totalRows:e,resetToHeight:32}),console.log("[resetAllRowHeights] All row heights reset to default"),await g(),console.log("[resetAllRowHeights] First nextTick complete"),await g(),console.log("[resetAllRowHeights] Second nextTick complete"),await g(),console.log("[resetAllRowHeights] Third nextTick complete"),await new Promise(e=>setTimeout(e,50)),console.log("[resetAllRowHeights] Delay complete"),console.log("[resetAllRowHeights] COMPLETE")}async function He(e){if(!c.isAutoRowHeightEnabled)return;const o=re.value.filter(e=>!e.specialType||"ValidationAlerts"!==e.specialType).map(e=>({name:e.name,width:e.width,specialType:e.specialType})),t=c.rows.find(o=>o.rowId===e);if(!t)return;$.recalculateRows(c.rows,[e],o)>0&&t&&(c.updateRowHeight(e,t.height),await g())}async function $e(e){const o=c.rows.find(o=>o.rowId===e);if(!o)return;let t=1;for(const l of o.cells){if(null==l.value)continue;const e=String(l.value);if(e.includes("\n")){const o=e.split("\n").length;t=Math.max(t,o)}}const n=21*t+10;c.updateRowHeight(e,n),await g()}const Le=z(async function(){if(console.log("[loadDataFromBackend] 🔵 START"),I.value)console.log("[loadDataFromBackend] ⚠️ Already processing, skipping");else{j.value=!0,I.value=!0,W.value={isLoading:!0,operation:"Loading data from backend...",progress:0,total:0,percentage:0},console.info("═══════════════════════════════════════════════════"),console.info("📥 DATA LOADING START"),console.info("═══════════════════════════════════════════════════");try{console.log("[loadDataFromBackend] Calling gridApi.getData()...");const e=await Nl.getData();if(console.log("[loadDataFromBackend] Response received:",{success:e.success,dataLength:e.data?.length,hasError:!!e.error}),e.success&&e.data){W.value.operation="Processing data...",W.value.total=e.data.length,console.log("[loadDataFromBackend] Converting data format...");const o=e.data.map((e,o)=>({__rowId:e.RowId||`row-${Date.now()}-${o}`,__rowHeight:e.RowHeight||40,__checkbox:e.Checkbox,...e.Data}));if(console.log("[loadDataFromBackend] Converted rows:",o.length),W.value.progress=o.length,W.value.percentage=100,console.log("[loadDataFromBackend] Calling clearValidationTracking()..."),c.clearValidationTracking(),console.log("[loadDataFromBackend] Calling store.loadRows()..."),c.loadRows(o),console.log(`[loadDataFromBackend] ✅ Loaded ${o.length} rows from backend`),W.value.operation="Data loaded successfully",console.info("═══════════════════════════════════════════════════"),console.info(`✅ DATA LOADING SUCCESS - ${o.length} rows loaded`),console.info("═══════════════════════════════════════════════════"),c.config.autoValidate&&c.config.enableValidation){const e=u?.validationRules?.value?.size||0;console.log("[loadDataFromBackend] Auto-validation check:",{autoValidate:c.config.autoValidate,enableValidation:c.config.enableValidation,rulesCount:e}),e>0?(console.log("[loadDataFromBackend] Starting auto-validation..."),await g(),console.log("[loadDataFromBackend] First nextTick done - rows mounted"),await g(),console.log("[loadDataFromBackend] Second nextTick done - scroller ready"),await new Promise(e=>setTimeout(e,50)),console.log("[loadDataFromBackend] Delay done - starting validation"),await oe(),console.log("[loadDataFromBackend] ✅ Auto-validation complete")):console.log("[loadDataFromBackend] ⚠️ Skipping validation - no rules defined yet")}else console.log("[loadDataFromBackend] ⚠️ Auto-validation disabled in config")}else console.error("═══════════════════════════════════════════════════"),console.error("❌ DATA LOADING ERROR:",e.error),console.error("═══════════════════════════════════════════════════"),alert(`Failed to load data: ${e.error}`)}catch(Ge){console.error("═══════════════════════════════════════════════════"),console.error("💥 DATA LOADING FATAL EXCEPTION:",Ge),console.error("═══════════════════════════════════════════════════"),alert(`Error loading data: ${Ge instanceof Error?Ge.message:"Unknown error"}`)}finally{j.value=!1,I.value=!1,W.value.isLoading=!1,console.log("[loadDataFromBackend] 🔵 END")}}},1e3,{maxWait:2e3}),Fe=f(()=>({...Vl,cellColors:{...Vl.cellColors,...t.theme?.cellColors||{}},rowColors:{...Vl.rowColors,...t.theme?.rowColors||{}},headerColors:{...Vl.headerColors,...t.theme?.headerColors||{}},validationColors:{...Vl.validationColors,...t.theme?.validationColors||{}},selectionColors:{...Vl.selectionColors,...t.theme?.selectionColors||{}},borderColors:{...Vl.borderColors,...t.theme?.borderColors||{}},specialColumnColors:{...Vl.specialColumnColors,...t.theme?.specialColumnColors||{}},uiControlColors:{...Vl.uiControlColors,...t.theme?.uiControlColors||{}}})),Be=f(()=>{var e;return{...{"--dg-cell-bg":(e=Fe.value).cellColors.defaultBackground,"--dg-cell-fg":e.cellColors.defaultForeground,"--dg-cell-hover-bg":e.cellColors.hoverBackground,"--dg-cell-hover-fg":e.cellColors.hoverForeground,"--dg-cell-focused-bg":e.cellColors.focusedBackground,"--dg-cell-focused-fg":e.cellColors.focusedForeground,"--dg-cell-disabled-bg":e.cellColors.disabledBackground,"--dg-cell-disabled-fg":e.cellColors.disabledForeground,"--dg-cell-readonly-bg":e.cellColors.readOnlyBackground,"--dg-cell-readonly-fg":e.cellColors.readOnlyForeground,"--dg-row-even-bg":e.rowColors.evenRowBackground,"--dg-row-odd-bg":e.rowColors.oddRowBackground,"--dg-row-hover-bg":e.rowColors.hoverBackground,"--dg-row-selected-bg":e.rowColors.selectedBackground,"--dg-row-selected-fg":e.rowColors.selectedForeground,"--dg-row-selected-inactive-bg":e.rowColors.selectedInactiveBackground,"--dg-row-selected-inactive-fg":e.rowColors.selectedInactiveForeground,"--dg-header-bg":e.headerColors.background,"--dg-header-fg":e.headerColors.foreground,"--dg-header-hover-bg":e.headerColors.hoverBackground,"--dg-header-pressed-bg":e.headerColors.pressedBackground,"--dg-header-sort-indicator":e.headerColors.sortIndicatorColor,"--dg-validation-error-bg":e.validationColors.errorBackground,"--dg-validation-error-fg":e.validationColors.errorForeground,"--dg-validation-error-border":e.validationColors.errorBorder,"--dg-validation-warning-bg":e.validationColors.warningBackground,"--dg-validation-warning-fg":e.validationColors.warningForeground,"--dg-validation-warning-border":e.validationColors.warningBorder,"--dg-validation-info-bg":e.validationColors.infoBackground,"--dg-validation-info-fg":e.validationColors.infoForeground,"--dg-validation-info-border":e.validationColors.infoBorder,"--dg-selection-border":e.selectionColors.selectionBorder,"--dg-selection-fill":e.selectionColors.selectionFill,"--dg-multi-selection-bg":e.selectionColors.multiSelectionBackground,"--dg-multi-selection-fg":e.selectionColors.multiSelectionForeground,"--dg-border-cell":e.borderColors.cellBorder,"--dg-border-row":e.borderColors.rowBorder,"--dg-border-column":e.borderColors.columnBorder,"--dg-border-grid":e.borderColors.gridBorder,"--dg-border-focused-cell":e.borderColors.focusedCellBorder,"--dg-special-rownumber-bg":e.specialColumnColors.rowNumberBackground,"--dg-special-rownumber-fg":e.specialColumnColors.rowNumberForeground,"--dg-special-checkbox-border":e.specialColumnColors.checkboxBorder,"--dg-special-checkbox-bg":e.specialColumnColors.checkboxBackground,"--dg-special-checkbox-fg":e.specialColumnColors.checkboxForeground,"--dg-special-delete-bg":e.specialColumnColors.deleteRowBackground,"--dg-special-delete-fg":e.specialColumnColors.deleteRowForeground,"--dg-special-delete-hover-bg":e.specialColumnColors.deleteRowHoverBackground,"--dg-special-insert-bg":e.specialColumnColors.insertRowBackground,"--dg-special-insert-fg":e.specialColumnColors.insertRowForeground,"--dg-special-insert-border":e.specialColumnColors.insertRowBorder,"--dg-special-insert-hover-bg":e.specialColumnColors.insertRowHoverBackground,"--dg-special-insert-hover-fg":e.specialColumnColors.insertRowHoverForeground,"--dg-special-validation-error-bg":e.specialColumnColors.validationAlertsErrorBackground,"--dg-special-validation-error-fg":e.specialColumnColors.validationAlertsErrorForeground,"--dg-ui-resize-grip":e.uiControlColors.resizeGripColor,"--dg-ui-menu-bg":e.uiControlColors.menuBackground,"--dg-ui-menu-fg":e.uiControlColors.menuForeground,"--dg-ui-menu-hover-bg":e.uiControlColors.menuHoverBackground,"--dg-ui-dialog-bg":e.uiControlColors.dialogBackground,"--dg-ui-dialog-fg":e.uiControlColors.dialogForeground,"--dg-ui-dialog-border":e.uiControlColors.dialogBorder,"--dg-ui-placeholder":e.uiControlColors.placeholderColor,"--dg-ui-search-bg":e.uiControlColors.searchPanelBackground,"--dg-ui-search-fg":e.uiControlColors.searchPanelForeground,"--dg-ui-search-border":e.uiControlColors.searchPanelBorder,"--dg-ui-filter-bg":e.uiControlColors.filterRowBackground,"--dg-ui-filter-fg":e.uiControlColors.filterRowForeground,"--dg-ui-filter-border":e.uiControlColors.filterRowBorder,"--dg-ui-pagination-bg":e.uiControlColors.paginationBackground,"--dg-ui-pagination-fg":e.uiControlColors.paginationForeground,"--dg-ui-pagination-border":e.uiControlColors.paginationBorder,"--dg-ui-pagination-button-hover-bg":e.uiControlColors.paginationButtonHoverBackground},"--dg-min-table-width":`${se.value}px`,width:t.width||"100%",height:t.height||"800px"}});return o({loadDataFromBackend:Le,validation:{...u,async validateRequired(){if(!c.config.enableValidation)return!0;const e=c.getCellsNeedingValidation();if(0===e.length)return c.areNonEmptyRowsValid();for(const{rowId:o,columnName:t}of e){const e=c.rows.find(e=>e.rowId===o);if(!e)continue;const n=e.cells.find(e=>e.columnName===t);n&&(await u.validateCell(o,t,n.value),c.markCellValidated(o,t))}return c.areNonEmptyRowsValid()},isAllValid:()=>c.areNonEmptyRowsValid(),async validateAll(e){if(!c.config.enableValidation)return{isValid:!0,totalErrors:0};const o=await u.validateAll(e||c.rows);c.clearValidationTracking();for(const t of c.rows)for(const e of t.cells)c.markCellValidated(e.rowId,e.columnName);return o}},copyPaste:h,shortcuts:X,handleCopy:q,handlePaste:Y,handleCut:J,isGridReady:b,store:c,getColumns:()=>c.columns,setColumns:e=>{c.setColumns(e)}}),(o,t)=>(C(),_("div",{class:"data-grid",style:E(Be.value)},[I.value?(C(),_("div",ba,[T("div",_a,[t[0]||(t[0]=T("div",{class:"processing-spinner"},null,-1)),T("div",Ca,"Processing "+O(i(c).rows.length)+" rows...",1),V.value.isValidating?(C(),_("div",Ea,[T("div",ka,[T("div",{class:"progress-bar",style:E({width:V.value.percentage+"%"})},null,4)]),T("div",Sa,O(V.value.current)+" / "+O(V.value.total)+" cells validated ("+O(V.value.percentage)+"%) ",1)])):A("",!0)])])):A("",!0),W.value.isLoading?(C(),_("div",Ia,[T("div",Ra,[t[1]||(t[1]=T("div",{class:"loading-spinner"},null,-1)),T("div",Aa,O(W.value.operation),1),W.value.total>0?(C(),_("div",Ta,[T("div",Oa,[T("div",{class:"progress-bar",style:E({width:W.value.percentage+"%"})},null,4)]),T("div",Na,O(W.value.progress)+" / "+O(W.value.total)+" ("+O(W.value.percentage)+"%) ",1)])):A("",!0)])])):A("",!0),T("div",Va,[T("div",xa,[T("button",{class:R(["toolbar-button",{"toolbar-button--active":i(c).isAutoRowHeightEnabled}]),onClick:xe,title:i(c).isAutoRowHeightEnabled?"Disable auto row height":"Enable auto row height"}," 📏 Auto Height "+O(i(c).isAutoRowHeightEnabled?"ON":"OFF"),11,Da)])]),!1!==e.enableHideColumn&&we.value.length>0?(C(),_("div",Pa,[t[2]||(t[2]=T("span",{class:"hidden-columns-label"},"Hidden columns:",-1)),(C(!0),_(k,null,S(we.value,e=>(C(),_("button",{key:e.name,class:"show-column-button",onClick:o=>{return t=e.name,c.updateColumn(t,{isVisible:!0}),void console.log(`Shown column: ${t}`);var t},title:`Show column: ${e.header}`},O(e.header),9,Ha))),128)),T("button",{class:"show-all-button",onClick:be,title:"Show all columns"}," Show All ")])):A("",!0),T("div",$a,[T("div",La,[T("div",{class:"table-inner",style:E({minWidth:se.value?`${se.value}px`:void 0})},[U(Gl,{columns:re.value,"grid-template-columns":ie.value,"grid-id":i(l),"is-grid-ready":b.value,"is-processing":I.value,"show-hidden-columns-panel":e.showHiddenColumnsPanel,"enable-hide-column":e.enableHideColumn,"enable-auto-fit":e.enableAutoFit,onSort:ce,onResize:ue,onHideColumn:ye,onAutoFitColumn:_e,onShowFilter:Se},null,8,["columns","grid-template-columns","grid-id","is-grid-ready","is-processing","show-hidden-columns-panel","enable-hide-column","enable-auto-fit"]),T("div",{ref_key:"scrollerRef",ref:K,class:"scroller"},[(C(!0),_(k,null,S(Z.value,e=>(C(),x(Xl,{key:e.rowId,row:e,columns:re.value,"grid-template-columns":ie.value,"grid-id":i(l),onCellEditComplete:de,onCellInput:pe,onCheckboxChange:ge,onDeleteRow:fe,onInsertRow:he,onInsertAbove:me,onInsertBelow:ve},null,8,["row","columns","grid-template-columns","grid-id"]))),128))],512)],4)])]),U(sa,{"page-size":i(c).pageSize,"page-size-options":i(c).config.pageSizeOptions,"total-rows":i(c).totalRows,"current-page":i(c).currentPage,onPageChange:i(c).goToPage,onPageSizeChange:i(c).setPageSize},null,8,["page-size","page-size-options","total-rows","current-page","onPageChange","onPageSizeChange"]),U(ya,{visible:Ce.value.visible,"column-name":Ce.value.columnName,position:Ce.value.position,"unique-values":Ce.value.uniqueValues,"current-mode":Ce.value.mode,"current-pattern":Ce.value.pattern,onClose:Ie,onApplyCheckbox:Oe,onApplyRegex:Ne,onClearFilter:Ve},null,8,["visible","column-name","position","unique-values","current-mode","current-pattern"])],4))}}),[["__scopeId","data-v-9bedc3a1"]]),Ba={class:"listbox-container"},Ga={key:0,class:"listbox-header"},Ua={key:0,class:"listbox-title"},Ma=["disabled"],ja=["onClick","onMouseenter"],za=["checked","onClick"],Wa={class:"listbox-item-text"},Ka=/* @__PURE__ */Bl(/* @__PURE__ */b({__name:"ListBox",props:{items:{},title:{default:""},multiSelect:{type:Boolean,default:!1},preSelected:{default:()=>[]},height:{default:200},width:{default:250},theme:{},showResetButton:{type:Boolean,default:!0}},emits:["selectionChange"],setup(e,{expose:o,emit:t}){const l=e,a=t,i=n(/* @__PURE__ */new Set),s=n(null);r(()=>l.preSelected,e=>{i.value=new Set(e)},{immediate:!0});const c=f(()=>({...xl,itemColors:{...xl.itemColors,...l.theme?.itemColors||{}},containerColors:{...xl.containerColors,...l.theme?.containerColors||{}},checkboxColors:{...xl.checkboxColors,...l.theme?.checkboxColors||{}},scrollbarColors:{...xl.scrollbarColors,...l.theme?.scrollbarColors||{}}})),u=f(()=>{return{"--lb-item-bg":(e=c.value).itemColors.defaultBackground,"--lb-item-fg":e.itemColors.defaultForeground,"--lb-item-hover-bg":e.itemColors.hoverBackground,"--lb-item-hover-fg":e.itemColors.hoverForeground,"--lb-item-selected-bg":e.itemColors.selectedBackground,"--lb-item-selected-fg":e.itemColors.selectedForeground,"--lb-item-selected-hover-bg":e.itemColors.selectedHoverBackground,"--lb-item-selected-hover-fg":e.itemColors.selectedHoverForeground,"--lb-item-disabled-bg":e.itemColors.disabledBackground,"--lb-item-disabled-fg":e.itemColors.disabledForeground,"--lb-container-bg":e.containerColors.background,"--lb-container-border":e.containerColors.border,"--lb-container-focused-border":e.containerColors.focusedBorder,"--lb-title-fg":e.containerColors.titleForeground,"--lb-checkbox-border":e.checkboxColors.border,"--lb-checkbox-bg":e.checkboxColors.background,"--lb-checkbox-checked-bg":e.checkboxColors.checkedBackground,"--lb-checkbox-checked-border":e.checkboxColors.checkedBorder,"--lb-checkbox-hover-border":e.checkboxColors.hoverBorder,"--lb-scrollbar-track-bg":e.scrollbarColors.trackBackground,"--lb-scrollbar-thumb-bg":e.scrollbarColors.thumbBackground,"--lb-scrollbar-thumb-hover-bg":e.scrollbarColors.thumbHoverBackground};var e}),d=f(()=>({height:`${l.height}px`,width:`${l.width}px`,...u.value}));function p(e){return i.value.has(e)}function g(e){l.multiSelect?i.value.has(e.value)?i.value.delete(e.value):i.value.add(e.value):i.value.has(e.value)?i.value.delete(e.value):(i.value.clear(),i.value.add(e.value)),a("selectionChange",Array.from(i.value))}function h(){i.value.clear(),a("selectionChange",[])}return o({getSelectedValues:()=>Array.from(i.value),clearSelection:()=>{i.value.clear(),a("selectionChange",[])},selectValue:e=>{l.multiSelect||i.value.clear(),i.value.add(e),a("selectionChange",Array.from(i.value))}}),(o,t)=>(C(),_("div",Ba,[e.title||e.showResetButton?(C(),_("div",Ga,[e.title?(C(),_("div",Ua,O(e.title),1)):A("",!0),e.showResetButton?(C(),_("button",{key:1,class:"listbox-reset-btn",onClick:h,disabled:0===i.value.size,title:"Clear selection"}," ✖ ",8,Ma)):A("",!0)])):A("",!0),T("div",{class:R(["listbox",{"listbox--multi":e.multiSelect}]),style:E(d.value)},[(C(!0),_(k,null,S(e.items,o=>(C(),_("div",{key:o.value,class:R(["listbox-item",{"listbox-item--selected":p(o.value),"listbox-item--hover":s.value===o.value}]),onClick:e=>g(o),onMouseenter:e=>s.value=o.value,onMouseleave:t[0]||(t[0]=e=>s.value=null)},[e.multiSelect?(C(),_("input",{key:0,type:"checkbox",checked:p(o.value),class:"listbox-checkbox",onClick:I(e=>g(o),["stop"])},null,8,za)):A("",!0),T("span",Wa,O(o.name),1)],42,ja))),128))],6)]))}}),[["__scopeId","data-v-b649b4c6"]]),qa={class:"search-panel__header"},Ya=["title"],Ja={key:0,class:"search-panel__count"},Xa={key:0,class:"search-panel__content"},Za={class:"search-panel__row"},Qa=["disabled"],er={class:"search-panel__options"},or={class:"search-panel__checkbox"},tr={key:0,class:"search-panel__threshold"},nr={key:0,class:"search-panel__results"},lr={class:"search-panel__navigation"},ar=["disabled"],rr={class:"search-panel__nav-info"},ir=["disabled"],sr=/* @__PURE__ */Bl(/* @__PURE__ */b({__name:"SearchPanel",props:{visible:{type:Boolean},gridId:{}},setup(e){const o=hl(e.gridId||"dataGrid")(),{searchInRows:t,goToNextResult:l,goToPreviousResult:a,currentResultIndex:r}=pl(p(o,"rows")),s=n(!1),c=n(""),u=n("Contains"),d=n(!1),g=n(3),f=function(e,o){let t=null;return function(...n){t&&clearTimeout(t),t=setTimeout(()=>{e(...n)},o)}}(()=>{c.value.trim()?(t(c.value,u.value,{caseSensitive:d.value,fuzzyThreshold:g.value}),o.setSearchQuery(c.value)):o.clearSearch()},300);function h(){f()}function m(){c.value="",o.clearSearch()}function v(){s.value=!s.value}return(e,t)=>(C(),_("div",{class:R(["search-panel",{"search-panel--collapsed":s.value}])},[T("div",qa,[T("button",{class:"search-panel__toggle",onClick:v,title:s.value?"Expand search":"Collapse search"},O(s.value?"▶":"▼"),9,Ya),t[6]||(t[6]=T("span",{class:"search-panel__title"},"Search",-1)),i(o).searchResults?.length>0?(C(),_("span",Ja,O(i(o).searchResults.length)+" result(s) ",1)):A("",!0)]),s.value?A("",!0):(C(),_("div",Xa,[T("div",Za,[V(T("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>c.value=e),type:"text",class:"search-panel__input",placeholder:"Enter search query...",onInput:h},null,544),[[D,c.value]]),V(T("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>u.value=e),class:"search-panel__mode-select",onChange:h},[...t[7]||(t[7]=[M('<option value="Exact" data-v-5c4e957c>Exact</option><option value="Contains" data-v-5c4e957c>Contains</option><option value="StartsWith" data-v-5c4e957c>Starts With</option><option value="EndsWith" data-v-5c4e957c>Ends With</option><option value="Regex" data-v-5c4e957c>Regex</option><option value="Fuzzy" data-v-5c4e957c>Fuzzy</option>',6)])],544),[[j,u.value]]),T("button",{class:"search-panel__clear-btn",onClick:m,disabled:!c.value,title:"Clear search"}," ✕ ",8,Qa)]),T("div",er,[T("label",or,[V(T("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>d.value=e),type:"checkbox",onChange:h},null,544),[[L,d.value]]),t[8]||(t[8]=T("span",null,"Case sensitive",-1))]),"Fuzzy"===u.value?(C(),_("label",tr,[T("span",null,"Threshold: "+O(g.value),1),V(T("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>g.value=e),type:"range",min:"0",max:"10",step:"1",class:"search-panel__slider",onInput:h},null,544),[[D,g.value,void 0,{number:!0}]])])):A("",!0)]),c.value&&i(o).searchResults?.length>0?(C(),_("div",nr,[T("div",lr,[T("button",{class:"search-panel__nav-btn",onClick:t[4]||(t[4]=(...e)=>i(a)&&i(a)(...e)),disabled:i(r)<=0,title:"Previous result"}," ↑ ",8,ar),T("span",rr,O(i(r)+1)+" / "+O(i(o).searchResults.length),1),T("button",{class:"search-panel__nav-btn",onClick:t[5]||(t[5]=(...e)=>i(l)&&i(l)(...e)),disabled:i(r)>=i(o).searchResults.length-1,title:"Next result"}," ↓ ",8,ir)])])):A("",!0)]))],2))}}),[["__scopeId","data-v-5c4e957c"]]),cr={class:"filter-row"},ur={class:"filter-row__header"},dr=["title"],pr={key:0,class:"filter-row__count"},gr={key:0,class:"filter-row__content"},fr={class:"filter-row__filters"},hr=["onUpdate:modelValue"],mr=["value"],vr=["onUpdate:modelValue"],wr=["onUpdate:modelValue"],yr=["onUpdate:modelValue"],br=["onClick"],_r={key:0,class:"filter-row__active"},Cr={class:"filter-row__active-list"},Er={key:0},kr=["onClick"],Sr=/* @__PURE__ */Bl(/* @__PURE__ */b({__name:"FilterRow",props:{gridId:{}},setup(e){const o=hl(e.gridId||"dataGrid")(),t=n(!1),l=n([{columnName:"",operator:"Contains",value:"",logicOperator:"AND"}]),a=f(()=>o.columns.filter(e=>!e.specialType)),r=f(()=>l.value.filter(e=>e.columnName&&(e.value||["IsEmpty","IsNotEmpty"].includes(e.operator)))),i=f(()=>r.value.length);function s(){l.value.push({columnName:"",operator:"Contains",value:"",logicOperator:"AND"})}function c(e){l.value.splice(e,1),0===l.value.length&&s(),d()}function u(){l.value=[{columnName:"",operator:"Contains",value:"",logicOperator:"AND"}],o.clearFilter()}function d(){const e=r.value;if(0!==e.length)if(1===e.length){const t=e[0],n={type:"simple",columnName:t.columnName,operator:t.operator,value:t.value};o.setFilter(n)}else{let t={type:"simple",columnName:e[0].columnName,operator:e[0].operator,value:e[0].value};for(let o=1;o<e.length;o++){const n=e[o];t={type:"composite",operator:e[o-1].logicOperator,left:t,right:{type:"simple",columnName:n.columnName,operator:n.operator,value:n.value}}}o.setFilter(t)}else o.clearFilter()}function p(){t.value=!t.value}function g(e){const t=o.columns.find(o=>o.name===e);return t?.header||e}return(e,o)=>(C(),_("div",cr,[T("div",ur,[T("button",{class:"filter-row__toggle",onClick:p,title:t.value?"Expand filters":"Collapse filters"},O(t.value?"▶":"▼"),9,dr),o[0]||(o[0]=T("span",{class:"filter-row__title"},"Filters",-1)),i.value>0?(C(),_("span",pr,O(i.value)+" active ",1)):A("",!0),i.value>0?(C(),_("button",{key:1,class:"filter-row__clear-all",onClick:u,title:"Clear all filters"}," Clear All ")):A("",!0)]),t.value?A("",!0):(C(),_("div",gr,[T("div",fr,[(C(!0),_(k,null,S(l.value,(e,t)=>(C(),_("div",{key:t,class:"filter-row__filter-item"},[V(T("select",{"onUpdate:modelValue":o=>e.columnName=o,class:"filter-row__column-select",onChange:d},[o[1]||(o[1]=T("option",{value:""},"Select column...",-1)),(C(!0),_(k,null,S(a.value,(e,o)=>(C(),_("option",{key:`col-${o}`,value:e.name},O(e.header),9,mr))),128))],40,hr),[[j,e.columnName]]),V(T("select",{"onUpdate:modelValue":o=>e.operator=o,class:"filter-row__operator-select",onChange:d},[...o[2]||(o[2]=[M('<option value="Equals" data-v-ef184647>Equals</option><option value="NotEquals" data-v-ef184647>Not Equals</option><option value="Contains" data-v-ef184647>Contains</option><option value="StartsWith" data-v-ef184647>Starts With</option><option value="EndsWith" data-v-ef184647>Ends With</option><option value="GreaterThan" data-v-ef184647>Greater Than</option><option value="LessThan" data-v-ef184647>Less Than</option><option value="GreaterThanOrEquals" data-v-ef184647>≥</option><option value="LessThanOrEquals" data-v-ef184647>≤</option><option value="IsEmpty" data-v-ef184647>Is Empty</option><option value="IsNotEmpty" data-v-ef184647>Is Not Empty</option>',11)])],40,vr),[[j,e.operator]]),["IsEmpty","IsNotEmpty"].includes(e.operator)?A("",!0):V((C(),_("input",{key:0,"onUpdate:modelValue":o=>e.value=o,type:"text",class:"filter-row__value-input",placeholder:"Filter value...",onInput:d},null,40,wr)),[[D,e.value]]),t<l.value.length-1?V((C(),_("select",{key:1,"onUpdate:modelValue":o=>e.logicOperator=o,class:"filter-row__logic-select",onChange:d},[...o[3]||(o[3]=[T("option",{value:"AND"},"AND",-1),T("option",{value:"OR"},"OR",-1)])],40,yr)),[[j,e.logicOperator]]):A("",!0),T("button",{class:"filter-row__remove-btn",onClick:e=>c(t),title:"Remove filter"}," ✕ ",8,br)]))),128))]),T("button",{class:"filter-row__add-btn",onClick:s}," + Add Filter "),i.value>0?(C(),_("div",_r,[o[4]||(o[4]=T("div",{class:"filter-row__active-title"},"Active filters:",-1)),T("div",Cr,[(C(!0),_(k,null,S(r.value,(e,o)=>(C(),_("span",{key:o,class:"filter-row__active-chip"},[N(O(g(e.columnName))+" ",1),T("strong",null,O(e.operator),1),e.value?(C(),_("span",Er,'"'+O(e.value)+'"',1)):A("",!0),T("button",{class:"filter-row__chip-remove",onClick:o=>c(l.value.indexOf(e))}," ✕ ",8,kr)]))),128))])])):A("",!0)]))]))}}),[["__scopeId","data-v-ef184647"]]);function Ir(e){e.component("DataGrid",Fa),e.component("ListBox",Ka),e.component("SearchPanel",sr),e.component("FilterRow",Sr)}const Rr={install:Ir};export{Fa as AdvancedTable,Fa as DataGrid,Sr as FilterRow,Ka as ListBox,sr as SearchPanel,Yn as createPinia,Rr as default,gn as getActivePinia,Nl as gridApi,Ir as install,pn as setActivePinia,yl as useAutoRowHeight,hl as useDataGridStore,dl as useFiltering,pl as useSearch,_l as useShortcuts,ml as useValidation};
//# sourceMappingURL=rpa-web-ui.es.js.map
