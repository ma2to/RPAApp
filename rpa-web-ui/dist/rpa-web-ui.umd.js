!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("vue"),require("@vueuse/core"),require("@imengyu/vue3-context-menu")):"function"==typeof define&&define.amd?define(["exports","vue","@vueuse/core","@imengyu/vue3-context-menu"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).RpaWebUI={},e.Vue,e.VueUse,e.ContextMenu)}(this,function(e,t,o,n){"use strict";var l,r,a,i,s=Object.create,c=Object.defineProperty,u=Object.getOwnPropertyDescriptor,d=Object.getOwnPropertyNames,p=Object.getPrototypeOf,f=Object.prototype.hasOwnProperty,g=(l={"../../node_modules/.pnpm/tsup@8.4.0_@microsoft+api-extractor@7.51.1_@types+node@22.13.14__jiti@2.4.2_postcss@8.5_96eb05a9d65343021e53791dd83f3773/node_modules/tsup/assets/esm_shims.js"(){}},function(){return l&&(r=(0,l[d(l)[0]])(l=0)),r}),m=(a={"../../node_modules/.pnpm/rfdc@1.4.1/node_modules/rfdc/index.js"(e,t){function o(e){return e instanceof Buffer?Buffer.from(e):new e.constructor(e.buffer.slice(),e.byteOffset,e.length)}g(),t.exports=function(e){if((e=e||{}).circles)return function(e){const t=[],n=[],l=new Map;if(l.set(Date,e=>new Date(e)),l.set(Map,(e,t)=>new Map(a(Array.from(e),t))),l.set(Set,(e,t)=>new Set(a(Array.from(e),t))),e.constructorHandlers)for(const o of e.constructorHandlers)l.set(o[0],o[1]);let r=null;return e.proto?s:i;function a(e,a){const i=Object.keys(e),s=new Array(i.length);for(let c=0;c<i.length;c++){const u=i[c],d=e[u];if("object"!=typeof d||null===d)s[u]=d;else if(d.constructor!==Object&&(r=l.get(d.constructor)))s[u]=r(d,a);else if(ArrayBuffer.isView(d))s[u]=o(d);else{const e=t.indexOf(d);s[u]=-1!==e?n[e]:a(d)}}return s}function i(e){if("object"!=typeof e||null===e)return e;if(Array.isArray(e))return a(e,i);if(e.constructor!==Object&&(r=l.get(e.constructor)))return r(e,i);const s={};t.push(e),n.push(s);for(const a in e){if(!1===Object.hasOwnProperty.call(e,a))continue;const c=e[a];if("object"!=typeof c||null===c)s[a]=c;else if(c.constructor!==Object&&(r=l.get(c.constructor)))s[a]=r(c,i);else if(ArrayBuffer.isView(c))s[a]=o(c);else{const e=t.indexOf(c);s[a]=-1!==e?n[e]:i(c)}}return t.pop(),n.pop(),s}function s(e){if("object"!=typeof e||null===e)return e;if(Array.isArray(e))return a(e,s);if(e.constructor!==Object&&(r=l.get(e.constructor)))return r(e,s);const i={};t.push(e),n.push(i);for(const a in e){const c=e[a];if("object"!=typeof c||null===c)i[a]=c;else if(c.constructor!==Object&&(r=l.get(c.constructor)))i[a]=r(c,s);else if(ArrayBuffer.isView(c))i[a]=o(c);else{const e=t.indexOf(c);i[a]=-1!==e?n[e]:s(c)}}return t.pop(),n.pop(),i}}(e);const t=new Map;if(t.set(Date,e=>new Date(e)),t.set(Map,(e,t)=>new Map(l(Array.from(e),t))),t.set(Set,(e,t)=>new Set(l(Array.from(e),t))),e.constructorHandlers)for(const o of e.constructorHandlers)t.set(o[0],o[1]);let n=null;return e.proto?function e(r){if("object"!=typeof r||null===r)return r;if(Array.isArray(r))return l(r,e);if(r.constructor!==Object&&(n=t.get(r.constructor)))return n(r,e);const a={};for(const l in r){const i=r[l];"object"!=typeof i||null===i?a[l]=i:i.constructor!==Object&&(n=t.get(i.constructor))?a[l]=n(i,e):ArrayBuffer.isView(i)?a[l]=o(i):a[l]=e(i)}return a}:function e(r){if("object"!=typeof r||null===r)return r;if(Array.isArray(r))return l(r,e);if(r.constructor!==Object&&(n=t.get(r.constructor)))return n(r,e);const a={};for(const l in r){if(!1===Object.hasOwnProperty.call(r,l))continue;const i=r[l];"object"!=typeof i||null===i?a[l]=i:i.constructor!==Object&&(n=t.get(i.constructor))?a[l]=n(i,e):ArrayBuffer.isView(i)?a[l]=o(i):a[l]=e(i)}return a};function l(e,l){const r=Object.keys(e),a=new Array(r.length);for(let i=0;i<r.length;i++){const s=r[i],c=e[s];"object"!=typeof c||null===c?a[s]=c:c.constructor!==Object&&(n=t.get(c.constructor))?a[s]=n(c,l):ArrayBuffer.isView(c)?a[s]=o(c):a[s]=l(c)}return a}}}},function(){return i||(0,a[d(a)[0]])((i={exports:{}}).exports,i),i.exports});g(),g(),g();var h,v="undefined"!=typeof navigator,w="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:{};void 0!==w.chrome&&w.chrome.devtools,v&&(w.self,w.top),"undefined"!=typeof navigator&&(null==(h=navigator.userAgent)||h.toLowerCase().includes("electron")),g();var y=((e,t,o)=>(o=null!=e?s(p(e)):{},((e,t,o,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let l of d(t))f.call(e,l)||l===o||c(e,l,{get:()=>t[l],enumerable:!(n=u(t,l))||n.enumerable});return e})(c(o,"default",{value:e,enumerable:!0}),e)))(m()),b=/(?:^|[-_/])(\w)/g;function _(e,t){return t?t.toUpperCase():""}var C=(0,y.default)({circles:!0});const E={trailing:!0};function k(e,t=25,o={}){if(o={...E,...o},!Number.isFinite(t))throw new TypeError("Expected `wait` to be a finite number");let n,l,r,a,i=[];const s=(t,n)=>(r=async function(e,t,o){return await e.apply(t,o)}(e,t,n),r.finally(()=>{if(r=null,o.trailing&&a&&!l){const e=s(t,a);return a=null,e}}),r);return function(...e){return r?(o.trailing&&(a=e),r):new Promise(r=>{const a=!l&&o.leading;clearTimeout(l),l=setTimeout(()=>{l=null;const t=o.leading?n:s(this,e);for(const e of i)e(t);i=[]},t),a?(n=s(this,e),r(n)):i.push(r)})}}function S(e,t={},o){for(const n in e){const l=e[n],r=o?`${o}:${n}`:n;"object"==typeof l&&null!==l?S(l,t,r):"function"==typeof l&&(t[r]=l)}return t}const I={run:e=>e()},R=void 0!==console.createTask?console.createTask:()=>I;function T(e,t){const o=t.shift(),n=R(o);return e.reduce((e,o)=>e.then(()=>n.run(()=>o(...t))),Promise.resolve())}function N(e,t){const o=t.shift(),n=R(o);return Promise.all(e.map(e=>n.run(()=>e(...t))))}function V(e,t){for(const o of[...e])o(t)}class A{constructor(){this._hooks={},this._before=void 0,this._after=void 0,this._deprecatedMessages=void 0,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(e,t,o={}){if(!e||"function"!=typeof t)return()=>{};const n=e;let l;for(;this._deprecatedHooks[e];)l=this._deprecatedHooks[e],e=l.to;if(l&&!o.allowDeprecated){let e=l.message;e||(e=`${n} hook has been deprecated`+(l.to?`, please use ${l.to}`:"")),this._deprecatedMessages||(this._deprecatedMessages=new Set),this._deprecatedMessages.has(e)||(console.warn(e),this._deprecatedMessages.add(e))}if(!t.name)try{Object.defineProperty(t,"name",{get:()=>"_"+e.replace(/\W+/g,"_")+"_hook_cb",configurable:!0})}catch{}return this._hooks[e]=this._hooks[e]||[],this._hooks[e].push(t),()=>{t&&(this.removeHook(e,t),t=void 0)}}hookOnce(e,t){let o,n=(...e)=>("function"==typeof o&&o(),o=void 0,n=void 0,t(...e));return o=this.hook(e,n),o}removeHook(e,t){if(this._hooks[e]){const o=this._hooks[e].indexOf(t);-1!==o&&this._hooks[e].splice(o,1),0===this._hooks[e].length&&delete this._hooks[e]}}deprecateHook(e,t){this._deprecatedHooks[e]="string"==typeof t?{to:t}:t;const o=this._hooks[e]||[];delete this._hooks[e];for(const n of o)this.hook(e,n)}deprecateHooks(e){Object.assign(this._deprecatedHooks,e);for(const t in e)this.deprecateHook(t,e[t])}addHooks(e){const t=S(e),o=Object.keys(t).map(e=>this.hook(e,t[e]));return()=>{for(const e of o.splice(0,o.length))e()}}removeHooks(e){const t=S(e);for(const o in t)this.removeHook(o,t[o])}removeAllHooks(){for(const e in this._hooks)delete this._hooks[e]}callHook(e,...t){return t.unshift(e),this.callHookWith(T,e,...t)}callHookParallel(e,...t){return t.unshift(e),this.callHookWith(N,e,...t)}callHookWith(e,t,...o){const n=this._before||this._after?{name:t,args:o,context:{}}:void 0;this._before&&V(this._before,n);const l=e(t in this._hooks?[...this._hooks[t]]:[],o);return l instanceof Promise?l.finally(()=>{this._after&&n&&V(this._after,n)}):(this._after&&n&&V(this._after,n),l)}beforeEach(e){return this._before=this._before||[],this._before.push(e),()=>{if(void 0!==this._before){const t=this._before.indexOf(e);-1!==t&&this._before.splice(t,1)}}}afterEach(e){return this._after=this._after||[],this._after.push(e),()=>{if(void 0!==this._after){const t=this._after.indexOf(e);-1!==t&&this._after.splice(t,1)}}}}function O(){return new A}var x,D=Object.create,B=Object.defineProperty,P=Object.getOwnPropertyDescriptor,H=Object.getOwnPropertyNames,$=Object.getPrototypeOf,L=Object.prototype.hasOwnProperty,M=(e,t)=>function(){return t||(0,e[H(e)[0]])((t={exports:{}}).exports,t),t.exports},F=((e,t)=>function(){return e&&(t=(0,e[H(e)[0]])(e=0)),t})({"../../node_modules/.pnpm/tsup@8.4.0_@microsoft+api-extractor@7.51.1_@types+node@22.13.14__jiti@2.4.2_postcss@8.5_96eb05a9d65343021e53791dd83f3773/node_modules/tsup/assets/esm_shims.js"(){}}),U=M({"../../node_modules/.pnpm/speakingurl@14.0.1/node_modules/speakingurl/lib/speakingurl.js"(e,t){F(),function(e){var o={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"Ae","Å":"A","Æ":"AE","Ç":"C","È":"E","É":"E","Ê":"E","Ë":"E","Ì":"I","Í":"I","Î":"I","Ï":"I","Ð":"D","Ñ":"N","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"Oe","Ő":"O","Ø":"O","Ù":"U","Ú":"U","Û":"U","Ü":"Ue","Ű":"U","Ý":"Y","Þ":"TH","ß":"ss","à":"a","á":"a","â":"a","ã":"a","ä":"ae","å":"a","æ":"ae","ç":"c","è":"e","é":"e","ê":"e","ë":"e","ì":"i","í":"i","î":"i","ï":"i","ð":"d","ñ":"n","ò":"o","ó":"o","ô":"o","õ":"o","ö":"oe","ő":"o","ø":"o","ù":"u","ú":"u","û":"u","ü":"ue","ű":"u","ý":"y","þ":"th","ÿ":"y","ẞ":"SS","ا":"a","أ":"a","إ":"i","آ":"aa","ؤ":"u","ئ":"e","ء":"a","ب":"b","ت":"t","ث":"th","ج":"j","ح":"h","خ":"kh","د":"d","ذ":"th","ر":"r","ز":"z","س":"s","ش":"sh","ص":"s","ض":"dh","ط":"t","ظ":"z","ع":"a","غ":"gh","ف":"f","ق":"q","ك":"k","ل":"l","م":"m","ن":"n","ه":"h","و":"w","ي":"y","ى":"a","ة":"h","ﻻ":"la","ﻷ":"laa","ﻹ":"lai","ﻵ":"laa","گ":"g","چ":"ch","پ":"p","ژ":"zh","ک":"k","ی":"y","َ":"a","ً":"an","ِ":"e","ٍ":"en","ُ":"u","ٌ":"on","ْ":"","٠":"0","١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","۰":"0","۱":"1","۲":"2","۳":"3","۴":"4","۵":"5","۶":"6","۷":"7","۸":"8","۹":"9","က":"k","ခ":"kh","ဂ":"g","ဃ":"ga","င":"ng","စ":"s","ဆ":"sa","ဇ":"z","စျ":"za","ည":"ny","ဋ":"t","ဌ":"ta","ဍ":"d","ဎ":"da","ဏ":"na","တ":"t","ထ":"ta","ဒ":"d","ဓ":"da","န":"n","ပ":"p","ဖ":"pa","ဗ":"b","ဘ":"ba","မ":"m","ယ":"y","ရ":"ya","လ":"l","ဝ":"w","သ":"th","ဟ":"h","ဠ":"la","အ":"a","ြ":"y","ျ":"ya","ွ":"w","ြွ":"yw","ျွ":"ywa","ှ":"h","ဧ":"e","၏":"-e","ဣ":"i","ဤ":"-i","ဉ":"u","ဦ":"-u","ဩ":"aw","သြော":"aw","ဪ":"aw","၀":"0","၁":"1","၂":"2","၃":"3","၄":"4","၅":"5","၆":"6","၇":"7","၈":"8","၉":"9","္":"","့":"","း":"","č":"c","ď":"d","ě":"e","ň":"n","ř":"r","š":"s","ť":"t","ů":"u","ž":"z","Č":"C","Ď":"D","Ě":"E","Ň":"N","Ř":"R","Š":"S","Ť":"T","Ů":"U","Ž":"Z","ހ":"h","ށ":"sh","ނ":"n","ރ":"r","ބ":"b","ޅ":"lh","ކ":"k","އ":"a","ވ":"v","މ":"m","ފ":"f","ދ":"dh","ތ":"th","ލ":"l","ގ":"g","ޏ":"gn","ސ":"s","ޑ":"d","ޒ":"z","ޓ":"t","ޔ":"y","ޕ":"p","ޖ":"j","ޗ":"ch","ޘ":"tt","ޙ":"hh","ޚ":"kh","ޛ":"th","ޜ":"z","ޝ":"sh","ޞ":"s","ޟ":"d","ޠ":"t","ޡ":"z","ޢ":"a","ޣ":"gh","ޤ":"q","ޥ":"w","ަ":"a","ާ":"aa","ި":"i","ީ":"ee","ު":"u","ޫ":"oo","ެ":"e","ޭ":"ey","ޮ":"o","ޯ":"oa","ް":"","ა":"a","ბ":"b","გ":"g","დ":"d","ე":"e","ვ":"v","ზ":"z","თ":"t","ი":"i","კ":"k","ლ":"l","მ":"m","ნ":"n","ო":"o","პ":"p","ჟ":"zh","რ":"r","ს":"s","ტ":"t","უ":"u","ფ":"p","ქ":"k","ღ":"gh","ყ":"q","შ":"sh","ჩ":"ch","ც":"ts","ძ":"dz","წ":"ts","ჭ":"ch","ხ":"kh","ჯ":"j","ჰ":"h","α":"a","β":"v","γ":"g","δ":"d","ε":"e","ζ":"z","η":"i","θ":"th","ι":"i","κ":"k","λ":"l","μ":"m","ν":"n","ξ":"ks","ο":"o","π":"p","ρ":"r","σ":"s","τ":"t","υ":"y","φ":"f","χ":"x","ψ":"ps","ω":"o","ά":"a","έ":"e","ί":"i","ό":"o","ύ":"y","ή":"i","ώ":"o","ς":"s","ϊ":"i","ΰ":"y","ϋ":"y","ΐ":"i","Α":"A","Β":"B","Γ":"G","Δ":"D","Ε":"E","Ζ":"Z","Η":"I","Θ":"TH","Ι":"I","Κ":"K","Λ":"L","Μ":"M","Ν":"N","Ξ":"KS","Ο":"O","Π":"P","Ρ":"R","Σ":"S","Τ":"T","Υ":"Y","Φ":"F","Χ":"X","Ψ":"PS","Ω":"O","Ά":"A","Έ":"E","Ί":"I","Ό":"O","Ύ":"Y","Ή":"I","Ώ":"O","Ϊ":"I","Ϋ":"Y","ā":"a","ē":"e","ģ":"g","ī":"i","ķ":"k","ļ":"l","ņ":"n","ū":"u","Ā":"A","Ē":"E","Ģ":"G","Ī":"I","Ķ":"k","Ļ":"L","Ņ":"N","Ū":"U","Ќ":"Kj","ќ":"kj","Љ":"Lj","љ":"lj","Њ":"Nj","њ":"nj","Тс":"Ts","тс":"ts","ą":"a","ć":"c","ę":"e","ł":"l","ń":"n","ś":"s","ź":"z","ż":"z","Ą":"A","Ć":"C","Ę":"E","Ł":"L","Ń":"N","Ś":"S","Ź":"Z","Ż":"Z","Є":"Ye","І":"I","Ї":"Yi","Ґ":"G","є":"ye","і":"i","ї":"yi","ґ":"g","ă":"a","Ă":"A","ș":"s","Ș":"S","ț":"t","Ț":"T","ţ":"t","Ţ":"T","а":"a","б":"b","в":"v","г":"g","д":"d","е":"e","ё":"yo","ж":"zh","з":"z","и":"i","й":"i","к":"k","л":"l","м":"m","н":"n","о":"o","п":"p","р":"r","с":"s","т":"t","у":"u","ф":"f","х":"kh","ц":"c","ч":"ch","ш":"sh","щ":"sh","ъ":"","ы":"y","ь":"","э":"e","ю":"yu","я":"ya","А":"A","Б":"B","В":"V","Г":"G","Д":"D","Е":"E","Ё":"Yo","Ж":"Zh","З":"Z","И":"I","Й":"I","К":"K","Л":"L","М":"M","Н":"N","О":"O","П":"P","Р":"R","С":"S","Т":"T","У":"U","Ф":"F","Х":"Kh","Ц":"C","Ч":"Ch","Ш":"Sh","Щ":"Sh","Ъ":"","Ы":"Y","Ь":"","Э":"E","Ю":"Yu","Я":"Ya","ђ":"dj","ј":"j","ћ":"c","џ":"dz","Ђ":"Dj","Ј":"j","Ћ":"C","Џ":"Dz","ľ":"l","ĺ":"l","ŕ":"r","Ľ":"L","Ĺ":"L","Ŕ":"R","ş":"s","Ş":"S","ı":"i","İ":"I","ğ":"g","Ğ":"G","ả":"a","Ả":"A","ẳ":"a","Ẳ":"A","ẩ":"a","Ẩ":"A","đ":"d","Đ":"D","ẹ":"e","Ẹ":"E","ẽ":"e","Ẽ":"E","ẻ":"e","Ẻ":"E","ế":"e","Ế":"E","ề":"e","Ề":"E","ệ":"e","Ệ":"E","ễ":"e","Ễ":"E","ể":"e","Ể":"E","ỏ":"o","ọ":"o","Ọ":"o","ố":"o","Ố":"O","ồ":"o","Ồ":"O","ổ":"o","Ổ":"O","ộ":"o","Ộ":"O","ỗ":"o","Ỗ":"O","ơ":"o","Ơ":"O","ớ":"o","Ớ":"O","ờ":"o","Ờ":"O","ợ":"o","Ợ":"O","ỡ":"o","Ỡ":"O","Ở":"o","ở":"o","ị":"i","Ị":"I","ĩ":"i","Ĩ":"I","ỉ":"i","Ỉ":"i","ủ":"u","Ủ":"U","ụ":"u","Ụ":"U","ũ":"u","Ũ":"U","ư":"u","Ư":"U","ứ":"u","Ứ":"U","ừ":"u","Ừ":"U","ự":"u","Ự":"U","ữ":"u","Ữ":"U","ử":"u","Ử":"ư","ỷ":"y","Ỷ":"y","ỳ":"y","Ỳ":"Y","ỵ":"y","Ỵ":"Y","ỹ":"y","Ỹ":"Y","ạ":"a","Ạ":"A","ấ":"a","Ấ":"A","ầ":"a","Ầ":"A","ậ":"a","Ậ":"A","ẫ":"a","Ẫ":"A","ắ":"a","Ắ":"A","ằ":"a","Ằ":"A","ặ":"a","Ặ":"A","ẵ":"a","Ẵ":"A","⓪":"0","①":"1","②":"2","③":"3","④":"4","⑤":"5","⑥":"6","⑦":"7","⑧":"8","⑨":"9","⑩":"10","⑪":"11","⑫":"12","⑬":"13","⑭":"14","⑮":"15","⑯":"16","⑰":"17","⑱":"18","⑲":"18","⑳":"18","⓵":"1","⓶":"2","⓷":"3","⓸":"4","⓹":"5","⓺":"6","⓻":"7","⓼":"8","⓽":"9","⓾":"10","⓿":"0","⓫":"11","⓬":"12","⓭":"13","⓮":"14","⓯":"15","⓰":"16","⓱":"17","⓲":"18","⓳":"19","⓴":"20","Ⓐ":"A","Ⓑ":"B","Ⓒ":"C","Ⓓ":"D","Ⓔ":"E","Ⓕ":"F","Ⓖ":"G","Ⓗ":"H","Ⓘ":"I","Ⓙ":"J","Ⓚ":"K","Ⓛ":"L","Ⓜ":"M","Ⓝ":"N","Ⓞ":"O","Ⓟ":"P","Ⓠ":"Q","Ⓡ":"R","Ⓢ":"S","Ⓣ":"T","Ⓤ":"U","Ⓥ":"V","Ⓦ":"W","Ⓧ":"X","Ⓨ":"Y","Ⓩ":"Z","ⓐ":"a","ⓑ":"b","ⓒ":"c","ⓓ":"d","ⓔ":"e","ⓕ":"f","ⓖ":"g","ⓗ":"h","ⓘ":"i","ⓙ":"j","ⓚ":"k","ⓛ":"l","ⓜ":"m","ⓝ":"n","ⓞ":"o","ⓟ":"p","ⓠ":"q","ⓡ":"r","ⓢ":"s","ⓣ":"t","ⓤ":"u","ⓦ":"v","ⓥ":"w","ⓧ":"x","ⓨ":"y","ⓩ":"z","“":'"',"”":'"',"‘":"'","’":"'","∂":"d","ƒ":"f","™":"(TM)","©":"(C)","œ":"oe","Œ":"OE","®":"(R)","†":"+","℠":"(SM)","…":"...","˚":"o","º":"o","ª":"a","•":"*","၊":",","။":".",$:"USD","€":"EUR","₢":"BRN","₣":"FRF","£":"GBP","₤":"ITL","₦":"NGN","₧":"ESP","₩":"KRW","₪":"ILS","₫":"VND","₭":"LAK","₮":"MNT","₯":"GRD","₱":"ARS","₲":"PYG","₳":"ARA","₴":"UAH","₵":"GHS","¢":"cent","¥":"CNY","元":"CNY","円":"YEN","﷼":"IRR","₠":"EWE","฿":"THB","₨":"INR","₹":"INR","₰":"PF","₺":"TRY","؋":"AFN","₼":"AZN","лв":"BGN","៛":"KHR","₡":"CRC","₸":"KZT","ден":"MKD","zł":"PLN","₽":"RUB","₾":"GEL"},n=["်","ް"],l={"ာ":"a","ါ":"a","ေ":"e","ဲ":"e","ိ":"i","ီ":"i","ို":"o","ု":"u","ူ":"u","ေါင်":"aung","ော":"aw","ော်":"aw","ေါ":"aw","ေါ်":"aw","်":"်","က်":"et","ိုက်":"aik","ောက်":"auk","င်":"in","ိုင်":"aing","ောင်":"aung","စ်":"it","ည်":"i","တ်":"at","ိတ်":"eik","ုတ်":"ok","ွတ်":"ut","ေတ်":"it","ဒ်":"d","ိုဒ်":"ok","ုဒ်":"ait","န်":"an","ာန်":"an","ိန်":"ein","ုန်":"on","ွန်":"un","ပ်":"at","ိပ်":"eik","ုပ်":"ok","ွပ်":"ut","န်ုပ်":"nub","မ်":"an","ိမ်":"ein","ုမ်":"on","ွမ်":"un","ယ်":"e","ိုလ်":"ol","ဉ်":"in","ံ":"an","ိံ":"ein","ုံ":"on","ައް":"ah","ަށް":"ah"},r={en:{},az:{"ç":"c","ə":"e","ğ":"g","ı":"i","ö":"o","ş":"s","ü":"u","Ç":"C","Ə":"E","Ğ":"G","İ":"I","Ö":"O","Ş":"S","Ü":"U"},cs:{"č":"c","ď":"d","ě":"e","ň":"n","ř":"r","š":"s","ť":"t","ů":"u","ž":"z","Č":"C","Ď":"D","Ě":"E","Ň":"N","Ř":"R","Š":"S","Ť":"T","Ů":"U","Ž":"Z"},fi:{"ä":"a","Ä":"A","ö":"o","Ö":"O"},hu:{"ä":"a","Ä":"A","ö":"o","Ö":"O","ü":"u","Ü":"U","ű":"u","Ű":"U"},lt:{"ą":"a","č":"c","ę":"e","ė":"e","į":"i","š":"s","ų":"u","ū":"u","ž":"z","Ą":"A","Č":"C","Ę":"E","Ė":"E","Į":"I","Š":"S","Ų":"U","Ū":"U"},lv:{"ā":"a","č":"c","ē":"e","ģ":"g","ī":"i","ķ":"k","ļ":"l","ņ":"n","š":"s","ū":"u","ž":"z","Ā":"A","Č":"C","Ē":"E","Ģ":"G","Ī":"i","Ķ":"k","Ļ":"L","Ņ":"N","Š":"S","Ū":"u","Ž":"Z"},pl:{"ą":"a","ć":"c","ę":"e","ł":"l","ń":"n","ó":"o","ś":"s","ź":"z","ż":"z","Ą":"A","Ć":"C","Ę":"e","Ł":"L","Ń":"N","Ó":"O","Ś":"S","Ź":"Z","Ż":"Z"},sv:{"ä":"a","Ä":"A","ö":"o","Ö":"O"},sk:{"ä":"a","Ä":"A"},sr:{"љ":"lj","њ":"nj","Љ":"Lj","Њ":"Nj","đ":"dj","Đ":"Dj"},tr:{"Ü":"U","Ö":"O","ü":"u","ö":"o"}},a={ar:{"∆":"delta","∞":"la-nihaya","♥":"hob","&":"wa","|":"aw","<":"aqal-men",">":"akbar-men","∑":"majmou","¤":"omla"},az:{},ca:{"∆":"delta","∞":"infinit","♥":"amor","&":"i","|":"o","<":"menys que",">":"mes que","∑":"suma dels","¤":"moneda"},cs:{"∆":"delta","∞":"nekonecno","♥":"laska","&":"a","|":"nebo","<":"mensi nez",">":"vetsi nez","∑":"soucet","¤":"mena"},de:{"∆":"delta","∞":"unendlich","♥":"Liebe","&":"und","|":"oder","<":"kleiner als",">":"groesser als","∑":"Summe von","¤":"Waehrung"},dv:{"∆":"delta","∞":"kolunulaa","♥":"loabi","&":"aai","|":"noonee","<":"ah vure kuda",">":"ah vure bodu","∑":"jumula","¤":"faisaa"},en:{"∆":"delta","∞":"infinity","♥":"love","&":"and","|":"or","<":"less than",">":"greater than","∑":"sum","¤":"currency"},es:{"∆":"delta","∞":"infinito","♥":"amor","&":"y","|":"u","<":"menos que",">":"mas que","∑":"suma de los","¤":"moneda"},fa:{"∆":"delta","∞":"bi-nahayat","♥":"eshgh","&":"va","|":"ya","<":"kamtar-az",">":"bishtar-az","∑":"majmooe","¤":"vahed"},fi:{"∆":"delta","∞":"aarettomyys","♥":"rakkaus","&":"ja","|":"tai","<":"pienempi kuin",">":"suurempi kuin","∑":"summa","¤":"valuutta"},fr:{"∆":"delta","∞":"infiniment","♥":"Amour","&":"et","|":"ou","<":"moins que",">":"superieure a","∑":"somme des","¤":"monnaie"},ge:{"∆":"delta","∞":"usasruloba","♥":"siqvaruli","&":"da","|":"an","<":"naklebi",">":"meti","∑":"jami","¤":"valuta"},gr:{},hu:{"∆":"delta","∞":"vegtelen","♥":"szerelem","&":"es","|":"vagy","<":"kisebb mint",">":"nagyobb mint","∑":"szumma","¤":"penznem"},it:{"∆":"delta","∞":"infinito","♥":"amore","&":"e","|":"o","<":"minore di",">":"maggiore di","∑":"somma","¤":"moneta"},lt:{"∆":"delta","∞":"begalybe","♥":"meile","&":"ir","|":"ar","<":"maziau nei",">":"daugiau nei","∑":"suma","¤":"valiuta"},lv:{"∆":"delta","∞":"bezgaliba","♥":"milestiba","&":"un","|":"vai","<":"mazak neka",">":"lielaks neka","∑":"summa","¤":"valuta"},my:{"∆":"kwahkhyaet","∞":"asaonasme","♥":"akhyait","&":"nhin","|":"tho","<":"ngethaw",">":"kyithaw","∑":"paungld","¤":"ngwekye"},mk:{},nl:{"∆":"delta","∞":"oneindig","♥":"liefde","&":"en","|":"of","<":"kleiner dan",">":"groter dan","∑":"som","¤":"valuta"},pl:{"∆":"delta","∞":"nieskonczonosc","♥":"milosc","&":"i","|":"lub","<":"mniejsze niz",">":"wieksze niz","∑":"suma","¤":"waluta"},pt:{"∆":"delta","∞":"infinito","♥":"amor","&":"e","|":"ou","<":"menor que",">":"maior que","∑":"soma","¤":"moeda"},ro:{"∆":"delta","∞":"infinit","♥":"dragoste","&":"si","|":"sau","<":"mai mic ca",">":"mai mare ca","∑":"suma","¤":"valuta"},ru:{"∆":"delta","∞":"beskonechno","♥":"lubov","&":"i","|":"ili","<":"menshe",">":"bolshe","∑":"summa","¤":"valjuta"},sk:{"∆":"delta","∞":"nekonecno","♥":"laska","&":"a","|":"alebo","<":"menej ako",">":"viac ako","∑":"sucet","¤":"mena"},sr:{},tr:{"∆":"delta","∞":"sonsuzluk","♥":"ask","&":"ve","|":"veya","<":"kucuktur",">":"buyuktur","∑":"toplam","¤":"para birimi"},uk:{"∆":"delta","∞":"bezkinechnist","♥":"lubov","&":"i","|":"abo","<":"menshe",">":"bilshe","∑":"suma","¤":"valjuta"},vn:{"∆":"delta","∞":"vo cuc","♥":"yeu","&":"va","|":"hoac","<":"nho hon",">":"lon hon","∑":"tong","¤":"tien te"}},i=[";","?",":","@","&","=","+","$",",","/"].join(""),s=[";","?",":","@","&","=","+","$",","].join(""),c=[".","!","~","*","'","(",")"].join(""),u=function(e,t){var u,d,g,m,h,v,w,y,b,_,C,E,k,S,I="-",R="",T="",N=!0,V={},A="";if("string"!=typeof e)return"";if("string"==typeof t&&(I=t),w=a.en,y=r.en,"object"==typeof t)for(C in u=t.maintainCase||!1,V=t.custom&&"object"==typeof t.custom?t.custom:V,g=+t.truncate>1&&t.truncate||!1,m=t.uric||!1,h=t.uricNoSlash||!1,v=t.mark||!1,N=!1!==t.symbols&&!1!==t.lang,I=t.separator||I,m&&(A+=i),h&&(A+=s),v&&(A+=c),w=t.lang&&a[t.lang]&&N?a[t.lang]:N?a.en:{},y=t.lang&&r[t.lang]?r[t.lang]:!1===t.lang||!0===t.lang?{}:r.en,t.titleCase&&"number"==typeof t.titleCase.length&&Array.prototype.toString.call(t.titleCase)?(t.titleCase.forEach(function(e){V[e+""]=e+""}),d=!0):d=!!t.titleCase,t.custom&&"number"==typeof t.custom.length&&Array.prototype.toString.call(t.custom)&&t.custom.forEach(function(e){V[e+""]=e+""}),Object.keys(V).forEach(function(t){var o;o=t.length>1?new RegExp("\\b"+p(t)+"\\b","gi"):new RegExp(p(t),"gi"),e=e.replace(o,V[t])}),V)A+=C;for(A=p(A+=I),k=!1,S=!1,_=0,E=(e=e.replace(/(^\s+|\s+$)/g,"")).length;_<E;_++)C=e[_],f(C,V)?k=!1:y[C]?(C=k&&y[C].match(/[A-Za-z0-9]/)?" "+y[C]:y[C],k=!1):C in o?(_+1<E&&n.indexOf(e[_+1])>=0?(T+=C,C=""):!0===S?(C=l[T]+o[C],T=""):C=k&&o[C].match(/[A-Za-z0-9]/)?" "+o[C]:o[C],k=!1,S=!1):C in l?(T+=C,C="",_===E-1&&(C=l[T]),S=!0):!w[C]||m&&-1!==i.indexOf(C)||h&&-1!==s.indexOf(C)?(!0===S?(C=l[T]+C,T="",S=!1):k&&(/[A-Za-z0-9]/.test(C)||R.substr(-1).match(/A-Za-z0-9]/))&&(C=" "+C),k=!1):(C=k||R.substr(-1).match(/[A-Za-z0-9]/)?I+w[C]:w[C],C+=void 0!==e[_+1]&&e[_+1].match(/[A-Za-z0-9]/)?I:"",k=!0),R+=C.replace(new RegExp("[^\\w\\s"+A+"_-]","g"),I);return d&&(R=R.replace(/(\w)(\S*)/g,function(e,t,o){var n=t.toUpperCase()+(null!==o?o:"");return Object.keys(V).indexOf(n.toLowerCase())<0?n:n.toLowerCase()})),R=R.replace(/\s+/g,I).replace(new RegExp("\\"+I+"+","g"),I).replace(new RegExp("(^\\"+I+"+|\\"+I+"+$)","g"),""),g&&R.length>g&&(b=R.charAt(g)===I,R=R.slice(0,g),b||(R=R.slice(0,R.lastIndexOf(I)))),u||d||(R=R.toLowerCase()),R},d=function(e){return function(t){return u(t,e)}},p=function(e){return e.replace(/[-\\^$*+?.()|[\]{}\/]/g,"\\$&")},f=function(e,t){for(var o in t)if(t[o]===e)return!0};if(void 0!==t&&t.exports)t.exports=u,t.exports.createSlug=d;else if("undefined"!=typeof define&&define.amd)define([],function(){return u});else try{if(e.getSlug||e.createSlug)throw"speakingurl: globals exists /(getSlug|createSlug)/";e.getSlug=u,e.createSlug=d}catch(g){}}(e)}}),G=M({"../../node_modules/.pnpm/speakingurl@14.0.1/node_modules/speakingurl/index.js"(e,t){F(),t.exports=U()}});function z(e){const t=e.__file;if(t)return(o=function(e,t){let o=e.replace(/^[a-z]:/i,"").replace(/\\/g,"/");o.endsWith(`index${t}`)&&(o=o.replace(`/index${t}`,t));const n=o.lastIndexOf("/"),l=o.substring(n+1);{const e=l.lastIndexOf(t);return l.substring(0,e)}}(t,".vue"))&&`${o}`.replace(b,_);var o}function j(e,t){return e.type.__VUE_DEVTOOLS_COMPONENT_GUSSED_NAME__=t,t}function W(e){return e.__VUE_DEVTOOLS_NEXT_APP_RECORD__?e.__VUE_DEVTOOLS_NEXT_APP_RECORD__:e.root?e.appContext.app.__VUE_DEVTOOLS_NEXT_APP_RECORD__:void 0}function K(e){var t,o;const n=null==(t=e.subTree)?void 0:t.type,l=W(e);return!!l&&(null==(o=null==l?void 0:l.types)?void 0:o.Fragment)===n}function q(e){var t,o,n;const l=function(e){var t;const o=e.name||e._componentTag||e.__VUE_DEVTOOLS_COMPONENT_GUSSED_NAME__||e.__name;return"index"===o&&(null==(t=e.__file)?void 0:t.endsWith("index.vue"))?"":o}((null==e?void 0:e.type)||{});if(l)return l;if((null==e?void 0:e.root)===e)return"Root";for(const a in null==(o=null==(t=e.parent)?void 0:t.type)?void 0:o.components)if(e.parent.type.components[a]===(null==e?void 0:e.type))return j(e,a);for(const a in null==(n=e.appContext)?void 0:n.components)if(e.appContext.components[a]===(null==e?void 0:e.type))return j(e,a);const r=z((null==e?void 0:e.type)||{});return r||"Anonymous Component"}function Y(e,t){t=t||`${e.id}:root`;return e.instanceMap.get(t)||e.instanceMap.get(":root")}function J(e){return x||(x=document.createRange()),x.selectNode(e),x.getBoundingClientRect()}function X(e,t){return(!e.top||t.top<e.top)&&(e.top=t.top),(!e.bottom||t.bottom>e.bottom)&&(e.bottom=t.bottom),(!e.left||t.left<e.left)&&(e.left=t.left),(!e.right||t.right>e.right)&&(e.right=t.right),e}F(),F(),F(),F(),F(),F(),F(),F();var Z={top:0,left:0,right:0,bottom:0,width:0,height:0};function Q(e){const t=e.subTree.el;return"undefined"==typeof window?Z:K(e)?function(e){const t=function(){const e={top:0,bottom:0,left:0,right:0,get width(){return e.right-e.left},get height(){return e.bottom-e.top}};return e}();if(!e.children)return t;for(let o=0,n=e.children.length;o<n;o++){const n=e.children[o];let l;if(n.component)l=Q(n.component);else if(n.el){const e=n.el;1===e.nodeType||e.getBoundingClientRect?l=e.getBoundingClientRect():3===e.nodeType&&e.data.trim()&&(l=J(e))}l&&X(t,l)}return t}(e.subTree):1===(null==t?void 0:t.nodeType)?null==t?void 0:t.getBoundingClientRect():e.subTree.component?Q(e.subTree.component):Z}function ee(e){return K(e)?function(e){if(!e.children)return[];const t=[];return e.children.forEach(e=>{e.component?t.push(...ee(e.component)):(null==e?void 0:e.el)&&t.push(e.el)}),t}(e.subTree):e.subTree?[e.subTree.el]:[]}F();var te="__vue-devtools-component-inspector__",oe="__vue-devtools-component-inspector__card__",ne="__vue-devtools-component-inspector__name__",le="__vue-devtools-component-inspector__indicator__",re={display:"block",zIndex:2147483640,position:"fixed",backgroundColor:"#42b88325",border:"1px solid #42b88350",borderRadius:"5px",transition:"all 0.1s ease-in",pointerEvents:"none"},ae={fontFamily:"Arial, Helvetica, sans-serif",padding:"5px 8px",borderRadius:"4px",textAlign:"left",position:"absolute",left:0,color:"#e9e9e9",fontSize:"14px",fontWeight:600,lineHeight:"24px",backgroundColor:"#42b883",boxShadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px -1px rgba(0, 0, 0, 0.1)"},ie={display:"inline-block",fontWeight:400,fontStyle:"normal",fontSize:"12px",opacity:.7};function se(){return document.getElementById(te)}function ce(e){return{left:Math.round(100*e.left)/100+"px",top:Math.round(100*e.top)/100+"px",width:Math.round(100*e.width)/100+"px",height:Math.round(100*e.height)/100+"px"}}function ue(e){var t;const o=document.createElement("div");o.id=null!=(t=e.elementId)?t:te,Object.assign(o.style,{...re,...ce(e.bounds),...e.style});const n=document.createElement("span");n.id=oe,Object.assign(n.style,{...ae,top:e.bounds.top<35?0:"-35px"});const l=document.createElement("span");l.id=ne,l.innerHTML=`&lt;${e.name}&gt;&nbsp;&nbsp;`;const r=document.createElement("i");return r.id=le,r.innerHTML=`${Math.round(100*e.bounds.width)/100} x ${Math.round(100*e.bounds.height)/100}`,Object.assign(r.style,ie),n.appendChild(l),n.appendChild(r),o.appendChild(n),document.body.appendChild(o),o}function de(e){const t=se(),o=document.getElementById(oe),n=document.getElementById(ne),l=document.getElementById(le);t&&(Object.assign(t.style,{...re,...ce(e.bounds)}),Object.assign(o.style,{top:e.bounds.top<35?0:"-35px"}),n.innerHTML=`&lt;${e.name}&gt;&nbsp;&nbsp;`,l.innerHTML=`${Math.round(100*e.bounds.width)/100} x ${Math.round(100*e.bounds.height)/100}`)}function pe(){const e=se();e&&(e.style.display="none")}var fe=null;function ge(e){const t=e.target;if(t){const e=t.__vueParentComponent;if(e){fe=e;if(e.vnode.el){const t=Q(e),o=q(e);se()?de({bounds:t,name:o}):ue({bounds:t,name:o})}}}}var me,he=null;function ve(){return window.addEventListener("mouseover",ge),new Promise(e=>{function t(o){o.preventDefault(),o.stopPropagation(),function(e,t){e.preventDefault(),e.stopPropagation(),fe&&t(`${null!=(r=null==(l=null==(n=null==(o=fe)?void 0:o.appContext)?void 0:n.app)?void 0:l.__VUE_DEVTOOLS_NEXT_APP_RECORD_ID__)?r:0}:${o===(null==o?void 0:o.root)?"root":o.uid}`);var o,n,l,r}(o,o=>{window.removeEventListener("click",t,!0),he=null,window.removeEventListener("mouseover",ge);const n=se();n&&(n.style.display="none"),e(JSON.stringify({id:o}))})}he=t,window.addEventListener("click",t,!0)})}function we(){return new Promise(e=>{function t(){!function(){const e=w.__VUE_INSPECTOR__,t=e.openInEditor;e.openInEditor=async(...o)=>{e.disable(),t(...o)}}(),e(w.__VUE_INSPECTOR__)}w.__VUE_INSPECTOR__?t():function(e){let t=0;const o=setInterval(()=>{w.__VUE_INSPECTOR__&&(clearInterval(o),t+=30,e()),t>=5e3&&clearInterval(o)},30)}(()=>{t()})})}function ye(e){return function(e){return!(!e||!e.__v_isReadonly)}(e)?ye(e.__v_raw):!(!e||!e.__v_isReactive)}function be(e){return!(!e||!0!==e.__v_isRef)}function _e(e){const t=e&&e.__v_raw;return t?_e(t):e}F(),null!=(me=w).__VUE_DEVTOOLS_COMPONENT_INSPECTOR_ENABLED__||(me.__VUE_DEVTOOLS_COMPONENT_INSPECTOR_ENABLED__=!0),F(),F();var Ce=class{constructor(){this.refEditor=new Ee}set(e,t,o,n){const l=Array.isArray(t)?t:t.split(".");for(;l.length>1;){const t=l.shift();e=e instanceof Map?e.get(t):e instanceof Set?Array.from(e.values())[t]:e[t],this.refEditor.isRef(e)&&(e=this.refEditor.get(e))}const r=l[0],a=this.refEditor.get(e)[r];n?n(e,r,o):this.refEditor.isRef(a)?this.refEditor.set(a,o):e[r]=o}get(e,t){const o=Array.isArray(t)?t:t.split(".");for(let n=0;n<o.length;n++)if(e=e instanceof Map?e.get(o[n]):e[o[n]],this.refEditor.isRef(e)&&(e=this.refEditor.get(e)),!e)return;return e}has(e,t,o=!1){if(void 0===e)return!1;const n=Array.isArray(t)?t.slice():t.split("."),l=o?2:1;for(;e&&n.length>l;){e=e[n.shift()],this.refEditor.isRef(e)&&(e=this.refEditor.get(e))}return null!=e&&Object.prototype.hasOwnProperty.call(e,n[0])}createDefaultSetCallback(e){return(t,o,n)=>{if((e.remove||e.newKey)&&(Array.isArray(t)?t.splice(o,1):_e(t)instanceof Map?t.delete(o):_e(t)instanceof Set?t.delete(Array.from(t.values())[o]):Reflect.deleteProperty(t,o)),!e.remove){const l=t[e.newKey||o];this.refEditor.isRef(l)?this.refEditor.set(l,n):_e(t)instanceof Map?t.set(e.newKey||o,n):_e(t)instanceof Set?t.add(n):t[e.newKey||o]=n}}}},Ee=class{set(e,t){if(be(e))e.value=t;else{if(e instanceof Set&&Array.isArray(t))return e.clear(),void t.forEach(t=>e.add(t));const o=Object.keys(t);if(e instanceof Map){const n=new Set(e.keys());return o.forEach(o=>{e.set(o,Reflect.get(t,o)),n.delete(o)}),void n.forEach(t=>e.delete(t))}const n=new Set(Object.keys(e));o.forEach(o=>{Reflect.set(e,o,Reflect.get(t,o)),n.delete(o)}),n.forEach(t=>Reflect.deleteProperty(e,t))}}get(e){return be(e)?e.value:e}isRef(e){return be(e)||ye(e)}};F(),F(),F();var ke;function Se(){if("undefined"==typeof window||!v||"undefined"==typeof localStorage||null===localStorage)return{recordingState:!1,mouseEventEnabled:!1,keyboardEventEnabled:!1,componentEventEnabled:!1,performanceEventEnabled:!1,selected:""};const e=void 0!==localStorage.getItem?localStorage.getItem("__VUE_DEVTOOLS_KIT_TIMELINE_LAYERS_STATE__"):null;return e?JSON.parse(e):{recordingState:!1,mouseEventEnabled:!1,keyboardEventEnabled:!1,componentEventEnabled:!1,performanceEventEnabled:!1,selected:""}}F(),F(),F(),null!=(ke=w).__VUE_DEVTOOLS_KIT_TIMELINE_LAYERS||(ke.__VUE_DEVTOOLS_KIT_TIMELINE_LAYERS=[]);var Ie,Re=new Proxy(w.__VUE_DEVTOOLS_KIT_TIMELINE_LAYERS,{get:(e,t,o)=>Reflect.get(e,t,o)});null!=(Ie=w).__VUE_DEVTOOLS_KIT_INSPECTOR__||(Ie.__VUE_DEVTOOLS_KIT_INSPECTOR__=[]);var Te,Ne,Ve,Ae,Oe,xe=new Proxy(w.__VUE_DEVTOOLS_KIT_INSPECTOR__,{get:(e,t,o)=>Reflect.get(e,t,o)}),De=k(()=>{Et.hooks.callHook("sendInspectorToClient",Be())});function Be(){return xe.filter(e=>e.descriptor.app===Fe.value.app).filter(e=>"components"!==e.descriptor.id).map(e=>{var t;const o=e.descriptor,n=e.options;return{id:n.id,label:n.label,logo:o.logo,icon:`custom-ic-baseline-${null==(t=null==n?void 0:n.icon)?void 0:t.replace(/_/g,"-")}`,packageName:o.packageName,homepage:o.homepage,pluginId:o.id}})}function Pe(e,t){return xe.find(o=>o.options.id===e&&(!t||o.descriptor.app===t))}null!=(Te=w).__VUE_DEVTOOLS_KIT_APP_RECORDS__||(Te.__VUE_DEVTOOLS_KIT_APP_RECORDS__=[]),null!=(Ne=w).__VUE_DEVTOOLS_KIT_ACTIVE_APP_RECORD__||(Ne.__VUE_DEVTOOLS_KIT_ACTIVE_APP_RECORD__={}),null!=(Ve=w).__VUE_DEVTOOLS_KIT_ACTIVE_APP_RECORD_ID__||(Ve.__VUE_DEVTOOLS_KIT_ACTIVE_APP_RECORD_ID__=""),null!=(Ae=w).__VUE_DEVTOOLS_KIT_CUSTOM_TABS__||(Ae.__VUE_DEVTOOLS_KIT_CUSTOM_TABS__=[]),null!=(Oe=w).__VUE_DEVTOOLS_KIT_CUSTOM_COMMANDS__||(Oe.__VUE_DEVTOOLS_KIT_CUSTOM_COMMANDS__=[]);var He,$e="__VUE_DEVTOOLS_KIT_GLOBAL_STATE__";null!=(He=w)[$e]||(He[$e]={connected:!1,clientConnected:!1,vitePluginDetected:!0,appRecords:[],activeAppRecordId:"",tabs:[],commands:[],highPerfModeEnabled:!0,devtoolsClientDetected:{},perfUniqueGroupId:0,timelineLayersState:Se()});var Le=k(e=>{Et.hooks.callHook("devtoolsStateUpdated",{state:e})});k((e,t)=>{Et.hooks.callHook("devtoolsConnectedUpdated",{state:e,oldState:t})});var Me=new Proxy(w.__VUE_DEVTOOLS_KIT_APP_RECORDS__,{get:(e,t,o)=>"value"===t?w.__VUE_DEVTOOLS_KIT_APP_RECORDS__:w.__VUE_DEVTOOLS_KIT_APP_RECORDS__[t]}),Fe=new Proxy(w.__VUE_DEVTOOLS_KIT_ACTIVE_APP_RECORD__,{get:(e,t,o)=>"value"===t?w.__VUE_DEVTOOLS_KIT_ACTIVE_APP_RECORD__:"id"===t?w.__VUE_DEVTOOLS_KIT_ACTIVE_APP_RECORD_ID__:w.__VUE_DEVTOOLS_KIT_ACTIVE_APP_RECORD__[t]});function Ue(){Le({...w[$e],appRecords:Me.value,activeAppRecordId:Fe.id,tabs:w.__VUE_DEVTOOLS_KIT_CUSTOM_TABS__,commands:w.__VUE_DEVTOOLS_KIT_CUSTOM_COMMANDS__})}var Ge,ze=new Proxy(w[$e],{get:(e,t)=>"appRecords"===t?Me:"activeAppRecordId"===t?Fe.id:"tabs"===t?w.__VUE_DEVTOOLS_KIT_CUSTOM_TABS__:"commands"===t?w.__VUE_DEVTOOLS_KIT_CUSTOM_COMMANDS__:w[$e][t],deleteProperty:(e,t)=>(delete e[t],!0),set:(e,t,o)=>(w[$e],e[t]=o,w[$e][t]=o,!0)});function je(e={}){var t,o,n;const{file:l,host:r,baseUrl:a=window.location.origin,line:i=0,column:s=0}=e;if(l)if("chrome-extension"===r){const e=l.replace(/\\/g,"\\\\"),n=null!=(o=null==(t=window.VUE_DEVTOOLS_CONFIG)?void 0:t.openInEditorHost)?o:"/";fetch(`${n}__open-in-editor?file=${encodeURI(l)}`).then(t=>{if(!t.ok){const t=`Opening component ${e} failed`;console.log(`%c${t}`,"color:red")}})}else if(ze.vitePluginDetected){const e=null!=(n=w.__VUE_DEVTOOLS_OPEN_IN_EDITOR_BASE_URL__)?n:a;w.__VUE_INSPECTOR__.openInEditor(e,l,i,s)}}F(),F(),F(),F(),F(),null!=(Ge=w).__VUE_DEVTOOLS_KIT_PLUGIN_BUFFER__||(Ge.__VUE_DEVTOOLS_KIT_PLUGIN_BUFFER__=[]);var We,Ke,qe=new Proxy(w.__VUE_DEVTOOLS_KIT_PLUGIN_BUFFER__,{get:(e,t,o)=>Reflect.get(e,t,o)});function Ye(e){const t={};return Object.keys(e).forEach(o=>{t[o]=e[o].defaultValue}),t}function Je(e){return`__VUE_DEVTOOLS_NEXT_PLUGIN_SETTINGS__${e}__`}function Xe(e){var t,o,n;const l=null!=(o=null==(t=qe.find(t=>{var o;return t[0].id===e&&!!(null==(o=t[0])?void 0:o.settings)}))?void 0:t[0])?o:null;return null!=(n=null==l?void 0:l.settings)?n:null}function Ze(e,t){var o,n,l;const r=Je(e);if(r){const e=localStorage.getItem(r);if(e)return JSON.parse(e)}if(e){const t=null!=(n=null==(o=qe.find(t=>t[0].id===e))?void 0:o[0])?n:null;return Ye(null!=(l=null==t?void 0:t.settings)?l:{})}return Ye(t)}F(),F(),F(),F(),F(),F(),F(),F(),F(),F(),F();var Qe=null!=(Ke=(We=w).__VUE_DEVTOOLS_HOOK)?Ke:We.__VUE_DEVTOOLS_HOOK=O(),et={vueAppInit(e){Qe.hook("app:init",e)},vueAppUnmount(e){Qe.hook("app:unmount",e)},vueAppConnected(e){Qe.hook("app:connected",e)},componentAdded:e=>Qe.hook("component:added",e),componentEmit:e=>Qe.hook("component:emit",e),componentUpdated:e=>Qe.hook("component:updated",e),componentRemoved:e=>Qe.hook("component:removed",e),setupDevtoolsPlugin(e){Qe.hook("devtools-plugin:setup",e)},perfStart:e=>Qe.hook("perf:start",e),perfEnd:e=>Qe.hook("perf:end",e)},tt={on:et,setupDevToolsPlugin:(e,t)=>Qe.callHook("devtools-plugin:setup",e,t)},ot=class{constructor({plugin:e,ctx:t}){this.hooks=t.hooks,this.plugin=e}get on(){return{visitComponentTree:e=>{this.hooks.hook("visitComponentTree",e)},inspectComponent:e=>{this.hooks.hook("inspectComponent",e)},editComponentState:e=>{this.hooks.hook("editComponentState",e)},getInspectorTree:e=>{this.hooks.hook("getInspectorTree",e)},getInspectorState:e=>{this.hooks.hook("getInspectorState",e)},editInspectorState:e=>{this.hooks.hook("editInspectorState",e)},inspectTimelineEvent:e=>{this.hooks.hook("inspectTimelineEvent",e)},timelineCleared:e=>{this.hooks.hook("timelineCleared",e)},setPluginSettings:e=>{this.hooks.hook("setPluginSettings",e)}}}notifyComponentUpdate(e){var t;if(ze.highPerfModeEnabled)return;const o=Be().find(e=>e.packageName===this.plugin.descriptor.packageName);if(null==o?void 0:o.id){if(e){const o=[e.appContext.app,e.uid,null==(t=e.parent)?void 0:t.uid,e];Qe.callHook("component:updated",...o)}else Qe.callHook("component:updated");this.hooks.callHook("sendInspectorState",{inspectorId:o.id,plugin:this.plugin})}}addInspector(e){this.hooks.callHook("addInspector",{inspector:e,plugin:this.plugin}),this.plugin.descriptor.settings&&function(e,t){const o=Je(e);localStorage.getItem(o)||localStorage.setItem(o,JSON.stringify(Ye(t)))}(e.id,this.plugin.descriptor.settings)}sendInspectorTree(e){ze.highPerfModeEnabled||this.hooks.callHook("sendInspectorTree",{inspectorId:e,plugin:this.plugin})}sendInspectorState(e){ze.highPerfModeEnabled||this.hooks.callHook("sendInspectorState",{inspectorId:e,plugin:this.plugin})}selectInspectorNode(e,t){this.hooks.callHook("customInspectorSelectNode",{inspectorId:e,nodeId:t,plugin:this.plugin})}visitComponentTree(e){return this.hooks.callHook("visitComponentTree",e)}now(){return ze.highPerfModeEnabled?0:Date.now()}addTimelineLayer(e){this.hooks.callHook("timelineLayerAdded",{options:e,plugin:this.plugin})}addTimelineEvent(e){ze.highPerfModeEnabled||this.hooks.callHook("timelineEventAdded",{options:e,plugin:this.plugin})}getSettings(e){return Ze(null!=e?e:this.plugin.descriptor.id,this.plugin.descriptor.settings)}getComponentInstances(e){return this.hooks.callHook("getComponentInstances",{app:e})}getComponentBounds(e){return this.hooks.callHook("getComponentBounds",{instance:e})}getComponentName(e){return this.hooks.callHook("getComponentName",{instance:e})}highlightElement(e){const t=e.__VUE_DEVTOOLS_NEXT_UID__;return this.hooks.callHook("componentHighlight",{uid:t})}unhighlightElement(){return this.hooks.callHook("componentUnhighlight")}};F(),F(),F(),F();var nt="__vue_devtool_undefined__",lt="__vue_devtool_infinity__",rt="__vue_devtool_negative_infinity__",at="__vue_devtool_nan__";F(),F();var it,st={[nt]:"undefined",[at]:"NaN",[lt]:"Infinity",[rt]:"-Infinity"};function ct(e,t){return tt.setupDevToolsPlugin(e,t)}function ut(e,t){w.__VUE_DEVTOOLS_KIT__REGISTERED_PLUGIN_APPS__.has(e)||ze.highPerfModeEnabled&&!(null==t?void 0:t.inspectingComponent)||(w.__VUE_DEVTOOLS_KIT__REGISTERED_PLUGIN_APPS__.add(e),qe.forEach(t=>{!function(e,t){const[o,n]=e;if(o.app!==t)return;const l=new ot({plugin:{setupFn:n,descriptor:o},ctx:Et});"vuex"===o.packageName&&l.on.editInspectorState(e=>{l.sendInspectorState(e.inspectorId)}),n(l)}(t,e)}))}Object.entries(st).reduce((e,[t,o])=>(e[o]=t,e),{}),F(),F(),F(),F(),F(),null!=(it=w).__VUE_DEVTOOLS_KIT__REGISTERED_PLUGIN_APPS__||(it.__VUE_DEVTOOLS_KIT__REGISTERED_PLUGIN_APPS__=new Set),F(),F();var dt,pt,ft,gt="__VUE_DEVTOOLS_ROUTER__",mt="__VUE_DEVTOOLS_ROUTER_INFO__";function ht(e){return e.map(e=>{let{path:t,name:o,children:n,meta:l}=e;return(null==n?void 0:n.length)&&(n=ht(n)),{path:t,name:o,children:n,meta:l}})}function vt(e,t){function o(){var t;const o=null==(t=e.app)?void 0:t.config.globalProperties.$router,n=function(e){if(e){const{fullPath:t,hash:o,href:n,path:l,name:r,matched:a,params:i,query:s}=e;return{fullPath:t,hash:o,href:n,path:l,name:r,params:i,query:s,matched:ht(a)}}return e}(null==o?void 0:o.currentRoute.value),l=ht(function(e){const t=new Map;return((null==e?void 0:e.getRoutes())||[]).filter(e=>!t.has(e.path)&&t.set(e.path,1))}(o)),r=console.warn;console.warn=()=>{},w[mt]={currentRoute:n?C(n):{},routes:C(l)},w[gt]=o,console.warn=r}o(),tt.on.componentUpdated(k(()=>{var n;(null==(n=t.value)?void 0:n.app)===e.app&&(o(),ze.highPerfModeEnabled||Et.hooks.callHook("routerInfoUpdated",{state:w[mt]}))},200))}null!=(dt=w)[mt]||(dt[mt]={currentRoute:null,routes:[]}),null!=(pt=w)[gt]||(pt[gt]={}),new Proxy(w[mt],{get:(e,t)=>w[mt][t]}),new Proxy(w[gt],{get(e,t){if("value"===t)return w[gt]}}),F(),null!=(ft=w).__VUE_DEVTOOLS_ENV__||(ft.__VUE_DEVTOOLS_ENV__={vitePluginDetected:!1});var wt,yt,bt=function(){const e=O();e.hook("addInspector",({inspector:e,plugin:t})=>{!function(e,t){var o,n;xe.push({options:e,descriptor:t,treeFilterPlaceholder:null!=(o=e.treeFilterPlaceholder)?o:"Search tree...",stateFilterPlaceholder:null!=(n=e.stateFilterPlaceholder)?n:"Search state...",treeFilter:"",selectedNodeId:"",appRecord:W(t.app)}),De()}(e,t.descriptor)});const t=k(async({inspectorId:t,plugin:o})=>{var n;if(!t||!(null==(n=null==o?void 0:o.descriptor)?void 0:n.app)||ze.highPerfModeEnabled)return;const l=Pe(t,o.descriptor.app),r={app:o.descriptor.app,inspectorId:t,filter:(null==l?void 0:l.treeFilter)||"",rootNodes:[]};await new Promise(t=>{e.callHookWith(async e=>{await Promise.all(e.map(e=>e(r))),t()},"getInspectorTree")}),e.callHookWith(async e=>{await Promise.all(e.map(e=>e({inspectorId:t,rootNodes:r.rootNodes})))},"sendInspectorTreeToClient")},120);e.hook("sendInspectorTree",t);const o=k(async({inspectorId:t,plugin:o})=>{var n;if(!t||!(null==(n=null==o?void 0:o.descriptor)?void 0:n.app)||ze.highPerfModeEnabled)return;const l=Pe(t,o.descriptor.app),r={app:o.descriptor.app,inspectorId:t,nodeId:(null==l?void 0:l.selectedNodeId)||"",state:null},a={currentTab:`custom-inspector:${t}`};r.nodeId&&await new Promise(t=>{e.callHookWith(async e=>{await Promise.all(e.map(e=>e(r,a))),t()},"getInspectorState")}),e.callHookWith(async e=>{await Promise.all(e.map(e=>e({inspectorId:t,nodeId:r.nodeId,state:r.state})))},"sendInspectorStateToClient")},120);return e.hook("sendInspectorState",o),e.hook("customInspectorSelectNode",({inspectorId:e,nodeId:t,plugin:o})=>{const n=Pe(e,o.descriptor.app);n&&(n.selectedNodeId=t)}),e.hook("timelineLayerAdded",({options:e,plugin:t})=>{!function(e,t){ze.timelineLayersState[t.id]=!1,Re.push({...e,descriptorId:t.id,appRecord:W(t.app)})}(e,t.descriptor)}),e.hook("timelineEventAdded",({options:t,plugin:o})=>{var n;ze.highPerfModeEnabled||!(null==(n=ze.timelineLayersState)?void 0:n[o.descriptor.id])&&!["performance","component-event","keyboard","mouse"].includes(t.layerId)||e.callHookWith(async e=>{await Promise.all(e.map(e=>e(t)))},"sendTimelineEventToClient")}),e.hook("getComponentInstances",async({app:e})=>{const t=e.__VUE_DEVTOOLS_NEXT_APP_RECORD__;if(!t)return null;const o=t.id.toString();return[...t.instanceMap].filter(([e])=>e.split(":")[0]===o).map(([,e])=>e)}),e.hook("getComponentBounds",async({instance:e})=>Q(e)),e.hook("getComponentName",({instance:e})=>q(e)),e.hook("componentHighlight",({uid:e})=>{const t=Fe.value.instanceMap.get(e);t&&function(e){const t=Q(e);if(!t.width&&!t.height)return;const o=q(e);se()?de({bounds:t,name:o}):ue({bounds:t,name:o})}(t)}),e.hook("componentUnhighlight",()=>{pe()}),e}();null!=(wt=w).__VUE_DEVTOOLS_KIT_CONTEXT__||(wt.__VUE_DEVTOOLS_KIT_CONTEXT__={hooks:bt,get state(){return{...ze,activeAppRecordId:Fe.id,activeAppRecord:Fe.value,appRecords:Me.value}},api:(yt=bt,{async getInspectorTree(e){const t={...e,app:Fe.value.app,rootNodes:[]};return await new Promise(e=>{yt.callHookWith(async o=>{await Promise.all(o.map(e=>e(t))),e()},"getInspectorTree")}),t.rootNodes},async getInspectorState(e){const t={...e,app:Fe.value.app,state:null},o={currentTab:`custom-inspector:${e.inspectorId}`};return await new Promise(e=>{yt.callHookWith(async n=>{await Promise.all(n.map(e=>e(t,o))),e()},"getInspectorState")}),t.state},editInspectorState(e){const t=new Ce,o={...e,app:Fe.value.app,set:(o,n=e.path,l=e.state.value,r)=>{t.set(o,n,l,r||t.createDefaultSetCallback(e.state))}};yt.callHookWith(e=>{e.forEach(e=>e(o))},"editInspectorState")},sendInspectorState(e){const t=Pe(e);yt.callHook("sendInspectorState",{inspectorId:e,plugin:{descriptor:t.descriptor,setupFn:()=>({})}})},inspectComponentInspector:()=>ve(),cancelInspectComponentInspector:()=>(pe(),window.removeEventListener("mouseover",ge),window.removeEventListener("click",he,!0),void(he=null)),getComponentRenderCode(e){const t=Y(Fe.value,e);if(t)return"function"!=typeof(null==t?void 0:t.type)?t.render.toString():t.type.toString()},scrollToComponent:e=>function(e){const t=Y(Fe.value,e.id);if(t){const[o]=ee(t);if("function"==typeof o.scrollIntoView)o.scrollIntoView({behavior:"smooth"});else{const e=Q(t),o=document.createElement("div"),n={...ce(e),position:"absolute"};Object.assign(o.style,n),document.body.appendChild(o),o.scrollIntoView({behavior:"smooth"}),setTimeout(()=>{document.body.removeChild(o)},2e3)}setTimeout(()=>{const o=Q(t);if(o.width||o.height){const n=q(t),l=se();l?de({...e,name:n,bounds:o}):ue({...e,name:n,bounds:o}),setTimeout(()=>{l&&(l.style.display="none")},1500)}},1200)}}({id:e}),openInEditor:je,getVueInspector:we,toggleApp(e,t){const o=Me.value.find(t=>t.id===e);var n;o&&(function(e){w.__VUE_DEVTOOLS_KIT_ACTIVE_APP_RECORD_ID__=e,Ue()}(e),n=o,w.__VUE_DEVTOOLS_KIT_ACTIVE_APP_RECORD__=n,Ue(),vt(o,Fe),De(),ut(o.app,t))},inspectDOM(e){const t=Y(Fe.value,e);if(t){const[e]=ee(t);e&&(w.__VUE_DEVTOOLS_INSPECT_DOM_TARGET__=e)}},updatePluginSettings(e,t,o){!function(e,t,o){const n=Je(e),l=localStorage.getItem(n),r=JSON.parse(l||"{}"),a={...r,[t]:o};localStorage.setItem(n,JSON.stringify(a)),Et.hooks.callHookWith(n=>{n.forEach(n=>n({pluginId:e,key:t,oldValue:r[t],newValue:o,settings:a}))},"setPluginSettings")}(e,t,o)},getPluginSettings:e=>({options:Xe(e),values:Ze(e)})})});var _t,Ct,Et=w.__VUE_DEVTOOLS_KIT_CONTEXT__;F(),((e,t,o)=>{o=null!=e?D($(e)):{},((e,t,o,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let l of H(t))L.call(e,l)||l===o||B(e,l,{get:()=>t[l],enumerable:!(n=P(t,l))||n.enumerable})})(B(o,"default",{value:e,enumerable:!0}),e)})(G()),null!=(_t=w).__VUE_DEVTOOLS_NEXT_APP_RECORD_INFO__||(_t.__VUE_DEVTOOLS_NEXT_APP_RECORD_INFO__={id:0,appIds:new Set}),F(),F(),F(),F(),F(),null!=(Ct=w).__VUE_DEVTOOLS_UPDATE_CLIENT_DETECTED__||(Ct.__VUE_DEVTOOLS_UPDATE_CLIENT_DETECTED__=function(e){ze.devtoolsClientDetected={...ze.devtoolsClientDetected,...e};const t=Object.values(ze.devtoolsClientDetected).some(Boolean);var o;o=!t,ze.highPerfModeEnabled=null!=o?o:!ze.highPerfModeEnabled,!o&&Fe.value&&ut(Fe.value.app)}),F(),F(),F(),F(),F(),F(),F();var kt=class{constructor(){this.keyToValue=new Map,this.valueToKey=new Map}set(e,t){this.keyToValue.set(e,t),this.valueToKey.set(t,e)}getByKey(e){return this.keyToValue.get(e)}getByValue(e){return this.valueToKey.get(e)}clear(){this.keyToValue.clear(),this.valueToKey.clear()}},St=class{constructor(e){this.generateIdentifier=e,this.kv=new kt}register(e,t){this.kv.getByValue(e)||(t||(t=this.generateIdentifier(e)),this.kv.set(t,e))}clear(){this.kv.clear()}getIdentifier(e){return this.kv.getByValue(e)}getValue(e){return this.kv.getByKey(e)}},It=class extends St{constructor(){super(e=>e.name),this.classToAllowedProps=new Map}register(e,t){"object"==typeof t?(t.allowProps&&this.classToAllowedProps.set(e,t.allowProps),super.register(e,t.identifier)):super.register(e,t)}getAllowedProps(e){return this.classToAllowedProps.get(e)}};function Rt(e,t){const o=function(e){if("values"in Object)return Object.values(e);const t=[];for(const o in e)e.hasOwnProperty(o)&&t.push(e[o]);return t}(e);if("find"in o)return o.find(t);const n=o;for(let l=0;l<n.length;l++){const e=n[l];if(t(e))return e}}function Tt(e,t){Object.entries(e).forEach(([e,o])=>t(o,e))}function Nt(e,t){return-1!==e.indexOf(t)}function Vt(e,t){for(let o=0;o<e.length;o++){const n=e[o];if(t(n))return n}}F(),F();var At=class{constructor(){this.transfomers={}}register(e){this.transfomers[e.name]=e}findApplicable(e){return Rt(this.transfomers,t=>t.isApplicable(e))}findByName(e){return this.transfomers[e]}};F(),F();var Ot=e=>void 0===e,xt=e=>"object"==typeof e&&null!==e&&(e!==Object.prototype&&(null===Object.getPrototypeOf(e)||Object.getPrototypeOf(e)===Object.prototype)),Dt=e=>xt(e)&&0===Object.keys(e).length,Bt=e=>Array.isArray(e),Pt=e=>e instanceof Map,Ht=e=>e instanceof Set,$t=e=>"Symbol"===(e=>Object.prototype.toString.call(e).slice(8,-1))(e),Lt=e=>"number"==typeof e&&isNaN(e),Mt=e=>(e=>"boolean"==typeof e)(e)||(e=>null===e)(e)||Ot(e)||(e=>"number"==typeof e&&!isNaN(e))(e)||(e=>"string"==typeof e)(e)||$t(e);F();var Ft=e=>e.replace(/\./g,"\\."),Ut=e=>e.map(String).map(Ft).join("."),Gt=e=>{const t=[];let o="";for(let l=0;l<e.length;l++){let n=e.charAt(l);if("\\"===n&&"."===e.charAt(l+1)){o+=".",l++;continue}"."===n?(t.push(o),o=""):o+=n}const n=o;return t.push(n),t};function zt(e,t,o,n){return{isApplicable:e,annotation:t,transform:o,untransform:n}}F();var jt=[zt(Ot,"undefined",()=>null,()=>{}),zt(e=>"bigint"==typeof e,"bigint",e=>e.toString(),e=>"undefined"!=typeof BigInt?BigInt(e):(console.error("Please add a BigInt polyfill."),e)),zt(e=>e instanceof Date&&!isNaN(e.valueOf()),"Date",e=>e.toISOString(),e=>new Date(e)),zt(e=>e instanceof Error,"Error",(e,t)=>{const o={name:e.name,message:e.message};return t.allowedErrorProps.forEach(t=>{o[t]=e[t]}),o},(e,t)=>{const o=new Error(e.message);return o.name=e.name,o.stack=e.stack,t.allowedErrorProps.forEach(t=>{o[t]=e[t]}),o}),zt(e=>e instanceof RegExp,"regexp",e=>""+e,e=>{const t=e.slice(1,e.lastIndexOf("/")),o=e.slice(e.lastIndexOf("/")+1);return new RegExp(t,o)}),zt(Ht,"set",e=>[...e.values()],e=>new Set(e)),zt(Pt,"map",e=>[...e.entries()],e=>new Map(e)),zt(e=>{return Lt(e)||((t=e)===1/0||t===-1/0);var t},"number",e=>Lt(e)?"NaN":e>0?"Infinity":"-Infinity",Number),zt(e=>0===e&&1/e==-1/0,"number",()=>"-0",Number),zt(e=>e instanceof URL,"URL",e=>e.toString(),e=>new URL(e))];function Wt(e,t,o,n){return{isApplicable:e,annotation:t,transform:o,untransform:n}}var Kt=Wt((e,t)=>{if($t(e)){return!!t.symbolRegistry.getIdentifier(e)}return!1},(e,t)=>["symbol",t.symbolRegistry.getIdentifier(e)],e=>e.description,(e,t,o)=>{const n=o.symbolRegistry.getValue(t[1]);if(!n)throw new Error("Trying to deserialize unknown symbol");return n}),qt=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,Uint8ClampedArray].reduce((e,t)=>(e[t.name]=t,e),{}),Yt=Wt(e=>ArrayBuffer.isView(e)&&!(e instanceof DataView),e=>["typed-array",e.constructor.name],e=>[...e],(e,t)=>{const o=qt[t[1]];if(!o)throw new Error("Trying to deserialize unknown typed array");return new o(e)});function Jt(e,t){if(null==e?void 0:e.constructor){return!!t.classRegistry.getIdentifier(e.constructor)}return!1}var Xt=Wt(Jt,(e,t)=>["class",t.classRegistry.getIdentifier(e.constructor)],(e,t)=>{const o=t.classRegistry.getAllowedProps(e.constructor);if(!o)return{...e};const n={};return o.forEach(t=>{n[t]=e[t]}),n},(e,t,o)=>{const n=o.classRegistry.getValue(t[1]);if(!n)throw new Error(`Trying to deserialize unknown class '${t[1]}' - check https://github.com/blitz-js/superjson/issues/116#issuecomment-773996564`);return Object.assign(Object.create(n.prototype),e)}),Zt=Wt((e,t)=>!!t.customTransformerRegistry.findApplicable(e),(e,t)=>["custom",t.customTransformerRegistry.findApplicable(e).name],(e,t)=>t.customTransformerRegistry.findApplicable(e).serialize(e),(e,t,o)=>{const n=o.customTransformerRegistry.findByName(t[1]);if(!n)throw new Error("Trying to deserialize unknown custom value");return n.deserialize(e)}),Qt=[Xt,Kt,Zt,Yt],eo=(e,t)=>{const o=Vt(Qt,o=>o.isApplicable(e,t));if(o)return{value:o.transform(e,t),type:o.annotation(e,t)};const n=Vt(jt,o=>o.isApplicable(e,t));return n?{value:n.transform(e,t),type:n.annotation}:void 0},to={};jt.forEach(e=>{to[e.annotation]=e});F();var oo=(e,t)=>{if(t>e.size)throw new Error("index out of bounds");const o=e.keys();for(;t>0;)o.next(),t--;return o.next().value};function no(e){if(Nt(e,"__proto__"))throw new Error("__proto__ is not allowed as a property");if(Nt(e,"prototype"))throw new Error("prototype is not allowed as a property");if(Nt(e,"constructor"))throw new Error("constructor is not allowed as a property")}var lo=(e,t,o)=>{if(no(t),0===t.length)return o(e);let n=e;for(let r=0;r<t.length-1;r++){const e=t[r];if(Bt(n)){n=n[+e]}else if(xt(n))n=n[e];else if(Ht(n)){n=oo(n,+e)}else if(Pt(n)){if(r===t.length-2)break;const o=+e,l=0===+t[++r]?"key":"value",a=oo(n,o);switch(l){case"key":n=a;break;case"value":n=n.get(a)}}}const l=t[t.length-1];if(Bt(n)?n[+l]=o(n[+l]):xt(n)&&(n[l]=o(n[l])),Ht(n)){const e=oo(n,+l),t=o(e);e!==t&&(n.delete(e),n.add(t))}if(Pt(n)){const e=+t[t.length-2],r=oo(n,e);switch(0===+l?"key":"value"){case"key":{const e=o(r);n.set(e,n.get(r)),e!==r&&n.delete(r);break}case"value":n.set(r,o(n.get(r)))}}return e};function ro(e,t,o=[]){if(!e)return;if(!Bt(e))return void Tt(e,(e,n)=>ro(e,t,[...o,...Gt(n)]));const[n,l]=e;l&&Tt(l,(e,n)=>{ro(e,t,[...o,...Gt(n)])}),t(n,o)}function ao(e,t,o){return ro(t,(t,n)=>{e=lo(e,n,e=>((e,t,o)=>{if(!Bt(t)){const n=to[t];if(!n)throw new Error("Unknown transformation: "+t);return n.untransform(e,o)}switch(t[0]){case"symbol":return Kt.untransform(e,t,o);case"class":return Xt.untransform(e,t,o);case"custom":return Zt.untransform(e,t,o);case"typed-array":return Yt.untransform(e,t,o);default:throw new Error("Unknown transformation: "+t)}})(e,t,o))}),e}function io(e,t){function o(t,o){const n=((e,t)=>{no(t);for(let o=0;o<t.length;o++){const n=t[o];if(Ht(e))e=oo(e,+n);else if(Pt(e)){const l=+n,r=0===+t[++o]?"key":"value",a=oo(e,l);switch(r){case"key":e=a;break;case"value":e=e.get(a)}}else e=e[n]}return e})(e,Gt(o));t.map(Gt).forEach(t=>{e=lo(e,t,()=>n)})}if(Bt(t)){const[n,l]=t;n.forEach(t=>{e=lo(e,Gt(t),()=>e)}),l&&Tt(l,o)}else Tt(t,o);return e}var so=(e,t,o,n,l=[],r=[],a=new Map)=>{var i;const s=Mt(e);if(!s){!function(e,t,o){const n=o.get(e);n?n.push(t):o.set(e,[t])}(e,l,t);const o=a.get(e);if(o)return n?{transformedValue:null}:o}if(!((e,t)=>xt(e)||Bt(e)||Pt(e)||Ht(e)||Jt(e,t))(e,o)){const t=eo(e,o),n=t?{transformedValue:t.value,annotations:[t.type]}:{transformedValue:e};return s||a.set(e,n),n}if(Nt(r,e))return{transformedValue:null};const c=eo(e,o),u=null!=(i=null==c?void 0:c.value)?i:e,d=Bt(u)?[]:{},p={};Tt(u,(i,s)=>{if("__proto__"===s||"constructor"===s||"prototype"===s)throw new Error(`Detected property ${s}. This is a prototype pollution risk, please remove it from your object.`);const c=so(i,t,o,n,[...l,s],[...r,e],a);d[s]=c.transformedValue,Bt(c.annotations)?p[s]=c.annotations:xt(c.annotations)&&Tt(c.annotations,(e,t)=>{p[Ft(s)+"."+t]=e})});const f=Dt(p)?{transformedValue:d,annotations:c?[c.type]:void 0}:{transformedValue:d,annotations:c?[c.type,p]:p};return s||a.set(e,f),f};function co(e){return Object.prototype.toString.call(e).slice(8,-1)}function uo(e){return"Array"===co(e)}function po(e,t={}){if(uo(e))return e.map(e=>po(e,t));if(!function(e){if("Object"!==co(e))return!1;const t=Object.getPrototypeOf(e);return!!t&&t.constructor===Object&&t===Object.prototype}(e))return e;return[...Object.getOwnPropertyNames(e),...Object.getOwnPropertySymbols(e)].reduce((o,n)=>{if(uo(t.props)&&!t.props.includes(n))return o;return function(e,t,o,n,l){const r={}.propertyIsEnumerable.call(n,t)?"enumerable":"nonenumerable";"enumerable"===r&&(e[t]=o),l&&"nonenumerable"===r&&Object.defineProperty(e,t,{value:o,enumerable:!1,writable:!0,configurable:!0})}(o,n,po(e[n],t),e,t.nonenumerable),o},{})}F(),F();var fo,go,mo,ho,vo,wo,yo=class{constructor({dedupe:e=!1}={}){this.classRegistry=new It,this.symbolRegistry=new St(e=>{var t;return null!=(t=e.description)?t:""}),this.customTransformerRegistry=new At,this.allowedErrorProps=[],this.dedupe=e}serialize(e){const t=new Map,o=so(e,t,this,this.dedupe),n={json:o.transformedValue};o.annotations&&(n.meta={...n.meta,values:o.annotations});const l=function(e,t){const o={};let n;return e.forEach(e=>{if(e.length<=1)return;t||(e=e.map(e=>e.map(String)).sort((e,t)=>e.length-t.length));const[l,...r]=e;0===l.length?n=r.map(Ut):o[Ut(l)]=r.map(Ut)}),n?Dt(o)?[n]:[n,o]:Dt(o)?void 0:o}(t,this.dedupe);return l&&(n.meta={...n.meta,referentialEqualities:l}),n}deserialize(e){const{json:t,meta:o}=e;let n=po(t);return(null==o?void 0:o.values)&&(n=ao(n,o.values,this)),(null==o?void 0:o.referentialEqualities)&&(n=io(n,o.referentialEqualities)),n}stringify(e){return JSON.stringify(this.serialize(e))}parse(e){return this.deserialize(JSON.parse(e))}registerClass(e,t){this.classRegistry.register(e,t)}registerSymbol(e,t){this.symbolRegistry.register(e,t)}registerCustom(e,t){this.customTransformerRegistry.register({name:t,...e})}allowErrorProps(...e){this.allowedErrorProps.push(...e)}};yo.defaultInstance=new yo,yo.serialize=yo.defaultInstance.serialize.bind(yo.defaultInstance),yo.deserialize=yo.defaultInstance.deserialize.bind(yo.defaultInstance),yo.stringify=yo.defaultInstance.stringify.bind(yo.defaultInstance),yo.parse=yo.defaultInstance.parse.bind(yo.defaultInstance),yo.registerClass=yo.defaultInstance.registerClass.bind(yo.defaultInstance),yo.registerSymbol=yo.defaultInstance.registerSymbol.bind(yo.defaultInstance),yo.registerCustom=yo.defaultInstance.registerCustom.bind(yo.defaultInstance),yo.allowErrorProps=yo.defaultInstance.allowErrorProps.bind(yo.defaultInstance),F(),F(),F(),F(),F(),F(),F(),F(),F(),F(),F(),F(),F(),F(),F(),F(),F(),F(),F(),F(),F(),F(),F(),null!=(fo=w).__VUE_DEVTOOLS_KIT_MESSAGE_CHANNELS__||(fo.__VUE_DEVTOOLS_KIT_MESSAGE_CHANNELS__=[]),null!=(go=w).__VUE_DEVTOOLS_KIT_RPC_CLIENT__||(go.__VUE_DEVTOOLS_KIT_RPC_CLIENT__=null),null!=(mo=w).__VUE_DEVTOOLS_KIT_RPC_SERVER__||(mo.__VUE_DEVTOOLS_KIT_RPC_SERVER__=null),null!=(ho=w).__VUE_DEVTOOLS_KIT_VITE_RPC_CLIENT__||(ho.__VUE_DEVTOOLS_KIT_VITE_RPC_CLIENT__=null),null!=(vo=w).__VUE_DEVTOOLS_KIT_VITE_RPC_SERVER__||(vo.__VUE_DEVTOOLS_KIT_VITE_RPC_SERVER__=null),null!=(wo=w).__VUE_DEVTOOLS_KIT_BROADCAST_RPC_SERVER__||(wo.__VUE_DEVTOOLS_KIT_BROADCAST_RPC_SERVER__=null),F(),F(),F(),F(),F(),F(),F();const bo="undefined"!=typeof window;let _o;const Co=e=>_o=e,Eo="production"!==process.env.NODE_ENV?()=>{const e=t.hasInjectionContext()&&t.inject(ko);return e||bo||console.error('[🍍]: Pinia instance not found in context. This falls back to the global activePinia which exposes you to cross-request pollution on the server. Most of the time, it means you are calling "useStore()" in the wrong place.\nRead https://vuejs.org/guide/reusability/composables.html to learn more'),e||_o}:()=>t.hasInjectionContext()&&t.inject(ko)||_o,ko="production"!==process.env.NODE_ENV?Symbol("pinia"):Symbol();function So(e){return e&&"object"==typeof e&&"[object Object]"===Object.prototype.toString.call(e)&&"function"!=typeof e.toJSON}var Io,Ro;(Ro=Io||(Io={})).direct="direct",Ro.patchObject="patch object",Ro.patchFunction="patch function";const To=(()=>"object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:"object"==typeof globalThis?globalThis:{HTMLElement:null})();function No(e,t,o){const n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){Do(n.response,t,o)},n.onerror=function(){console.error("could not download file")},n.send()}function Vo(e){const t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(o){}return t.status>=200&&t.status<=299}function Ao(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(t){const o=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window,detail:0,screenX:80,screenY:20,clientX:80,clientY:20,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,button:0,relatedTarget:null});e.dispatchEvent(o)}}const Oo="object"==typeof navigator?navigator:{userAgent:""},xo=(()=>/Macintosh/.test(Oo.userAgent)&&/AppleWebKit/.test(Oo.userAgent)&&!/Safari/.test(Oo.userAgent))(),Do=bo?"undefined"!=typeof HTMLAnchorElement&&"download"in HTMLAnchorElement.prototype&&!xo?function(e,t="download",o){const n=document.createElement("a");n.download=t,n.rel="noopener","string"==typeof e?(n.href=e,n.origin!==location.origin?Vo(n.href)?No(e,t,o):(n.target="_blank",Ao(n)):Ao(n)):(n.href=URL.createObjectURL(e),setTimeout(function(){URL.revokeObjectURL(n.href)},4e4),setTimeout(function(){Ao(n)},0))}:"msSaveOrOpenBlob"in Oo?function(e,t="download",o){if("string"==typeof e)if(Vo(e))No(e,t,o);else{const t=document.createElement("a");t.href=e,t.target="_blank",setTimeout(function(){Ao(t)})}else navigator.msSaveOrOpenBlob(function(e,{autoBom:t=!1}={}){return t&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e}(e,o),t)}:function(e,t,o,n){(n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading...");if("string"==typeof e)return No(e,t,o);const l="application/octet-stream"===e.type,r=/constructor/i.test(String(To.HTMLElement))||"safari"in To,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||l&&r||xo)&&"undefined"!=typeof FileReader){const t=new FileReader;t.onloadend=function(){let e=t.result;if("string"!=typeof e)throw n=null,new Error("Wrong reader.result type");e=a?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=e:location.assign(e),n=null},t.readAsDataURL(e)}else{const t=URL.createObjectURL(e);n?n.location.assign(t):location.href=t,n=null,setTimeout(function(){URL.revokeObjectURL(t)},4e4)}}:()=>{};function Bo(e,t){const o="🍍 "+e;"function"==typeof __VUE_DEVTOOLS_TOAST__?__VUE_DEVTOOLS_TOAST__(o,t):"error"===t?console.error(o):"warn"===t?console.warn(o):console.log(o)}function Po(e){return"_a"in e&&"install"in e}function Ho(){if(!("clipboard"in navigator))return Bo("Your browser doesn't support the Clipboard API","error"),!0}function $o(e){return!!(e instanceof Error&&e.message.toLowerCase().includes("document is not focused"))&&(Bo('You need to activate the "Emulate a focused page" setting in the "Rendering" panel of devtools.',"warn"),!0)}let Lo;async function Mo(e){try{const t=(Lo||(Lo=document.createElement("input"),Lo.type="file",Lo.accept=".json"),function(){return new Promise((e,t)=>{Lo.onchange=async()=>{const t=Lo.files;if(!t)return e(null);const o=t.item(0);return e(o?{text:await o.text(),file:o}:null)},Lo.oncancel=()=>e(null),Lo.onerror=t,Lo.click()})}),o=await t();if(!o)return;const{text:n,file:l}=o;Fo(e,JSON.parse(n)),Bo(`Global state imported from "${l.name}".`)}catch(t){Bo("Failed to import the state from JSON. Check the console for more details.","error"),console.error(t)}}function Fo(e,t){for(const o in t){const n=e.state.value[o];n?Object.assign(n,t[o]):e.state.value[o]=t[o]}}function Uo(e){return{_custom:{display:e}}}const Go="🍍 Pinia (root)",zo="_root";function jo(e){return Po(e)?{id:zo,label:Go}:{id:e.$id,label:e.$id}}function Wo(e){return e?Array.isArray(e)?e.reduce((e,t)=>(e.keys.push(t.key),e.operations.push(t.type),e.oldValue[t.key]=t.oldValue,e.newValue[t.key]=t.newValue,e),{oldValue:{},keys:[],operations:[],newValue:{}}):{operation:Uo(e.type),key:Uo(e.key),oldValue:e.oldValue,newValue:e.newValue}:{}}function Ko(e){switch(e){case Io.direct:return"mutation";case Io.patchFunction:case Io.patchObject:return"$patch";default:return"unknown"}}let qo=!0;const Yo=[],Jo="pinia:mutations",Xo="pinia",{assign:Zo}=Object,Qo=e=>"🍍 "+e;function en(e,o){ct({id:"dev.esm.pinia",label:"Pinia 🍍",logo:"https://pinia.vuejs.org/logo.svg",packageName:"pinia",homepage:"https://pinia.vuejs.org",componentStateTypes:Yo,app:e},n=>{"function"!=typeof n.now&&Bo("You seem to be using an outdated version of Vue Devtools. Are you still using the Beta release instead of the stable one? You can find the links at https://devtools.vuejs.org/guide/installation.html."),n.addTimelineLayer({id:Jo,label:"Pinia 🍍",color:15064968}),n.addInspector({id:Xo,label:"Pinia 🍍",icon:"storage",treeFilterPlaceholder:"Search stores",actions:[{icon:"content_copy",action:()=>{!async function(e){if(!Ho())try{await navigator.clipboard.writeText(JSON.stringify(e.state.value)),Bo("Global state copied to clipboard.")}catch(t){if($o(t))return;Bo("Failed to serialize the state. Check the console for more details.","error"),console.error(t)}}(o)},tooltip:"Serialize and copy the state"},{icon:"content_paste",action:async()=>{await async function(e){if(!Ho())try{Fo(e,JSON.parse(await navigator.clipboard.readText())),Bo("Global state pasted from clipboard.")}catch(t){if($o(t))return;Bo("Failed to deserialize the state from clipboard. Check the console for more details.","error"),console.error(t)}}(o),n.sendInspectorTree(Xo),n.sendInspectorState(Xo)},tooltip:"Replace the state with the content of your clipboard"},{icon:"save",action:()=>{!async function(e){try{Do(new Blob([JSON.stringify(e.state.value)],{type:"text/plain;charset=utf-8"}),"pinia-state.json")}catch(t){Bo("Failed to export the state as JSON. Check the console for more details.","error"),console.error(t)}}(o)},tooltip:"Save the state as a JSON file"},{icon:"folder_open",action:async()=>{await Mo(o),n.sendInspectorTree(Xo),n.sendInspectorState(Xo)},tooltip:"Import the state from a JSON file"}],nodeActions:[{icon:"restore",tooltip:'Reset the state (with "$reset")',action:e=>{const t=o._s.get(e);t?"function"!=typeof t.$reset?Bo(`Cannot reset "${e}" store because it doesn't have a "$reset" method implemented.`,"warn"):(t.$reset(),Bo(`Store "${e}" reset.`)):Bo(`Cannot reset "${e}" store because it wasn't found.`,"warn")}}]}),n.on.inspectComponent(e=>{const o=e.componentInstance&&e.componentInstance.proxy;if(o&&o._pStores){const o=e.componentInstance.proxy._pStores;Object.values(o).forEach(o=>{e.instanceData.state.push({type:Qo(o.$id),key:"state",editable:!0,value:o._isOptionsAPI?{_custom:{value:t.toRaw(o.$state),actions:[{icon:"restore",tooltip:"Reset the state of this store",action:()=>o.$reset()}]}}:Object.keys(o.$state).reduce((e,t)=>(e[t]=o.$state[t],e),{})}),o._getters&&o._getters.length&&e.instanceData.state.push({type:Qo(o.$id),key:"getters",editable:!1,value:o._getters.reduce((e,t)=>{try{e[t]=o[t]}catch(n){e[t]=n}return e},{})})})}}),n.on.getInspectorTree(t=>{if(t.app===e&&t.inspectorId===Xo){let e=[o];e=e.concat(Array.from(o._s.values())),t.rootNodes=(t.filter?e.filter(e=>"$id"in e?e.$id.toLowerCase().includes(t.filter.toLowerCase()):Go.toLowerCase().includes(t.filter.toLowerCase())):e).map(jo)}}),globalThis.$pinia=o,n.on.getInspectorState(n=>{if(n.app===e&&n.inspectorId===Xo){const e=n.nodeId===zo?o:o._s.get(n.nodeId);if(!e)return;e&&(n.nodeId!==zo&&(globalThis.$store=t.toRaw(e)),n.state=function(e){if(Po(e)){const t=Array.from(e._s.keys()),o=e._s;return{state:t.map(t=>({editable:!0,key:t,value:e.state.value[t]})),getters:t.filter(e=>o.get(e)._getters).map(e=>{const t=o.get(e);return{editable:!1,key:e,value:t._getters.reduce((e,o)=>(e[o]=t[o],e),{})}})}}const t={state:Object.keys(e.$state).map(t=>({editable:!0,key:t,value:e.$state[t]}))};return e._getters&&e._getters.length&&(t.getters=e._getters.map(t=>({editable:!1,key:t,value:e[t]}))),e._customProperties.size&&(t.customProperties=Array.from(e._customProperties).map(t=>({editable:!0,key:t,value:e[t]}))),t}(e))}}),n.on.editInspectorState(t=>{if(t.app===e&&t.inspectorId===Xo){const e=t.nodeId===zo?o:o._s.get(t.nodeId);if(!e)return Bo(`store "${t.nodeId}" not found`,"error");const{path:n}=t;Po(e)?n.unshift("state"):1===n.length&&e._customProperties.has(n[0])&&!(n[0]in e.$state)||n.unshift("$state"),qo=!1,t.set(e,n,t.state.value),qo=!0}}),n.on.editComponentState(e=>{if(e.type.startsWith("🍍")){const t=e.type.replace(/^🍍\s*/,""),n=o._s.get(t);if(!n)return Bo(`store "${t}" not found`,"error");const{path:l}=e;if("state"!==l[0])return Bo(`Invalid path for store "${t}":\n${l}\nOnly state can be modified.`);l[0]="$state",qo=!1,e.set(n,l,e.state.value),qo=!0}})})}let tn,on=0;function nn(e,o,n){const l=o.reduce((o,n)=>(o[n]=t.toRaw(e)[n],o),{});for(const t in l)e[t]=function(){const o=on,r=n?new Proxy(e,{get:(...e)=>(tn=o,Reflect.get(...e)),set:(...e)=>(tn=o,Reflect.set(...e))}):e;tn=o;const a=l[t].apply(r,arguments);return tn=void 0,a}}function ln({app:e,store:o,options:n}){if(!o.$id.startsWith("__hot:")){if(o._isOptionsAPI=!!n.state,!o._p._testing){nn(o,Object.keys(n.actions),o._isOptionsAPI);const e=o._hotUpdate;t.toRaw(o)._hotUpdate=function(t){e.apply(this,arguments),nn(o,Object.keys(t._hmrPayload.actions),!!o._isOptionsAPI)}}!function(e,o){Yo.includes(Qo(o.$id))||Yo.push(Qo(o.$id)),ct({id:"dev.esm.pinia",label:"Pinia 🍍",logo:"https://pinia.vuejs.org/logo.svg",packageName:"pinia",homepage:"https://pinia.vuejs.org",componentStateTypes:Yo,app:e,settings:{logStoreChanges:{label:"Notify about new/deleted stores",type:"boolean",defaultValue:!0}}},e=>{const n="function"==typeof e.now?e.now.bind(e):Date.now;o.$onAction(({after:t,onError:l,name:r,args:a})=>{const i=on++;e.addTimelineEvent({layerId:Jo,event:{time:n(),title:"🛫 "+r,subtitle:"start",data:{store:Uo(o.$id),action:Uo(r),args:a},groupId:i}}),t(t=>{tn=void 0,e.addTimelineEvent({layerId:Jo,event:{time:n(),title:"🛬 "+r,subtitle:"end",data:{store:Uo(o.$id),action:Uo(r),args:a,result:t},groupId:i}})}),l(t=>{tn=void 0,e.addTimelineEvent({layerId:Jo,event:{time:n(),logType:"error",title:"💥 "+r,subtitle:"end",data:{store:Uo(o.$id),action:Uo(r),args:a,error:t},groupId:i}})})},!0),o._customProperties.forEach(l=>{t.watch(()=>t.unref(o[l]),(t,o)=>{e.notifyComponentUpdate(),e.sendInspectorState(Xo),qo&&e.addTimelineEvent({layerId:Jo,event:{time:n(),title:"Change",subtitle:l,data:{newValue:t,oldValue:o},groupId:tn}})},{deep:!0})}),o.$subscribe(({events:t,type:l},r)=>{if(e.notifyComponentUpdate(),e.sendInspectorState(Xo),!qo)return;const a={time:n(),title:Ko(l),data:Zo({store:Uo(o.$id)},Wo(t)),groupId:tn};l===Io.patchFunction?a.subtitle="⤵️":l===Io.patchObject?a.subtitle="🧩":t&&!Array.isArray(t)&&(a.subtitle=t.type),t&&(a.data["rawEvent(s)"]={_custom:{display:"DebuggerEvent",type:"object",tooltip:"raw DebuggerEvent[]",value:t}}),e.addTimelineEvent({layerId:Jo,event:a})},{detached:!0,flush:"sync"});const l=o._hotUpdate;o._hotUpdate=t.markRaw(t=>{l(t),e.addTimelineEvent({layerId:Jo,event:{time:n(),title:"🔥 "+o.$id,subtitle:"HMR update",data:{store:Uo(o.$id),info:Uo("HMR update")}}}),e.notifyComponentUpdate(),e.sendInspectorTree(Xo),e.sendInspectorState(Xo)});const{$dispose:r}=o;o.$dispose=()=>{r(),e.notifyComponentUpdate(),e.sendInspectorTree(Xo),e.sendInspectorState(Xo),e.getSettings().logStoreChanges&&Bo(`Disposed "${o.$id}" store 🗑`)},e.notifyComponentUpdate(),e.sendInspectorTree(Xo),e.sendInspectorState(Xo),e.getSettings().logStoreChanges&&Bo(`"${o.$id}" store installed 🆕`)})}(e,o)}}function rn(e,o){for(const n in o){const l=o[n];if(!(n in e))continue;const r=e[n];So(r)&&So(l)&&!t.isRef(l)&&!t.isReactive(l)?e[n]=rn(r,l):e[n]=l}return e}const an=()=>{};function sn(e,o,n,l=an){e.add(o);const r=()=>{e.delete(o)&&l()};return!n&&t.getCurrentScope()&&t.onScopeDispose(r),r}function cn(e,...t){e.forEach(e=>{e(...t)})}const un=e=>e(),dn=Symbol(),pn=Symbol();function fn(e,o){e instanceof Map&&o instanceof Map?o.forEach((t,o)=>e.set(o,t)):e instanceof Set&&o instanceof Set&&o.forEach(e.add,e);for(const n in o){if(!o.hasOwnProperty(n))continue;const l=o[n],r=e[n];So(r)&&So(l)&&e.hasOwnProperty(n)&&!t.isRef(l)&&!t.isReactive(l)?e[n]=fn(r,l):e[n]=l}return e}const gn="production"!==process.env.NODE_ENV?Symbol("pinia:skipHydration"):Symbol();function mn(e){return!So(e)||!Object.prototype.hasOwnProperty.call(e,gn)}const{assign:hn}=Object;function vn(e){return!(!t.isRef(e)||!e.effect)}function wn(e,o,n,l){const{state:r,actions:a,getters:i}=o,s=n.state.value[e];let c;return c=yn(e,function(){s||"production"!==process.env.NODE_ENV&&l||(n.state.value[e]=r?r():{});const o="production"!==process.env.NODE_ENV&&l?t.toRefs(t.ref(r?r():{}).value):t.toRefs(n.state.value[e]);return hn(o,a,Object.keys(i||{}).reduce((l,r)=>("production"!==process.env.NODE_ENV&&r in o&&console.warn(`[🍍]: A getter cannot have the same name as another state property. Rename one of them. Found with "${r}" in store "${e}".`),l[r]=t.markRaw(t.computed(()=>{Co(n);const t=n._s.get(e);return i[r].call(t,t)})),l),{}))},o,n,l,!0),c}function yn(e,o,n={},l,r,a){let i;const s=hn({actions:{}},n);if("production"!==process.env.NODE_ENV&&!l._e.active)throw new Error("Pinia destroyed");const c={deep:!0};let u,d;"production"!==process.env.NODE_ENV&&(c.onTrigger=e=>{u?p=e:0!=u||E._hotUpdating||(Array.isArray(p)?p.push(e):console.error("🍍 debuggerEvents should be an array. This is most likely an internal Pinia bug."))});let p,f=new Set,g=new Set;const m=l.state.value[e];a||m||"production"!==process.env.NODE_ENV&&r||(l.state.value[e]={});const h=t.ref({});let v;function w(o){let n;u=d=!1,"production"!==process.env.NODE_ENV&&(p=[]),"function"==typeof o?(o(l.state.value[e]),n={type:Io.patchFunction,storeId:e,events:p}):(fn(l.state.value[e],o),n={type:Io.patchObject,payload:o,storeId:e,events:p});const r=v=Symbol();t.nextTick().then(()=>{v===r&&(u=!0)}),d=!0,cn(f,n,l.state.value[e])}const y=a?function(){const{state:e}=n,t=e?e():{};this.$patch(e=>{hn(e,t)})}:"production"!==process.env.NODE_ENV?()=>{throw new Error(`🍍: Store "${e}" is built using the setup syntax and does not implement $reset().`)}:an;const b=(t,o="")=>{if(dn in t)return t[pn]=o,t;const n=function(){Co(l);const o=Array.from(arguments),r=new Set,a=new Set;let i;cn(g,{args:o,name:n[pn],store:E,after:function(e){r.add(e)},onError:function(e){a.add(e)}});try{i=t.apply(this&&this.$id===e?this:E,o)}catch(s){throw cn(a,s),s}return i instanceof Promise?i.then(e=>(cn(r,e),e)).catch(e=>(cn(a,e),Promise.reject(e))):(cn(r,i),i)};return n[dn]=!0,n[pn]=o,n},_=t.markRaw({actions:{},getters:{},state:[],hotState:h}),C={_p:l,$id:e,$onAction:sn.bind(null,g),$patch:w,$reset:y,$subscribe(o,n={}){const r=sn(f,o,n.detached,()=>a()),a=i.run(()=>t.watch(()=>l.state.value[e],t=>{("sync"===n.flush?d:u)&&o({storeId:e,type:Io.direct,events:p},t)},hn({},c,n)));return r},$dispose:function(){i.stop(),f.clear(),g.clear(),l._s.delete(e)}},E=t.reactive("production"!==process.env.NODE_ENV||"production"!==process.env.NODE_ENV&&"test"!==process.env.NODE_ENV&&bo?hn({_hmrPayload:_,_customProperties:t.markRaw(new Set)},C):C);l._s.set(e,E);const k=(l._a&&l._a.runWithContext||un)(()=>l._e.run(()=>(i=t.effectScope()).run(()=>o({action:b}))));for(const S in k){const o=k[S];if(t.isRef(o)&&!vn(o)||t.isReactive(o))"production"!==process.env.NODE_ENV&&r?h.value[S]=t.toRef(k,S):a||(m&&mn(o)&&(t.isRef(o)?o.value=m[S]:fn(o,m[S])),l.state.value[e][S]=o),"production"!==process.env.NODE_ENV&&_.state.push(S);else if("function"==typeof o){const e="production"!==process.env.NODE_ENV&&r?o:b(o,S);k[S]=e,"production"!==process.env.NODE_ENV&&(_.actions[S]=o),s.actions[S]=o}else if("production"!==process.env.NODE_ENV&&vn(o)&&(_.getters[S]=a?n.getters[S]:o,bo)){(k._getters||(k._getters=t.markRaw([]))).push(S)}}if(hn(E,k),hn(t.toRaw(E),k),Object.defineProperty(E,"$state",{get:()=>"production"!==process.env.NODE_ENV&&r?h.value:l.state.value[e],set:e=>{if("production"!==process.env.NODE_ENV&&r)throw new Error("cannot set hotState");w(t=>{hn(t,e)})}}),"production"!==process.env.NODE_ENV&&(E._hotUpdate=t.markRaw(o=>{E._hotUpdating=!0,o._hmrPayload.state.forEach(e=>{if(e in E.$state){const t=o.$state[e],n=E.$state[e];"object"==typeof t&&So(t)&&So(n)?rn(t,n):o.$state[e]=n}E[e]=t.toRef(o.$state,e)}),Object.keys(E.$state).forEach(e=>{e in o.$state||delete E[e]}),u=!1,d=!1,l.state.value[e]=t.toRef(o._hmrPayload,"hotState"),d=!0,t.nextTick().then(()=>{u=!0});for(const e in o._hmrPayload.actions){const t=o[e];E[e]=b(t,e)}for(const e in o._hmrPayload.getters){const n=o._hmrPayload.getters[e],r=a?t.computed(()=>(Co(l),n.call(E,E))):n;E[e]=r}Object.keys(E._hmrPayload.getters).forEach(e=>{e in o._hmrPayload.getters||delete E[e]}),Object.keys(E._hmrPayload.actions).forEach(e=>{e in o._hmrPayload.actions||delete E[e]}),E._hmrPayload=o._hmrPayload,E._getters=o._getters,E._hotUpdating=!1})),"production"!==process.env.NODE_ENV&&"test"!==process.env.NODE_ENV&&bo){const e={writable:!0,configurable:!0,enumerable:!1};["_p","_hmrPayload","_getters","_customProperties"].forEach(t=>{Object.defineProperty(E,t,hn({value:E[t]},e))})}return l._p.forEach(e=>{if("production"!==process.env.NODE_ENV&&"test"!==process.env.NODE_ENV&&bo){const t=i.run(()=>e({store:E,app:l._a,pinia:l,options:s}));Object.keys(t||{}).forEach(e=>E._customProperties.add(e)),hn(E,t)}else hn(E,i.run(()=>e({store:E,app:l._a,pinia:l,options:s})))}),"production"!==process.env.NODE_ENV&&E.$state&&"object"==typeof E.$state&&"function"==typeof E.$state.constructor&&!E.$state.constructor.toString().includes("[native code]")&&console.warn(`[🍍]: The "state" must be a plain object. It cannot be\n\tstate: () => new MyClass()\nFound in store "${E.$id}".`),m&&a&&n.hydrate&&n.hydrate(E.$state,m),u=!0,d=!0,E}function bn(e,o,n){let l;const r="function"==typeof o;function a(n,i){const s=t.hasInjectionContext();if((n=("test"===process.env.NODE_ENV&&_o&&_o._testing?null:n)||(s?t.inject(ko,null):null))&&Co(n),"production"!==process.env.NODE_ENV&&!_o)throw new Error('[🍍]: "getActivePinia()" was called but there was no active Pinia. Are you trying to use a store before calling "app.use(pinia)"?\nSee https://pinia.vuejs.org/core-concepts/outside-component-usage.html for help.\nThis will fail in production.');(n=_o)._s.has(e)||(r?yn(e,o,l,n):wn(e,l,n),"production"!==process.env.NODE_ENV&&(a._pinia=n));const c=n._s.get(e);if("production"!==process.env.NODE_ENV&&i){const t="__hot:"+e,a=r?yn(t,o,l,n,!0):wn(t,hn({},l),n,!0);i._hotUpdate(a),delete n.state.value[t],n._s.delete(t)}if("production"!==process.env.NODE_ENV&&bo){const o=t.getCurrentInstance();if(o&&o.proxy&&!i){const t=o.proxy;("_pStores"in t?t._pStores:t._pStores={})[e]=c}}return c}return l=r?n:o,a.$id=e,a}function _n(){const e=t.ref(null);function o(e,t,n){return"simple"===t.type?function(e,t,o){let n;if("__checkbox"===t.columnName&&o)n=o.isRowChecked(e.rowId);else{const o=e.cells.find(e=>e.columnName===t.columnName);n=o?.value}const l=t.value;switch(t.operator){case"Equals":return n===l;case"NotEquals":return n!==l;case"GreaterThan":return Number(n)>Number(l);case"LessThan":return Number(n)<Number(l);case"GreaterThanOrEquals":return Number(n)>=Number(l);case"LessThanOrEquals":return Number(n)<=Number(l);case"Contains":return String(n).toLowerCase().includes(String(l).toLowerCase());case"StartsWith":return String(n).toLowerCase().startsWith(String(l).toLowerCase());case"EndsWith":return String(n).toLowerCase().endsWith(String(l).toLowerCase());case"IsEmpty":return null==n||""===String(n).trim();case"IsNotEmpty":return null!=n&&""!==String(n).trim();default:return!0}}(e,t,n):function(e,t,n){if(!t.left||!t.right)return console.error("[evaluateCompositeFilter] Invalid filter structure - missing children:",t),!0;const l=o(e,t.left,n);if("AND"===t.operator&&!l)return!1;if("OR"===t.operator&&l)return!0;const r=o(e,t.right,n);return"AND"===t.operator?l&&r:l||r}(e,t,n)}return{currentFilter:e,filterRows:function(e,t,n){return t?e.filter(e=>o(e,t,n)):e},setFilter:function(t){e.value=t},clearFilter:function(){e.value=null},evaluateFilter:o}}function Cn(e){const o=t.ref(""),n=t.ref("Contains"),l=t.ref([]),r=t.ref(-1);function a(e,t,o){return function(e,t){const o=[];for(let n=0;n<=t.length;n++)o[n]=[n];for(let n=0;n<=e.length;n++)o[0][n]=n;for(let n=1;n<=t.length;n++)for(let l=1;l<=e.length;l++)t.charAt(n-1)===e.charAt(l-1)?o[n][l]=o[n-1][l-1]:o[n][l]=Math.min(o[n-1][l-1]+1,o[n][l-1]+1,o[n-1][l]+1);return o[t.length][e.length]}(e.toLowerCase(),t.toLowerCase())<=o}return{searchTerm:o,searchMode:n,searchResults:l,currentResultIndex:r,searchInRows:function(t,o,n={}){if(!t)return l.value=[],void(r.value=-1);const i=[],s=n.caseSensitive??!1,c=n.fuzzyThreshold??3;for(const l of e.value)for(const e of l.cells){const n=String(e.value||"");let r=!1;const u=s?n:n.toLowerCase(),d=s?t:t.toLowerCase();switch(o){case"Exact":r=s?n===t:n.toLowerCase()===t.toLowerCase();break;case"Contains":r=u.includes(d);break;case"StartsWith":r=u.startsWith(d);break;case"EndsWith":r=u.endsWith(d);break;case"Regex":try{r=new RegExp(t,s?"":"i").test(n)}catch{r=!1}break;case"Fuzzy":r=a(n,t,c)}r&&i.push({rowId:l.rowId,columnName:e.columnName,value:n})}l.value=i,r.value=i.length>0?0:-1},goToNextResult:function(){r.value<l.value.length-1&&r.value++},goToPreviousResult:function(){r.value>0&&r.value--},clearSearch:function(){o.value="",l.value=[],r.value=-1},isSearchMatch:function(e,t){return l.value.some(o=>o.rowId===e&&o.columnName===t)}}}const En=new Map,kn=new Set,Sn=(e="dataGrid")=>{if(!e||"string"!=typeof e)throw console.error("[useDataGridStore] Invalid storeId:",e),new Error(`Invalid storeId: ${e}`);if(En.has(e))return console.log("[useDataGridStore] Using CACHED store definition for:",e),En.get(e);if(kn.has(e))throw console.error("[useDataGridStore] ⚠️ RACE CONDITION DETECTED! Store is being created by another component:",e),new Error(`[useDataGridStore] Race condition: Store ${e} is already being created. This indicates a timing issue.`);kn.add(e),console.log("[useDataGridStore] Creating NEW store definition for:",e);const o=bn(e,()=>{const e=t.ref(new Map),o=t.ref([]),n=t.ref([]),l=t.ref(new Set),r=t.ref([]),a=t.ref(100),i=t.ref(1),s=t.ref(new Map),c=t.ref([]),u=t.ref(null),d=t.ref(""),p=t.ref({pageSize:100,enableSort:!0,enableFilter:!0,enableSearch:!0,enableValidation:!0,autoValidate:!0,showRowNumber:!1,showCheckbox:!1,showValidationAlerts:!0,showDeleteButton:!1,showInsertButton:!1,minRowHeight:35}),f=t.ref(null),g=t.ref(!1),m=t.ref(!1),h=t.ref(!1),v=t.ref(new Set),w=t.ref(new Set),y=t.ref(1),b=t.computed(()=>o.value.map(t=>e.value.get(t)).filter(Boolean)),_=t.computed(()=>c.value.map(e=>({columnName:e,direction:s.value.get(e).direction})));function C(t){return e.value.get(t)}const{filterRows:E,evaluateFilter:k}=_n(),{searchResults:S,isSearchMatch:I}=Cn(b),R=t.computed(()=>o.value.length),T=t.computed(()=>Math.ceil(R.value/a.value)),N=t.computed(()=>{console.log("[visibleRows] 🔍 START");let e=b.value;if(console.log("[visibleRows] Total rows:",e.length),u.value){const t=e.length,o={checkedRows:r.value,isRowChecked:e=>r.value.includes(e)};e=E(e,u.value,o),console.log("[visibleRows] After filter:",e.length,"(filtered:",t-e.length,")")}if(d.value&&S.value.length>0){const t=e.length,o=new Set(S.value.map(e=>e.rowId));e=e.filter(e=>o.has(e.rowId)),console.log("[visibleRows] After search:",e.length,"(filtered:",t-e.length,")")}var t,o;_.value.length>0&&(t=e,e=0===(o=_.value).length?t:[...t].sort((e,t)=>{for(const{columnName:n,direction:l}of o){const o=e.cells.find(e=>e.columnName===n),r=t.cells.find(e=>e.columnName===n),a=o?.value,i=r?.value,s=O(a,i);if(0!==s)return"asc"===l?s:-s}return 0}),console.log("[visibleRows] Sorted by:",_.value.map(e=>`${e.columnName} ${e.direction}`).join(", ")));const n=(i.value-1)*a.value,l=n+a.value;console.log("[visibleRows] Pagination:",{currentPage:i.value,pageSize:a.value,start:n,end:l,total:e.length});const s=e.slice(n,l);return console.log("[visibleRows] ✅ RETURNING:",s.length,"rows"),s});function V(e){const t=`empty-${x()}`;return{rowId:t,rowIndex:e,height:p.value.minRowHeight||35,cells:n.value.map(e=>({rowId:t,columnName:e.name,value:null,isSelected:!1,isValidationError:!1}))}}function A(){const t=o.value.length,n=y.value;if(t<n){const l=n-t;console.log(`[dataGridStore] ensureMinimumRows: Adding ${l} empty rows (current: ${t}, min: ${n})`);for(let n=0;n<l;n++){const l=V(t+n);e.value.set(l.rowId,l),o.value.push(l.rowId)}}}function O(e,t){return null==e&&null==t?0:null==e?-1:null==t?1:"number"==typeof e&&"number"==typeof t?e-t:String(e).localeCompare(String(t))}function x(){return`${Date.now()}-${Math.random().toString(36).substr(2,9)}`}const D=t.computed(()=>{const e=r.value.length;return 0===e?"none":e===b.value.length?"all":"some"});function B(e,t){if(!f.value||!g.value)return;console.log("[dataGridStore] expandDragSelection:",{pressedCell:f.value,currentRowId:e,currentColumnName:t});const o=b.value.findIndex(e=>e.rowId===f.value.rowId),r=b.value.findIndex(t=>t.rowId===e);if(-1===o||-1===r)return;const a=n.value.filter(e=>!e.specialType||"ValidationAlerts"===e.specialType).map(e=>e.name);console.log("[dataGridStore] expandDragSelection: selectableColumns",{total:a.length,columns:a});const i=a.indexOf(f.value.columnName),s=a.indexOf(t);if(-1===i||-1===s)return void console.warn("[dataGridStore] expandDragSelection: column not found in selectableColumns",{pressedColumn:f.value.columnName,currentColumn:t,pressedColIndex:i,currentColIndex:s});const c=Math.min(o,r),u=Math.max(o,r),d=Math.min(i,s),p=Math.max(i,s);console.log("[dataGridStore] expandDragSelection: bounds",{rowRange:[c,u],colRange:[d,p],cellsToSelect:(u-c+1)*(p-d+1)}),l.value.clear();for(let n=c;n<=u;n++){const e=b.value[n].rowId;for(let t=d;t<=p;t++){const o=`${e}:${a[t]}`;l.value.add(o)}}console.log("[dataGridStore] expandDragSelection complete:",{selectedCellsCount:l.value.size})}const P=["__rowNumber","__checkbox","__validationAlerts","__deleteRow","__insertRow"];function H(e){const t=new Map;return e.map(e=>{const o=e.name,n=t.get(o)||0;return t.set(o,n+1),n>0?{...e,name:`${o}_${n+1}`}:e}).map((e,t,o)=>{const n=e.name.replace(/_\d+$/,"");return o.filter(e=>e.name===n||e.name.startsWith(`${n}_`)).length>1&&e.name===n?{...e,name:`${n}_1`}:e})}return{rows:b,columns:n,selectedCells:l,checkedRows:r,pageSize:a,currentPage:i,sortColumns:_,filterExpression:u,searchQuery:d,searchResults:S,config:p,pressedCell:f,isDragging:g,wasCtrlPressed:m,isAutoRowHeightEnabled:h,minRows:y,visibleRows:N,totalRows:R,totalPages:T,checkboxState:D,getRow:C,loadRows:function(t){console.log("[dataGridStore] loadRows:",{originalRowCount:t.length,columnCount:n.value.length,autoValidate:p.value.autoValidate});const l=new Map,r=[],a=n.value.filter(e=>!e.specialType&&!1!==e.visibleForGrid);let i=0;t.forEach((e,t)=>{if(!a.some(t=>{const o=e[t.name];return null!=o&&""!==o}))return void i++;const o=e.__rowId||x(),s=e.__rowHeight||40,c={rowId:o,rowIndex:r.length,height:s,cells:n.value.map(t=>({rowId:o,columnName:t.name,value:e[t.name],isSelected:!1,isValidationError:!1}))};l.set(o,c),r.push(o)}),e.value=l,o.value=r,A(),console.log("[dataGridStore] loadRows complete:",{originalRows:t.length,loadedRows:o.value.length,skippedEmptyRows:i,filterRate:`${Math.round(i/t.length*100)}%`,minRowsRequired:y.value,firstRowId:o.value[0],firstRowCells:l.get(o.value[0])?.cells.length})},updateCell:function(e,t,o){const n=C(e);if(n){const l=n.cells.find(e=>e.columnName===t);if(l){const n=l.value;l.value=o,console.log("[dataGridStore] updateCell:",{rowId:e,columnName:t,oldValue:n,newValue:o,autoValidate:p.value.autoValidate});const r=`${e}:${t}`;w.value.add(r)}else console.warn("[dataGridStore] updateCell: cell not found",{rowId:e,columnName:t})}else console.warn("[dataGridStore] updateCell: row not found",{rowId:e})},updateRowHeight:function(e,t){const o=C(e);if(o){const n=o.height;o.height=t,console.log("[dataGridStore] updateRowHeight:",{rowId:e,oldHeight:n,newHeight:t,autoRowHeightEnabled:h.value})}else console.warn("[dataGridStore] updateRowHeight: row not found",{rowId:e})},setAutoRowHeightEnabled:function(e){console.log(`[dataGridStore] setAutoRowHeightEnabled: oldValue=${h.value}, newValue=${e}`),h.value=e},addSort:function(e,t,o=!1){if(o)if(s.value.has(e)){const o=s.value.get(e);s.value.set(e,{direction:t,order:o.order})}else{const o=c.value.length+1;s.value.set(e,{direction:t,order:o}),c.value.push(e)}else s.value.clear(),c.value=[e],s.value.set(e,{direction:t,order:1})},clearSort:function(){s.value.clear(),c.value=[]},setSortColumns:function(e){s.value.clear(),c.value=[],e.forEach((e,t)=>{s.value.set(e.columnName,{direction:e.direction,order:t+1}),c.value.push(e.columnName)})},setPageSize:function(e){a.value=e,i.value=1},goToPage:function(e){e>=1&&e<=T.value&&(i.value=e)},deleteRow:function(t){if(function(t){return e.value.has(t)}(t)){console.log("[dataGridStore] deleteRow:",{rowId:t,rowsBefore:o.value.length,wasChecked:r.value.includes(t)}),e.value.delete(t),o.value=o.value.filter(e=>e!==t);const n=r.value.indexOf(t);n>-1&&r.value.splice(n,1),o.value.forEach((t,o)=>{const n=e.value.get(t);n&&(n.rowIndex=o)}),console.log("[dataGridStore] deleteRow complete:",{rowsAfter:o.value.length}),0===o.value.length&&(console.log("[dataGridStore] deleteRow: Table is empty after deletion, creating minimum rows"),A())}else console.warn("[dataGridStore] deleteRow: row not found",{rowId:t})},insertRow:function(t){const l=o.value.indexOf(t),r=x();console.log("[dataGridStore] insertRow:",{afterRowId:t,index:l,newRowId:r,rowsBefore:o.value.length});const a={rowId:r,rowIndex:l+1,height:p.value.minRowHeight||35,cells:n.value.filter(e=>!e.specialType).map(e=>({rowId:r,columnName:e.name,value:null,isSelected:!1,isValidationError:!1}))};e.value.set(r,a),o.value.splice(l+1,0,r),o.value.forEach((t,o)=>{const n=e.value.get(t);n&&(n.rowIndex=o)}),console.log("[dataGridStore] insertRow complete:",{rowsAfter:o.value.length})},insertMultipleRows:function(t,l,r){const a=o.value.indexOf(t);if(-1===a)return void console.warn("[dataGridStore] insertMultipleRows: row not found",{rowId:t});console.log("[dataGridStore] insertMultipleRows:",{rowId:t,count:l,position:r,index:a,rowsBefore:o.value.length});const i="above"===r?a:a+1,s=[];for(let o=0;o<l;o++){const t=x(),l={rowId:t,rowIndex:i+o,height:p.value.minRowHeight||35,cells:n.value.filter(e=>!e.specialType).map(e=>({rowId:t,columnName:e.name,value:null,isSelected:!1,isValidationError:!1}))};e.value.set(t,l),s.push(t)}o.value.splice(i,0,...s),o.value.forEach((t,o)=>{const n=e.value.get(t);n&&(n.rowIndex=o)}),console.log("[dataGridStore] insertMultipleRows complete:",{rowsAfter:o.value.length,newRowIds:s})},toggleCheckbox:function(e,t){if(console.log("[toggleCheckbox] Called:",{rowId:e,checked:t,currentCount:r.value.length}),t)r.value.includes(e)||r.value.push(e);else{const t=r.value.indexOf(e);t>-1&&r.value.splice(t,1)}console.log("[toggleCheckbox] After:",{count:r.value.length,checkboxState:D.value})},isRowChecked:function(e){return r.value.includes(e)},toggleAllCheckboxes:function(){const e=r.value.length,t=b.value.length;console.log("[toggleAllCheckboxes] BEFORE:",{currentCount:e,totalCount:t,checkboxState:D.value}),r.value.length===b.value.length?(console.log("[toggleAllCheckboxes] ACTION: Unchecking all (was all checked)"),r.value=[]):(console.log("[toggleAllCheckboxes] ACTION: Checking all (was not all checked)"),r.value=b.value.map(e=>e.rowId));const o=r.value.length,n=D.value;console.log("[toggleAllCheckboxes] AFTER:",{newCount:o,totalCount:t,newState:n})},setConfig:function(e){console.log("[dataGridStore] setConfig:",{newConfig:e,oldAutoValidate:p.value.autoValidate,newAutoValidate:e.autoValidate}),p.value={...p.value,...e},e.pageSize&&(a.value=e.pageSize),console.log("[dataGridStore] setConfig complete:",{autoValidate:p.value.autoValidate,enableValidation:p.value.enableValidation})},initializeEmptyRows:function(t){const l=t||y.value;console.log("[dataGridStore] initializeEmptyRows:",{requestedCount:t,rowCount:l,minRowsValue:y.value,pageSizeValue:a.value,currentRowsLength:b.value.length,columnsLength:n.value.length});const r=new Map,i=[];for(let e=0;e<l;e++){const t=x(),o={rowId:t,rowIndex:e,height:p.value.minRowHeight||35,cells:n.value.filter(e=>!e.specialType).map(e=>({rowId:t,columnName:e.name,value:null,isSelected:!1,isValidationError:!1}))};r.set(t,o),i.push(t)}e.value=r,o.value=i,console.log("[dataGridStore] initializeEmptyRows complete:",{newRowsLength:b.value.length,firstRowCellsCount:b.value[0]?.cells?.length})},setFilter:function(e){console.log("[dataGridStore] setFilter:",{filter:e}),u.value=e},clearFilter:function(){console.log("[dataGridStore] clearFilter"),u.value=null},setSearchQuery:function(e){d.value=e},clearSearch:function(){d.value=""},selectCell:function(e,t,o){const n=`${e}:${t}`;console.log("[dataGridStore] selectCell:",{rowId:e,columnName:t,isCtrlPressed:o,wasSelected:l.value.has(n),currentSelectionCount:l.value.size}),o?(m.value=!0,f.value=null,g.value=!1,l.value.has(n)?(l.value.delete(n),console.log("[dataGridStore] selectCell: toggled OFF",{cellKey:n})):(l.value.add(n),console.log("[dataGridStore] selectCell: toggled ON",{cellKey:n}))):(m.value=!1,f.value={rowId:e,columnName:t},g.value=!1,l.value.clear(),l.value.add(n),console.log("[dataGridStore] selectCell: single select",{cellKey:n})),console.log("[dataGridStore] selectCell complete:",{newSelectionCount:l.value.size})},startDragSelection:function(e,t){f.value&&(g.value=!0,l.value.clear(),B(e,t))},expandDragSelection:B,endDragSelection:function(){f.value=null,g.value=!1},isCellSelected:function(e,t){const o=`${e}:${t}`;return l.value.has(o)},setColumns:function(e){const t=e.filter(e=>!e.specialType).filter(e=>P.includes(e.name)).map(e=>e.name);if(t.length>0)throw new Error(`Column name conflict: The following column names are reserved for special columns and cannot be used: ${t.join(", ")}. Reserved names: ${P.join(", ")}`);const o=H(e);n.value=o,console.log("[dataGridStore] setColumns:",{originalCount:e.length,uniqueCount:o.length,columnNames:o.map(e=>e.name)})},updateColumn:function(e,t){const o=n.value.findIndex(t=>t.name===e);if(-1!==o){const l=n.value[o];n.value[o]={...l,...t},n.value=[...n.value],console.log(`[dataGridStore] updateColumn: ${e}`,{oldWidth:l.width,newWidth:t.width,updates:t})}else console.warn(`[dataGridStore] updateColumn: Column not found: ${e}`)},ensureUniqueColumnNames:H,areNonEmptyRowsValid:function(){for(const e of b.value){if(e.cells.every(e=>null===e.value||void 0===e.value||""===e.value))continue;if(e.cells.some(e=>e.isValidationError))return!1}return!0},markCellValidated:function(e,t){const o=`${e}:${t}`;v.value.add(o),w.value.delete(o)},clearValidationTracking:function(){console.log("[dataGridStore] clearValidationTracking:",{clearedValidatedCount:v.value.size,clearedChangedCount:w.value.size}),v.value.clear(),w.value.clear()},getCellsNeedingValidation:function(e=!1,t){console.log("[getCellsNeedingValidation] 🔍 START",{totalRows:b.value.length,validatedCellsCount:v.value.size,changedCellsCount:w.value.size,forceValidateAll:e,hasColumnsWithRules:!!t});const o=new Set(n.value.filter(e=>!1!==e.visibleForGrid).map(e=>e.name)),l=t&&t.size>0?new Set([...o].filter(e=>t.has(e))):o;console.log("[getCellsNeedingValidation] 🔍 Column filtering:",{totalColumns:n.value.length,visibleColumns:o.size,columnsWithRules:t?.size??"N/A",columnsToValidate:l.size,skippedColumns:o.size-l.size,filterRate:t?`${Math.round(100*(1-l.size/o.size))}% skipped`:"N/A (no filter)"});const r=[];let a=0,i=0,s=0,c=0,u=0,d=0;for(const n of b.value){if(!n||!n.cells){console.warn("[getCellsNeedingValidation] Row has no cells array:",n?.rowId);continue}if(n.cells.filter(e=>l.has(e.columnName)).every(e=>null===e.value||void 0===e.value||""===e.value))a++;else for(const l of n.cells){const n=o.has(l.columnName),a=!t||t.has(l.columnName);if(!n){u++;continue}if(t&&!a){d++;continue}const p=`${l.rowId}:${l.columnName}`,f=v.value.has(p),g=w.value.has(p);e||!f||g?(r.push({rowId:l.rowId,columnName:l.columnName}),f?g&&s++:c++):i++}}return console.log("[getCellsNeedingValidation] 📊 RESULT:",{cellsToValidate:r.length,neverValidated:c,changedSinceValidation:s,alreadyValidated:i,emptyRowsSkipped:a,skippedInvisibleCells:u,skippedNoRulesCells:d,sampleCells:r.slice(0,3).map(e=>`${e.rowId}:${e.columnName}`)}),r},setMinRows:function(e){e<0?console.warn("[dataGridStore] setMinRows: Invalid value, must be >= 0:",e):(y.value=e,A(),console.log(`[dataGridStore] setMinRows: ${e}`))},clearAllData:function(){console.log("[dataGridStore] clearAllData called - clearing all state"),e.value.clear(),o.value=[],l.value.clear(),r.value=[],f.value=null,g.value=!1,m.value=!1,v.value.clear(),w.value.clear(),s.value.clear(),c.value=[],u.value=null,d.value="",i.value=1,console.log("[dataGridStore] All data cleared successfully")}}});return En.set(e,o),kn.delete(e),console.log("[useDataGridStore] Store definition cached for:",e),o};function In(){const e=t.ref(new Map),n=t.reactive({}),l=t.ref(0),r=t.ref(0);function a(){l.value=Object.keys(n).length}function i(t,o,n){const l=e.value.get(o)||[],r=null==n||""===n;for(const e of l){if("Required"===e.ruleType&&r)return console.log("[useValidation] validateCell FAILED: Required",{rowId:t,columnName:o,error:e.errorMessage,severity:e.severity}),{isValid:!1,error:e.errorMessage,severity:e.severity};if(!r){if("Regex"===e.ruleType&&e.regexPattern){if(!new RegExp(e.regexPattern).test(String(n)))return console.log("[useValidation] validateCell FAILED: Regex",{rowId:t,columnName:o,value:n,pattern:e.regexPattern,error:e.errorMessage}),{isValid:!1,error:e.errorMessage,severity:e.severity}}if("Range"===e.ruleType){const l=Number(n);if(isNaN(l))return console.log("[useValidation] validateCell FAILED: Range (not a number)",{rowId:t,columnName:o,value:n}),{isValid:!1,error:"Value must be a number",severity:e.severity};if(null!=e.minValue&&l<e.minValue)return console.log("[useValidation] validateCell FAILED: Range (below min)",{rowId:t,columnName:o,value:l,minValue:e.minValue}),{isValid:!1,error:e.errorMessage,severity:e.severity};if(null!=e.maxValue&&l>e.maxValue)return console.log("[useValidation] validateCell FAILED: Range (above max)",{rowId:t,columnName:o,value:l,maxValue:e.maxValue}),{isValid:!1,error:e.errorMessage,severity:e.severity}}if("Custom"===e.ruleType&&e.customValidator&&!e.customValidator(n))return console.log("[useValidation] validateCell FAILED: Custom",{rowId:t,columnName:o,value:n,error:e.errorMessage}),{isValid:!1,error:e.errorMessage,severity:e.severity}}}return{isValid:!0}}function s(e){return e.every(e=>null==e.value||""===e.value)}function c(e,t,o,l,r=!1){if(l&&s(l))return console.log("[useValidation] validateCellDirect: Row is completely empty, clearing errors",{rowId:e}),delete n[e],r||a(),Promise.resolve();const c=i(e,t,o),u=n[e]||[];if(c.isValid){const o=u.filter(e=>e.columnName!==t);o.length>0?(n[e]=o,console.log("[useValidation] validateCellDirect: Cleared error for column, other errors remain",{rowId:e,columnName:t,remainingErrors:o.length})):delete n[e]}else{const o=u.findIndex(e=>e.columnName===t),l={rowId:e,columnName:t,message:c.error,severity:c.severity};o>=0?(u[o]=l,console.log("[useValidation] validateCellDirect: Updated existing error",{rowId:e,columnName:t,error:l.message})):(u.push(l),console.log("[useValidation] validateCellDirect: Added new error",{rowId:e,columnName:t,error:l.message})),n[e]=u}return r||a(),Promise.resolve()}const u=o.useDebounceFn(c,300);return{validationRules:e,validationErrors:n,errorCount:l,ruleCount:r,addValidationRule:function(t){const o=e.value.get(t.columnName)||[];o.push(t),e.value.set(t.columnName,o),console.log("[useValidation] addValidationRule:",{columnName:t.columnName,ruleType:t.ruleType,severity:t.severity,totalRulesForColumn:o.length}),r.value++},validateCell:i,validateCellDirect:c,validateCellThrottled:u,validateAll:async function(e){console.log("[useValidation] validateAll START:",{rowCount:e.length}),Object.keys(n).forEach(e=>delete n[e]);let o=0,l=0;const r=Math.ceil(e.length/50);for(let a=0;a<r;a++){const c=50*a,u=Math.min(c+50,e.length),d=e.slice(c,u);console.log(`[useValidation] Processing batch ${a+1}/${r} (rows ${c}-${u-1})`);for(const e of d)if(l<3&&console.log("[useValidation] validateAll: Examining row",{rowId:e.rowId,rowIndex:l,cellCount:e.cells?.length||0}),l++,e.cells&&Array.isArray(e.cells))if(s(e.cells))console.log("[useValidation] validateAll: Skipping empty row",{rowId:e.rowId,cellCount:e.cells?.length||0});else for(const t of e.cells){const l=i(e.rowId,t.columnName,t.value);if(!l.isValid){const r=n[e.rowId]||[];r.push({rowId:e.rowId,columnName:t.columnName,message:l.error,severity:l.severity}),n[e.rowId]=r,o++}}else console.log("[useValidation] validateAll: Skipping row without cells",{rowId:e.rowId,hasCells:!!e.cells,isArray:Array.isArray(e.cells)});await t.nextTick()}console.log("[useValidation] validateAll - loop FINISHED, processed",l,"rows"),console.log("[useValidation] validateAll - totalErrors:",o);const c=Object.keys(n).length;console.log("[useValidation] validateAll - rowsWithErrors:",c),console.log("[useValidation] validateAll complete - SUCCESS"),console.log("[useValidation] validateAll - calling updateErrorCount..."),a(),console.log("[useValidation] validateAll - updateErrorCount DONE"),console.log("[useValidation] validateAll - building errors array...");const u=[];for(const t in n){const e=n[t];e&&Array.isArray(e)&&u.push(...e)}return console.log("[useValidation] validateAll - errors array built, count:",u.length),console.log("[useValidation] validateAll - returning result..."),{isValid:0===o,totalErrors:o,errors:u}},getValidationErrors:function(e){return n[e]||[]},clearValidationErrors:function(){const e=Object.keys(n).length;console.log("[useValidation] clearValidationErrors:",{clearedCount:e}),Object.keys(n).forEach(e=>delete n[e]),a()},updateErrorCount:a}}function Rn(){const e=t.ref("");function o(e){if(!e)return e;if(!(e.includes("\t")||e.includes("\n")||e.includes("\r")||e.includes('"')))return e;return`"${e.replace(/"/g,'""')}"`}return{copyToClipboard:async function(t,n,l={}){try{if(0===t.length)return{success:!1,message:"No data selected for copy"};const r=function(e,t,n={}){const l=[];n.includeHeaders&&l.push(t.map(o).join("\t"));for(const r of e){const e=t.map(e=>{const t=r.cells.find(t=>t.columnName===e),n=t?.value;return o(n?.toString()??"")});l.push(e.join("\t"))}return l.join("\n")}(t,n,l);return await navigator.clipboard.writeText(r),e.value=r,{success:!0,message:`Copied ${t.length} rows to clipboard`,processedRows:t.length}}catch(r){return console.error("Copy failed:",r),{success:!1,message:`Copy failed: ${r}`}}},copySelectedCells:async function(t,n,l){try{if(0===t.size)return{success:!1,message:"No cells selected for copy"};console.log("[useCopyPaste] copySelectedCells:",{selectedCount:t.size,selectedCells:Array.from(t)});const r=l.filter(e=>!e.specialType);console.log("[useCopyPaste] Using data columns only:",{allColumnsCount:l.length,dataColumnsCount:r.length});const a=[];if(t.forEach(e=>{const[t,o]=e.split(":"),l=n.find(e=>e.rowId===t);if(!l)return;const i=r.findIndex(e=>e.name===o);if(-1===i)return;const s=n.findIndex(e=>e.rowId===t),c=l.cells.find(e=>e.columnName===o);a.push({rowId:t,rowIndex:-1!==s?s:l.rowIndex,columnName:o,columnIndex:i,value:c?.value})}),0===a.length)return{success:!1,message:"No valid cells to copy"};const i=Math.min(...a.map(e=>e.rowIndex)),s=Math.max(...a.map(e=>e.rowIndex)),c=Math.min(...a.map(e=>e.columnIndex)),u=Math.max(...a.map(e=>e.columnIndex));console.log("[useCopyPaste] copySelectedCells bounds:",{minRowIndex:i,maxRowIndex:s,minColIndex:c,maxColIndex:u,rows:s-i+1,cols:u-c+1});const d=[];for(let e=i;e<=s;e++){const t=[];for(let n=c;n<=u;n++){const l=a.find(t=>t.rowIndex===e&&t.columnIndex===n);if(l){const e=l.value?.toString()??"";t.push(o(e))}else t.push("")}d.push(t.join("\t"))}const p=d.join("\n");return console.log("[useCopyPaste] copySelectedCells TSV:",{lineCount:d.length,preview:p.substring(0,200)}),await navigator.clipboard.writeText(p),e.value=p,{success:!0,message:`Copied ${a.length} cells to clipboard`,processedRows:a.length}}catch(r){return console.error("[useCopyPaste] Copy failed:",r),{success:!1,message:`Copy failed: ${r}`}}},pasteFromClipboard:async function(){try{let t="";try{t=await navigator.clipboard.readText()}catch{t=e.value}if(!t)return{success:!1,message:"No data available in clipboard"};const{headers:o,rows:n}=function(e){const t=[],o=[];let n="",l=!1,r=!0,a=[];const i=e.trim();!i.includes("\t")&&i.includes("\n");for(let s=0;s<e.length;s++){const i=e[s],c=s+1<e.length?e[s+1]:null;if('"'===i)l&&'"'===c?(n+='"',s++):l=!l;else if("\t"!==i||l){if("\n"!==i&&"\r"!==i||l)n+=i;else if("\r"===i&&"\n"===c&&s++,n.length>0||o.length>0){if(o.push(n),n="",r){a=o.map((e,t)=>`Column${t+1}`);const e={};for(let t=0;t<a.length;t++)e[a[t]]=o[t]??null;t.push(e),console.log("[useCopyPaste] parseTabSeparated - first row preserved as data:",{headers:a,firstDataRow:e}),r=!1}else{const e={};for(let t=0;t<Math.min(a.length,o.length);t++)e[a[t]]=o[t]??null;t.push(e)}o.length=0}}else o.push(n),n=""}if(n.length>0||o.length>0)if(o.push(n),r&&0===a.length){a=o.map((e,t)=>`Column${t+1}`);const e={};for(let t=0;t<a.length;t++)e[a[t]]=o[t]??null;t.push(e),console.log("[useCopyPaste] parseTabSeparated - single row preserved as data:",{headers:a,dataRow:e})}else if(a.length>0){const e={};for(let t=0;t<Math.min(a.length,o.length);t++)e[a[t]]=o[t]??null;t.push(e)}return{headers:a,rows:t}}(t);return{success:!0,message:`Pasted ${n.length} rows from clipboard`,processedRows:n.length,rows:n,headers:o}}catch(t){return console.error("Paste failed:",t),{success:!1,message:`Paste failed: ${t}`}}},canPaste:function(){return!!e.value},clearClipboard:function(){e.value=""}}}const Tn={minHeight:35,maxHeight:400,fontFamily:"system-ui, -apple-system, sans-serif",fontSize:14,enableWrapping:!0,padding:16};function Nn(e=Tn){let t=null,o=null;function n(n,l){if(!n)return e.minHeight;const r=function(){if(t||(t=document.createElement("canvas"),o=t.getContext("2d")),!o)throw new Error("Failed to get canvas context");return o.font=`${e.fontSize}px ${e.fontFamily}`,o}();if(!e.enableWrapping)return e.minHeight;const a=n.toString().split("\n");let i=1.5*e.fontSize,s=0;for(const t of a){if(!t||""===t.trim()){s++;continue}const o=t.split(" ");let n="",a=1;for(const t of o){const o=n?`${n} ${t}`:t;r.measureText(o).width>l-e.padding?n?(a++,n=t):n=t:n=o}s+=a}const c=s*i+10;return Math.max(e.minHeight,Math.min(e.maxHeight,Math.ceil(c)))}function l(t,o){try{let l=e.minHeight;for(const e of o){if(e.specialType&&"ValidationAlerts"!==e.specialType)continue;let o=null;if(t.cells&&Array.isArray(t.cells)){const n=t.cells.find(t=>t.columnName===e.name);o=n?.value}else o=t[e.name];if(null==o)continue;const r=n(String(o),e.width);l=Math.max(l,r)}return{rowId:t.__rowId||t.rowId,calculatedHeight:l,isSuccess:!0}}catch(l){return console.error("Row height calculation failed:",l),{rowId:t.__rowId||t.rowId,calculatedHeight:e.minHeight,isSuccess:!1}}}return{calculateRowHeight:l,calculateRowHeights:function(e,t){return e.map(e=>l(e,t))},applyAutoRowHeight:async function(t,o){let n=0,r=0;const a=Math.ceil(t.length/50);for(let e=0;e<a;e++){const i=50*e,s=Math.min(i+50,t.length),c=t.slice(i,s);console.log(`[AutoRowHeight] Processing batch ${e+1}/${a} (rows ${i}-${s-1})`);for(const e of c){const t=l(e,o);t.isSuccess&&(e.height=t.calculatedHeight,n+=t.calculatedHeight,r++)}await new Promise(e=>setTimeout(e,0))}return{totalRowsUpdated:r,averageHeight:r>0?n/r:e.minHeight}},recalculateRows:function(e,t,o){let n=0;for(const r of e)if(t.includes(r.rowId)){const e=l(r,o);e.isSuccess&&(r.height=e.calculatedHeight,n++)}return n},measureTextHeight:n,updateMaxHeight:function(t){e.maxHeight=t,console.log(`[useAutoRowHeight] maxHeight updated to: ${t}px`)}}}var Vn=(e=>(e.Normal="normal",e.Editing="editing",e.Selection="selection",e.Any="any",e))(Vn||{});function An(e={}){const o=new Map,n=e.context||"normal";function l(e){const t=[];return e.ctrl&&t.push("Ctrl"),e.shift&&t.push("Shift"),e.alt&&t.push("Alt"),e.meta&&t.push("Meta"),t.push(e.key.toUpperCase()),t.join("+")}async function r(t){if(!e.enabled&&void 0!==e.enabled)return;const l=Array.from(o.values()).filter(e=>{return!1!==e.enabled&&function(e,t){return e.key.toUpperCase()===t.key.toUpperCase()&&!!e.ctrlKey==!!t.ctrl&&!!e.shiftKey==!!t.shift&&!!e.altKey==!!t.alt&&!!e.metaKey==!!t.meta}(t,e.key)&&(o=e.context||"normal",l=n,"any"===o||o===l||"any"===l);var o,l});if(0===l.length)return;l.sort((e,t)=>(t.priority||0)-(e.priority||0));const r=l[0];t.preventDefault(),t.stopPropagation();try{await r.handler(t)}catch(a){console.error(`Shortcut execution failed for ${r.name}:`,a)}}function a(e){const t=l(e.key);o.has(t)&&console.warn(`Shortcut ${t} is already registered. Overwriting.`),o.set(t,{...e,enabled:!1!==e.enabled,context:e.context||"normal",priority:e.priority||0})}return t.onMounted(()=>{!1!==e.enabled&&document.addEventListener("keydown",r)}),t.onUnmounted(()=>{document.removeEventListener("keydown",r)}),{registerShortcut:a,registerShortcuts:function(e){e.forEach(a)},unregisterShortcut:function(e){const t=l(e);return o.delete(t)},unregisterShortcutByName:function(e){const t=Array.from(o.entries()).find(([t,o])=>o.name===e);return!!t&&(o.delete(t[0]),!0)},setShortcutEnabled:function(e,t){const n=Array.from(o.entries()).find(([t,o])=>o.name===e);n&&(n[1].enabled=t)},getShortcuts:function(){return Array.from(o.values())},getShortcutsByContext:function(e){return Array.from(o.values()).filter(t=>t.context===e||"any"===t.context)},clearShortcuts:function(){o.clear()},handleKeyDown:r}}const On=e=>({key:e,ctrl:!0}),xn=e=>({key:e,ctrl:!0,shift:!0}),Dn=e=>({key:e});const Bn=t.ref([]),Pn=t.ref(!1);let Hn=null;function $n(e,t,o,n){const l={timestamp:(new Date).toISOString(),level:e,category:t,message:o,data:void 0!==n?JSON.parse(JSON.stringify(n)):void 0};Bn.value.push(l),Pn.value||function(){if(null!==Hn)return;Pn.value=!0,Hn=window.setInterval(()=>{!function(){if(0===Bn.value.length)return void Ln();const e=Bn.value.splice(0,50);for(const t of e)Mn(t)}()},100)}()}function Ln(){null!==Hn&&(window.clearInterval(Hn),Hn=null),Pn.value=!1}function Mn(e){const t=`${`[${e.timestamp}] [${e.level}] [${e.category}]`} ${e.message}`;switch(e.level){case"DEBUG":void 0!==e.data?console.debug(t,e.data):console.debug(t);break;case"INFO":void 0!==e.data?console.log(t,e.data):console.log(t);break;case"WARN":void 0!==e.data?console.warn(t,e.data):console.warn(t);break;case"ERROR":case"FATAL":void 0!==e.data?console.error(t,e.data):console.error(t)}}const Fn=new class{isHostMode=!1;listBoxRegistry=new Map;constructor(){this.isHostMode=this.detectHostMode(),console.log("Grid API Mode: "+(this.isHostMode?"Host Objects":"HTTP"))}detectHostMode(){return!!window.gridApi}async callHostApi(e,...t){try{if(!window.gridApi)throw new Error("Grid API not available");const o=window.gridApi,n=await o[e](...t);return"string"==typeof n?JSON.parse(n):n}catch(o){return console.error("Grid API call failed:",o),{success:!1,error:o instanceof Error?o.message:"Unknown error"}}}async request(e,t){try{const o=await fetch(`http://localhost:5000/api/grid${e}`,{...t,headers:{"Content-Type":"application/json",...t?.headers},credentials:"include"});if(!o.ok){return{success:!1,error:(await o.json().catch(()=>({error:o.statusText}))).error||`HTTP ${o.status}: ${o.statusText}`}}return await o.json()}catch(o){return console.error("API request failed:",o),{success:!1,error:o instanceof Error?o.message:"Unknown error"}}}async getData(){return this.isHostMode?this.callHostApi("GetData"):this.request("/data")}async importData(e){if(this.isHostMode){const t=JSON.stringify({data:e});return this.callHostApi("ImportData",t)}return this.request("/import",{method:"POST",body:JSON.stringify({data:e})})}async exportData(e){if(this.isHostMode){const t=JSON.stringify({OnlyFiltered:e?.onlyFiltered??!1,FilteredRowIds:e?.filteredRowIds??null,ColumnNames:e?.columnNames??null});return this.callHostApi("ExportData",t)}{const t=new URLSearchParams;e?.onlyFiltered&&t.append("onlyFiltered","true"),e?.filteredRowIds&&t.append("filteredRowIds",JSON.stringify(e.filteredRowIds)),e?.columnNames&&t.append("columnNames",JSON.stringify(e.columnNames));const o=t.toString()?`?${t.toString()}`:"";return this.request(`/export${o}`)}}async getConfig(){return this.isHostMode?this.callHostApi("GetConfig"):this.request("/config")}async setValidationRules(e){if(this.isHostMode){const t=JSON.stringify({rules:e});return this.callHostApi("SetValidationRules",t)}return this.request("/validation-rules",{method:"POST",body:JSON.stringify({rules:e})})}async getValidationRules(){return this.isHostMode?this.callHostApi("GetValidationRules"):this.request("/validation-rules")}async getColumnNames(){if(this.isHostMode){const e=await this.callHostApi("GetColumnNames");return{success:e.success,data:e.data?.columnNames,error:e.error}}return this.request("/columns")}async getColumns(){return this.isHostMode?this.callHostApi("GetColumns"):this.request("/columns/definitions")}async healthCheck(){try{if(this.isHostMode){return(await this.callHostApi("HealthCheck")).success}return(await fetch("http://localhost:5000/health")).ok}catch{return!1}}registerListBox(e,t){this.listBoxRegistry.set(e,t),console.log(`[GridAPI] ListBox registered: ${e}`)}unregisterListBox(e){this.listBoxRegistry.delete(e),console.log(`[GridAPI] ListBox unregistered: ${e}`)}clearListBoxSelection(e){const t=this.listBoxRegistry.get(e);return t?(t.clearSelection(),console.log(`[GridAPI] ListBox selection cleared: ${e}`),{success:!0,message:`ListBox '${e}' selection cleared`}):(console.warn(`[GridAPI] ListBox not found: ${e}`),{success:!1,error:`ListBox not found: ${e}`})}getListBoxSelection(e){const t=this.listBoxRegistry.get(e);if(t){const o=t.getSelectedValues();return console.log(`[GridAPI] ListBox selection retrieved: ${e}`,o),{success:!0,data:o}}return console.warn(`[GridAPI] ListBox not found: ${e}`),{success:!1,error:`ListBox not found: ${e}`}}async getListBoxConfig(e){return this.isHostMode?this.callHostApi("GetListBoxConfig",e):this.request(`/listbox/${e}/config`)}async getThemeConfig(){return this.isHostMode?this.callHostApi("GetThemeConfig"):this.request("/theme/config")}},Un={cellColors:{defaultBackground:"#ffffff",defaultForeground:"#212529",hoverBackground:"#f8f9fa",hoverForeground:"#212529",focusedBackground:"#e3f2fd",focusedForeground:"#0d6efd",disabledBackground:"#e9ecef",disabledForeground:"#6c757d",readOnlyBackground:"#f8f9fa",readOnlyForeground:"#495057"},rowColors:{evenRowBackground:"#ffffff",oddRowBackground:"#f8f9fa",hoverBackground:"#e3f2fd",selectedBackground:"#0d6efd",selectedForeground:"#ffffff",selectedInactiveBackground:"#e9ecef",selectedInactiveForeground:"#495057"},headerColors:{background:"#f1f3f5",foreground:"#212529",hoverBackground:"#e9ecef",pressedBackground:"#dee2e6",sortIndicatorColor:"#0d6efd"},validationColors:{errorBackground:"#ffebee",errorForeground:"#c62828",errorBorder:"#ef5350",warningBackground:"#fff3e0",warningForeground:"#e65100",warningBorder:"#ff9800",infoBackground:"#e3f2fd",infoForeground:"#1565c0",infoBorder:"#2196f3"},selectionColors:{selectionBorder:"#0d6efd",selectionFill:"rgba(13, 110, 253, 0.1)",multiSelectionBackground:"#bbdefb",multiSelectionForeground:"#0d6efd"},borderColors:{cellBorder:"#e0e0e0",rowBorder:"#e0e0e0",columnBorder:"#dee2e6",gridBorder:"#ced4da",focusedCellBorder:"#0d6efd"},specialColumnColors:{rowNumberBackground:"#f5f5f5",rowNumberForeground:"#666666",checkboxBorder:"#ced4da",checkboxBackground:"#ffffff",checkboxForeground:"#212529",deleteRowBackground:"transparent",deleteRowForeground:"#dc3545",deleteRowHoverBackground:"#ffebee",insertRowBackground:"transparent",insertRowForeground:"#28a745",insertRowBorder:"transparent",insertRowHoverBackground:"#e8f5e9",insertRowHoverForeground:"#1b5e20",validationAlertsErrorBackground:"#ffebee",validationAlertsErrorForeground:"#c62828"},uiControlColors:{resizeGripColor:"#adb5bd",menuBackground:"#ffffff",menuForeground:"#212529",menuHoverBackground:"#f8f9fa",dialogBackground:"#ffffff",dialogForeground:"#212529",dialogBorder:"#dee2e6",placeholderColor:"#6c757d",searchPanelBackground:"#f8f9fa",searchPanelForeground:"#212529",searchPanelBorder:"#ced4da",filterRowBackground:"#f8f9fa",filterRowForeground:"#212529",filterRowBorder:"#dee2e6",paginationBackground:"#ffffff",paginationForeground:"#212529",paginationBorder:"#dee2e6",paginationButtonHoverBackground:"#e9ecef"}},Gn={itemColors:{defaultBackground:"#ffffff",defaultForeground:"#212529",hoverBackground:"#f8f9fa",hoverForeground:"#212529",selectedBackground:"#e3f2fd",selectedForeground:"#0d6efd",selectedHoverBackground:"#bbdefb",selectedHoverForeground:"#0d6efd",disabledBackground:"#e9ecef",disabledForeground:"#6c757d"},containerColors:{background:"#ffffff",border:"#ced4da",focusedBorder:"#0d6efd",titleForeground:"#212529"},checkboxColors:{border:"#ced4da",background:"#ffffff",checkedBackground:"#0d6efd",checkedBorder:"#0d6efd",hoverBorder:"#adb5bd"},scrollbarColors:{trackBackground:"#f1f1f1",thumbBackground:"#c1c1c1",thumbHoverBackground:"#a8a8a8"}};const zn=["onClick","onContextmenu"],jn={key:0,class:"checkbox-icon"},Wn={key:1,class:"checkbox-icon"},Kn={key:1,class:"header-text"},qn={key:0,class:"sort-order"},Yn=["onMousedown"],Jn=(e,t)=>{const o=e.__vccOpts||e;for(const[n,l]of t)o[n]=l;return o},Xn=Jn(t.defineComponent({__name:"DataGridHeader",props:{columns:{},gridTemplateColumns:{},gridId:{},isGridReady:{type:Boolean},isProcessing:{type:Boolean},showHiddenColumnsPanel:{type:Boolean},enableHideColumn:{type:Boolean},enableAutoFit:{type:Boolean}},emits:["sort","resize","hideColumn","autoFitColumn","showFilter"],setup(e,{emit:o}){const l=e,r=o,a=Sn(l.gridId)(),i=t.ref(null),s=t.ref(0),c=t.ref(0),u=t.computed(()=>{const e=new Map;return a.sortColumns.forEach((t,o)=>{e.set(t.columnName,{direction:t.direction,order:o+1,isPrimary:0===o})}),e});function d(e){return u.value.get(e)??null}function p(e,t){if(console.log("[DataGridHeader] 🟢 Header CLICKED:",{columnName:t.name,specialType:t.specialType,isSortable:t.isSortable,shiftKey:e.shiftKey,button:e.button}),"Checkbox"!==t.specialType){if(t.isSortable&&e.shiftKey)return console.log("[DataGridHeader] 🔄 Sortable + Shift - calling handleSort"),void function(e,t=!1){if(!e.isSortable)return;const o=d(e.name);if(o){const n="asc"===o.direction?"desc":"asc";a.addSort(e.name,n,t)}else a.addSort(e.name,"asc",t);const n=d(e.name);n&&r("sort",e.name,n.direction)}(t,!0);console.log("[DataGridHeader] 📋 Calling showHeaderContextMenu"),h(e,t)}else console.log("[DataGridHeader] ❌ Checkbox column - ignoring click")}function f(){a.toggleAllCheckboxes()}function g(e){if(!i.value)return;const t=e.clientX-s.value,o=Math.max(i.value.minWidth,Math.min(i.value.maxWidth,c.value+t));r("resize",i.value.name,o)}function m(){i.value=null,window.removeEventListener("mousemove",g),window.removeEventListener("mouseup",m)}function h(e,t){if(console.log("[DataGridHeader] 🔵 Context menu requested for column:",t.name),console.log("[DataGridHeader] Column props:",{specialType:t.specialType,name:t.name,header:t.header,isSortable:t.isSortable,isFilterable:t.isFilterable}),console.log("[DataGridHeader] showHiddenColumnsPanel prop:",l.showHiddenColumnsPanel),console.log("[DataGridHeader] isGridReady:",l.isGridReady,", isProcessing:",l.isProcessing),!1===l.isGridReady)return void console.error("[showHeaderContextMenu] ❌ Grid not ready yet");if(!a)return void console.error("[showHeaderContextMenu] ❌ Store not initialized yet");if(l.isProcessing)return void console.error("[showHeaderContextMenu] ❌ Grid is currently processing data");console.log("[DataGridHeader] ✅ All checks passed, building menu items...");const o=[...a.sortColumns],i=a.filterExpression,s=[];if(t.isSortable){const e=d(t.name),n=o.length>0;s.push({label:"Sort Ascending",icon:"▲",onClick:()=>{a.addSort(t.name,"asc",!1),r("sort",t.name,"asc")}},{label:"Sort Descending",icon:"▼",onClick:()=>{a.addSort(t.name,"desc",!1),r("sort",t.name,"desc")}}),n&&s.push({divided:!0},{label:"Add to Sort (Asc)",icon:"▲+",onClick:()=>{a.addSort(t.name,"asc",!0)}},{label:"Add to Sort (Desc)",icon:"▼+",onClick:()=>{a.addSort(t.name,"desc",!0)}}),e&&s.push({divided:!0},{label:`Remove from Sort (Order ${e.order})`,icon:"✖",onClick:()=>{const e=o.filter(e=>e.columnName!==t.name);a.setSortColumns(e)}}),n&&s.push({label:"Clear All Sorts",icon:"🗑",onClick:()=>{a.clearSort()}}),s.push({divided:!0})}t.isFilterable&&(s.push({label:"Filter...",icon:"🔍",onClick:()=>r("showFilter",t.name)}),null!==i&&s.push({label:"Clear All Filters",icon:"🗑",onClick:()=>{a.clearFilter()}}),s.push({divided:!0})),console.log("[DataGridHeader] Checking column management options, specialType:",t.specialType),t.specialType||!1===l.enableAutoFit?t.specialType||console.log("[DataGridHeader] ❌ NOT adding Auto-fit Column option (enableAutoFit is false)"):(console.log("[DataGridHeader] ✅ Adding Auto-fit Column option (enableAutoFit !== false)"),s.push({label:"Auto-fit Column",icon:"↔️",onClick:()=>{console.log("[DataGridHeader] ↔️ Auto-fit Column clicked for:",t.name),console.log("[DataGridHeader] 🚀 Emitting autoFitColumn event"),r("autoFitColumn",t.name)}})),t.specialType||!1===l.enableHideColumn?t.specialType||console.log("[DataGridHeader] ❌ NOT adding Hide Column option (enableHideColumn is false)"):(console.log("[DataGridHeader] ✅ Adding Hide Column option (enableHideColumn !== false)"),s.push({label:"Hide Column",icon:"👁️",onClick:()=>{console.log("[DataGridHeader] 👁️ Hide Column clicked for:",t.name),console.log("[DataGridHeader] 🚀 Emitting hideColumn event"),r("hideColumn",t.name)}})),console.log("[DataGridHeader] 📋 Total menu items:",s.length),console.log("[DataGridHeader] Menu items labels:",s.map(e=>e.label||"---divider---")),n.showContextMenu({x:e.x,y:e.y,items:s})}return(o,n)=>(t.openBlock(),t.createElementBlock("div",{class:"grid-header",style:t.normalizeStyle({gridTemplateColumns:e.gridTemplateColumns})},[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(e.columns,e=>(t.openBlock(),t.createElementBlock("div",{key:e.name,class:t.normalizeClass(["header-cell",{"header-cell--auto-width":e.autoWidth}]),onClick:t=>p(t,e),onContextmenu:t.withModifiers(t=>h(t,e),["prevent"])},["Checkbox"===e.specialType?(t.openBlock(),t.createElementBlock("div",{key:0,class:t.normalizeClass(["custom-checkbox",{"checkbox-none":"none"===t.unref(a).checkboxState,"checkbox-some":"some"===t.unref(a).checkboxState,"checkbox-all":"all"===t.unref(a).checkboxState}]),onClick:t.withModifiers(f,["stop"]),title:"Toggle all checkboxes"},["all"===t.unref(a).checkboxState?(t.openBlock(),t.createElementBlock("span",jn,"✓")):"some"===t.unref(a).checkboxState?(t.openBlock(),t.createElementBlock("span",Wn,"−")):t.createCommentVNode("",!0)],2)):(t.openBlock(),t.createElementBlock("span",Kn,t.toDisplayString(e.header),1)),e.isSortable&&d(e.name)?(t.openBlock(),t.createElementBlock("span",{key:2,class:t.normalizeClass(["sort-icon",d(e.name)?.isPrimary?"sort-icon--primary":"sort-icon--secondary"])},[t.createTextVNode(t.toDisplayString("asc"===d(e.name)?.direction?"▲":"▼")+" ",1),d(e.name)?.order&&d(e.name).order>1?(t.openBlock(),t.createElementBlock("span",qn,t.toDisplayString(d(e.name)?.order),1)):t.createCommentVNode("",!0)],2)):t.createCommentVNode("",!0),t.createElementVNode("div",{class:"resize-grip",onMousedown:t.withModifiers(t=>function(e,t){i.value=e,s.value=t.clientX,c.value=e.width,window.addEventListener("mousemove",g),window.addEventListener("mouseup",m)}(e,t),["stop"])},null,40,Yn)],42,zn))),128))],4))}}),[["__scopeId","data-v-e0d96a4e"]]),Zn=["innerHTML"],Qn=Jn(t.defineComponent({__name:"DataGridCell",props:{cell:{},column:{},isSelected:{type:Boolean},gridId:{}},emits:["editComplete","cellInput","copy","cut","paste","delete","insertAbove","insertBelow"],setup(e,{emit:o}){const l=e,r=o,a=Sn(l.gridId)(),i=t.inject("validation",null),s=i?.validateCellThrottled||(()=>{}),c=i?.validationErrors||{},u=t.ref(),d=t.ref(),p=t.ref(!1),f=t.ref(l.cell.value),g=t.ref(null),m=t.ref(!1),h=t.ref(null),v=t.ref(!1),w=t.computed(()=>null==l.cell.value?"":String(l.cell.value)),y=t.computed(()=>w.value.includes("\n")),b=t.computed(()=>{const e=w.value,t=a.searchQuery;if(!t||!e)return _(e);try{const o=t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),n=new RegExp(`(${o})`,"gi");return _(e).replace(n,'<mark class="search-highlight">$1</mark>')}catch(o){return _(e)}});function _(e){const t=document.createElement("div");return t.textContent=e,t.innerHTML}const C=t.computed(()=>(c[l.cell.rowId]||[]).find(e=>e.columnName===l.cell.columnName)),E=t.computed(()=>({"cell--selected":l.isSelected,"cell--editing":p.value,"cell--validation-error":"Error"===C.value?.severity||"Critical"===C.value?.severity,"cell--validation-warning":"Warning"===C.value?.severity||"Info"===C.value?.severity,"cell--readonly":l.column.isReadOnly,"cell--auto-height":a.isAutoRowHeightEnabled,"cell--has-newlines":y.value&&!a.isAutoRowHeightEnabled})),k=t.computed(()=>({}));function S(e){if(0!==e.button)return;const t=e.ctrlKey;console.log("[DataGridCell] MouseDown:",{rowId:l.cell.rowId,columnName:l.cell.columnName,isEditing:p.value}),a.selectCell(l.cell.rowId,l.cell.columnName,t)}function I(e){if(m.value=!0,u.value){const e=u.value.getBoundingClientRect();h.value={left:e.left,top:e.top-4}}if(e.ctrlKey||a.wasCtrlPressed)return;const t=1===e.buttons;if(a.pressedCell&&!a.isDragging&&t){if(l.cell.rowId===a.pressedCell.rowId&&l.cell.columnName===a.pressedCell.columnName)return;a.startDragSelection(l.cell.rowId,l.cell.columnName)}else a.isDragging&&t&&a.expandDragSelection(l.cell.rowId,l.cell.columnName)}function R(){m.value=!1,h.value=null}function T(e){p.value||!l.isSelected||"Enter"!==e.key||l.column.isReadOnly||(e.preventDefault(),N())}async function N(){l.column.isReadOnly||(console.log("[DataGridCell] enterEditMode:",{rowId:l.cell.rowId,columnName:l.cell.columnName,currentCellValue:l.cell.value,storingAsOriginal:l.cell.value}),g.value=l.cell.value,p.value=!0,f.value=l.cell.value,await t.nextTick(),d.value?.focus(),d.value?.select())}async function V(){console.log("[DataGridCell] handleDoubleClick:",{rowId:l.cell.rowId,columnName:l.cell.columnName,currentValue:l.cell.value}),N()}function A(){const e=a.rows.find(e=>e.rowId===l.cell.rowId);if(e)return e.cells.map(e=>({columnName:e.columnName,value:e.value}))}function O(){if(console.log("[DataGridCell] handleInput:",{rowId:l.cell.rowId,columnName:l.cell.columnName,newValue:f.value,autoValidate:a.config.autoValidate}),a.config.autoValidate&&a.config.enableValidation){const e=A();s(l.cell.rowId,l.cell.columnName,f.value,e)}r("cellInput",l.cell.rowId,l.cell.columnName,f.value)}function x(e){if(console.log("[DataGridCell] handleKeyDown:",{rowId:l.cell.rowId,columnName:l.cell.columnName,key:e.key,shift:e.shiftKey,ctrl:e.ctrlKey}),"Escape"===e.key)return e.preventDefault(),e.stopPropagation(),void D();if("Enter"===e.key&&!e.shiftKey)return e.preventDefault(),e.stopPropagation(),void function(){if(console.log("[DataGridCell] confirmEdit:",{rowId:l.cell.rowId,columnName:l.cell.columnName,confirmedValue:f.value,originalWas:g.value}),v.value=!0,a.config.autoValidate&&a.config.enableValidation){const e=A();s(l.cell.rowId,l.cell.columnName,f.value,e)}r("editComplete",l.cell.rowId,l.cell.columnName,f.value),p.value=!1,g.value=null,t.nextTick(()=>{try{console.log(`[DataGridCell] confirmEdit - Attempting to restore focus to cell: rowId=${l.cell.rowId}, column=${l.cell.columnName}`),u.value?(u.value.focus(),console.log("[DataGridCell] confirmEdit - Focus restored successfully")):console.log("[DataGridCell] confirmEdit - WARNING: cellRef.value is null/undefined")}catch(e){console.log(`[DataGridCell] confirmEdit - ERROR restoring focus: ${e}`)}}),setTimeout(()=>{v.value=!1},100)}();if("Tab"===e.key){e.preventDefault();const o=e.target,n=o.selectionStart,l=o.selectionEnd;f.value=f.value.substring(0,n)+"\t"+f.value.substring(l),t.nextTick(()=>{o.selectionStart=o.selectionEnd=n+1})}}function D(){if(console.log("[DataGridCell] cancelEdit:",{rowId:l.cell.rowId,columnName:l.cell.columnName,originalValue:g.value,currentEditValue:f.value}),f.value=g.value,p.value=!1,r("editComplete",l.cell.rowId,l.cell.columnName,g.value),a.config.autoValidate&&a.config.enableValidation){const e=A();s(l.cell.rowId,l.cell.columnName,g.value,e)}g.value=null,t.nextTick(()=>{try{console.log(`[DataGridCell] cancelEdit - Attempting to restore focus to cell: rowId=${l.cell.rowId}, column=${l.cell.columnName}`),u.value?(u.value.focus(),console.log("[DataGridCell] cancelEdit - Focus restored successfully")):console.log("[DataGridCell] cancelEdit - WARNING: cellRef.value is null/undefined")}catch(e){console.log(`[DataGridCell] cancelEdit - ERROR restoring focus: ${e}`)}})}function B(){console.log("[DataGridCell] handleBlur:",{rowId:l.cell.rowId,columnName:l.cell.columnName,isEditing:p.value,isConfirming:v.value}),p.value&&!v.value&&D()}function P(e){if(!e.ctrlKey)return;e.preventDefault();const t=new Map;a.selectedCells.forEach(e=>{const[o]=e.split(":"),n=a.rows.find(e=>e.rowId===o);n&&t.set(o,n.rowIndex)});const o=t.size,i=Array.from(t.values()),s=i.length>0?Math.min(...i):0,c=i.length>0?Math.max(...i):0,u=a.rows.find(e=>e.rowIndex===s),d=a.rows.find(e=>e.rowIndex===c);n.showContextMenu({x:e.x,y:e.y,items:[{label:"Copy",icon:"📋",onClick:()=>r("copy"),disabled:!l.isSelected},{label:"Cut",icon:"✂️",onClick:()=>r("cut"),disabled:!l.isSelected||l.column.isReadOnly},{label:"Paste",icon:"📄",onClick:()=>r("paste"),disabled:l.column.isReadOnly},{divided:!0},{label:"Delete",icon:"🗑️",onClick:()=>r("delete"),disabled:!l.isSelected||l.column.isReadOnly},{divided:!0},{label:`Insert ${o} row(s) above`,icon:"⬆️",onClick:()=>r("insertAbove",u?.rowId||l.cell.rowId,o||1),disabled:l.column.isReadOnly},{label:`Insert ${o} row(s) below`,icon:"⬇️",onClick:()=>r("insertBelow",d?.rowId||l.cell.rowId,o||1),disabled:l.column.isReadOnly}]})}return(o,n)=>(t.openBlock(),t.createElementBlock("div",{ref_key:"cellRef",ref:u,class:t.normalizeClass(["grid-cell",E.value]),style:t.normalizeStyle(k.value),onMousedown:S,onMouseenter:I,onMouseleave:R,onDblclick:V,onKeydown:T,onContextmenu:P,tabindex:"0"},[p.value?t.withDirectives((t.openBlock(),t.createElementBlock("textarea",{key:1,ref_key:"inputRef",ref:d,"onUpdate:modelValue":n[0]||(n[0]=e=>f.value=e),class:"cell-input",onInput:O,onBlur:B,onKeydown:x},null,544)),[[t.vModelText,f.value]]):(t.openBlock(),t.createElementBlock("div",{key:0,class:"cell-text",innerHTML:b.value},null,8,Zn)),(t.openBlock(),t.createBlock(t.Teleport,{to:"body"},[C.value&&(m.value||e.isSelected)&&h.value?(t.openBlock(),t.createElementBlock("div",{key:0,class:t.normalizeClass(["validation-tooltip",{"validation-tooltip--error":"Error"===C.value.severity||"Critical"===C.value.severity,"validation-tooltip--warning":"Warning"===C.value.severity||"Info"===C.value.severity}]),style:t.normalizeStyle({position:"fixed",left:h.value.left+"px",top:h.value.top+"px"})},t.toDisplayString(C.value.message),7)):t.createCommentVNode("",!0)]))],38))}}),[["__scopeId","data-v-46101a22"]]),el={key:0,class:"row-number"},tl=["checked"],ol=["title"],nl={class:"validation-message"},ll=["disabled"],rl=Jn(t.defineComponent({__name:"SpecialColumnCell",props:{specialType:{},rowId:{},rowIndex:{},column:{},isChecked:{type:Boolean}},emits:["checkboxChange","deleteRow","insertRow"],setup(e,{emit:o}){const n=e,l=o;t.watch(()=>n.isChecked,(e,t)=>{"Checkbox"===n.specialType&&console.log("[SpecialColumnCell] isChecked prop changed:",{rowId:n.rowId,newVal:e,oldVal:t})},{immediate:!0});const r=t.inject("validation",null),a=r?.validationErrors||{},i=t.ref(!1),s=t.ref(0),c=t.computed(()=>n.rowIndex+1),u=t.computed(()=>a[n.rowId]||[]),d=t.computed(()=>u.value.some(e=>"Error"===e.severity||"Critical"===e.severity)),p=t.computed(()=>u.value.some(e=>"Warning"===e.severity)),f=t.computed(()=>{const e=u.value;return 0===e.length?"":e.map(e=>`${e.columnName}: ${e.message}`).join("; ")}),g=t.computed(()=>({"special-cell--row-number":"RowNumber"===n.specialType,"special-cell--checkbox":"Checkbox"===n.specialType,"special-cell--validation":"ValidationAlerts"===n.specialType,"special-cell--delete":"DeleteRow"===n.specialType,"special-cell--insert":"InsertRow"===n.specialType})),m=t.computed(()=>({}));function h(e){const t=e.target;console.log("[SpecialColumnCell] Checkbox change:",{rowId:n.rowId,checked:t.checked,currentProp:n.isChecked}),l("checkboxChange",n.rowId,t.checked)}function v(){const e=Date.now();e-s.value<300||(s.value=e,confirm("Are you sure you want to delete this row?")&&(i.value=!0,l("deleteRow",n.rowId),setTimeout(()=>{i.value=!1},1e3)))}function w(){l("insertRow",n.rowId)}return(o,n)=>(t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass(["special-cell",g.value]),style:t.normalizeStyle(m.value),onMousedown:n[0]||(n[0]=t.withModifiers(()=>{},["stop"])),onMouseenter:n[1]||(n[1]=t.withModifiers(()=>{},["stop"]))},["RowNumber"===e.specialType?(t.openBlock(),t.createElementBlock("span",el,t.toDisplayString(c.value),1)):"Checkbox"===e.specialType?(t.openBlock(),t.createElementBlock("input",{key:1,type:"checkbox",class:"checkbox-input",checked:e.isChecked,onChange:h},null,40,tl)):"ValidationAlerts"===e.specialType?(t.openBlock(),t.createElementBlock("div",{key:2,class:t.normalizeClass(["validation-alerts",{"has-errors":d.value||p.value}]),title:f.value},[t.createElementVNode("span",nl,t.toDisplayString(f.value),1)],10,ol)):"DeleteRow"===e.specialType?(t.openBlock(),t.createElementBlock("button",{key:3,class:"delete-button",disabled:i.value,onClick:v,title:"Delete row"}," 🗑️ ",8,ll)):"InsertRow"===e.specialType?(t.openBlock(),t.createElementBlock("button",{key:4,class:"insert-button",onClick:w,title:"Insert new row"}," ➕ ")):t.createCommentVNode("",!0)],38))}}),[["__scopeId","data-v-771c0d4c"]]),al=Jn(t.defineComponent({__name:"DataGridRow",props:{row:{},columns:{},gridTemplateColumns:{},gridId:{}},emits:["cellEditComplete","cellInput","checkboxChange","deleteRow","insertRow","insertAbove","insertBelow"],setup(e,{emit:o}){const n=e,l=o,r=Sn(n.gridId)(),a=t.computed(()=>{const e=r.isRowChecked(n.row.rowId);return console.log("[DataGridRow] Row checked state:",{rowId:n.row.rowId,checked:e}),e});function i(e){const t=n.row.cells.find(t=>t.columnName===e);return t||{rowId:n.row.rowId,columnName:e,value:null,isSelected:!1,isValidationError:!1}}function s(e,t,o){l("cellEditComplete",e,t,o)}function c(e,t,o){l("cellInput",e,t,o)}function u(e,t){l("checkboxChange",e,t)}function d(e){l("deleteRow",e)}function p(e){l("insertRow",e)}function f(e,t){l("insertAbove",e,t)}function g(e,t){l("insertBelow",e,t)}return(o,n)=>(t.openBlock(),t.createElementBlock("div",{class:"grid-row",style:t.normalizeStyle({height:e.row.height+"px",gridTemplateColumns:e.gridTemplateColumns})},[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(e.columns,o=>(t.openBlock(),t.createElementBlock(t.Fragment,{key:`${e.row.rowId}:${o.name}`},[o.specialType?(t.openBlock(),t.createBlock(rl,{key:0,"special-type":o.specialType,"row-id":e.row.rowId,"row-index":e.row.rowIndex,column:o,"is-checked":"Checkbox"===o.specialType?a.value:void 0,onCheckboxChange:u,onDeleteRow:d,onInsertRow:p},null,8,["special-type","row-id","row-index","column","is-checked"])):(t.openBlock(),t.createBlock(Qn,{key:1,cell:i(o.name),column:o,"is-selected":t.unref(r).isCellSelected(e.row.rowId,o.name),"grid-id":e.gridId,onEditComplete:s,onCellInput:c,onInsertAbove:f,onInsertBelow:g},null,8,["cell","column","is-selected","grid-id"]))],64))),128))],4))}}),[["__scopeId","data-v-fc3d676a"]]),il=Jn(t.defineComponent({inheritAttrs:!1,__name:"LazyRow",props:{row:{},columns:{},gridTemplateColumns:{},minTableWidth:{},gridId:{}},setup(e){const o=e,n=t.ref(null),l=t.inject("intersectionObserver"),r=t.inject("rowVisibility"),a=t.computed(()=>{if(o.row.cells.every(e=>null===e.value||void 0===e.value||""===e.value))return!0;if(!r||!r.value)return console.warn("[LazyRow] rowVisibility not available, rendering by default for row:",o.row.rowId),!0;return r.value.get(o.row.rowId)??!0});return t.onMounted(()=>{l&&l.value&&n.value&&(n.value.dataset.rowId=o.row.rowId,l.value.observe(n.value))}),t.onUnmounted(()=>{l&&l.value&&n.value&&(l.value.unobserve(n.value),r&&r.value&&r.value.delete(o.row.rowId))}),(o,l)=>(t.openBlock(),t.createElementBlock("div",{ref_key:"placeholderRef",ref:n,class:"lazy-row-placeholder",style:t.normalizeStyle({height:e.row.height+"px"})},[a.value?(t.openBlock(),t.createBlock(al,t.mergeProps({key:0,row:e.row,columns:e.columns,"grid-template-columns":e.gridTemplateColumns,"min-table-width":e.minTableWidth,"grid-id":e.gridId},o.$attrs),null,16,["row","columns","grid-template-columns","min-table-width","grid-id"])):t.createCommentVNode("",!0)],4))}}),[["__scopeId","data-v-bf787141"]]),sl={class:"pagination"},cl=["disabled"],ul=["disabled"],dl={class:"page-numbers"},pl=["onClick"],fl=["disabled"],gl=["disabled"],ml={class:"page-info"},hl=["value"],vl=["value"],wl=Jn(t.defineComponent({__name:"PaginationControl",props:{currentPage:{},pageSize:{},totalRows:{},pageSizeOptions:{default:()=>[50,100,200,500]}},emits:["pageChange","pageSizeChange"],setup(e,{emit:o}){const n=e,l=o,r=t.computed(()=>{const e=[...n.pageSizeOptions];return e.includes(n.pageSize)||e.push(n.pageSize),e.sort((e,t)=>e-t)}),a=t.computed(()=>Math.ceil(n.totalRows/n.pageSize)),i=t.computed(()=>{const e=a.value,t=n.currentPage;if(e<=20){const t=[];for(let o=1;o<=e;o++)t.push(o);return t}const o=Math.ceil(e/20),l=new Set;l.add(1),l.add(e),l.add(t),t>1&&l.add(t-1),t<e&&l.add(t+1);for(let n=1;n<=e;n+=o)l.add(n);return Array.from(l).sort((e,t)=>e-t)});function s(e){const t=e.target;l("pageSizeChange",Number(t.value))}return(o,n)=>(t.openBlock(),t.createElementBlock("div",sl,[t.createElementVNode("button",{onClick:n[0]||(n[0]=e=>l("pageChange",1)),disabled:1===e.currentPage}," First ",8,cl),t.createElementVNode("button",{onClick:n[1]||(n[1]=t=>l("pageChange",e.currentPage-1)),disabled:1===e.currentPage}," Previous ",8,ul),t.createElementVNode("div",dl,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(i.value,o=>(t.openBlock(),t.createElementBlock("button",{key:o,class:t.normalizeClass({"page-number":!0,active:o===e.currentPage}),onClick:e=>l("pageChange",o)},t.toDisplayString(o),11,pl))),128))]),t.createElementVNode("button",{onClick:n[2]||(n[2]=t=>l("pageChange",e.currentPage+1)),disabled:e.currentPage===a.value}," Next ",8,fl),t.createElementVNode("button",{onClick:n[3]||(n[3]=e=>l("pageChange",a.value)),disabled:e.currentPage===a.value}," Last ",8,gl),t.createElementVNode("span",ml," ("+t.toDisplayString(e.totalRows)+" rows) ",1),t.createElementVNode("select",{value:e.pageSize,onChange:s},[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(r.value,e=>(t.openBlock(),t.createElementBlock("option",{key:e,value:e},t.toDisplayString(e),9,vl))),128))],40,hl)]))}}),[["__scopeId","data-v-8f2dff14"]]),yl={class:"filter-header"},bl={class:"filter-title"},_l={class:"filter-mode"},Cl={key:0,class:"filter-content"},El={class:"filter-values"},kl=["onUpdate:modelValue"],Sl={class:"value-text"},Il={key:0,class:"no-values"},Rl={key:1,class:"filter-content"},Tl={class:"regex-label"},Nl=Jn(t.defineComponent({__name:"FilterFlyout",props:{visible:{type:Boolean},columnName:{},position:{},uniqueValues:{},currentMode:{},currentPattern:{}},emits:["close","applyCheckbox","applyRegex","clearFilter"],setup(e,{emit:o}){const n=e,l=o,r=t.ref(n.currentMode||"checkbox"),a=t.ref(""),i=t.ref(n.currentPattern||""),s=t.ref([]);t.watch(()=>n.uniqueValues,e=>{s.value=e.map(e=>({...e}))},{immediate:!0,deep:!0}),t.watch(()=>n.currentPattern,e=>{e&&(i.value=e)},{immediate:!0});const c=t.computed(()=>{if(!a.value)return s.value;const e=a.value.toLowerCase();return s.value.filter(t=>t.value.toLowerCase().includes(e))}),u=e=>e.count>0?`${e.value} (${e.count})`:e.value;function d(){c.value.forEach(e=>{e.isSelected=!0})}function p(){c.value.forEach(e=>{e.isSelected=!1})}function f(){if("checkbox"===r.value){const e=s.value.filter(e=>e.isSelected).map(e=>e.value);l("applyCheckbox",e)}else l("applyRegex",i.value);m()}function g(){l("clearFilter"),m()}function m(){l("close")}return(o,n)=>(t.openBlock(),t.createBlock(t.Teleport,{to:"body"},[e.visible?(t.openBlock(),t.createElementBlock("div",{key:0,class:"filter-flyout-overlay",onClick:t.withModifiers(m,["self"])},[t.createElementVNode("div",{class:"filter-flyout",style:t.normalizeStyle({top:e.position.y+"px",left:e.position.x+"px"})},[t.createElementVNode("div",yl,[t.createElementVNode("h3",bl,"Filter: "+t.toDisplayString(e.columnName),1),t.createElementVNode("button",{class:"close-button",onClick:m},"✕")]),t.createElementVNode("div",_l,[t.createElementVNode("label",null,[t.withDirectives(t.createElementVNode("input",{type:"radio",value:"checkbox","onUpdate:modelValue":n[0]||(n[0]=e=>r.value=e),name:"filterMode"},null,512),[[t.vModelRadio,r.value]]),n[4]||(n[4]=t.createElementVNode("span",null,"Checkbox",-1))]),t.createElementVNode("label",null,[t.withDirectives(t.createElementVNode("input",{type:"radio",value:"regex","onUpdate:modelValue":n[1]||(n[1]=e=>r.value=e),name:"filterMode"},null,512),[[t.vModelRadio,r.value]]),n[5]||(n[5]=t.createElementVNode("span",null,"Regex",-1))])]),"checkbox"===r.value?(t.openBlock(),t.createElementBlock("div",Cl,[t.withDirectives(t.createElementVNode("input",{"onUpdate:modelValue":n[2]||(n[2]=e=>a.value=e),type:"text",class:"filter-search",placeholder:"Search values..."},null,512),[[t.vModelText,a.value]]),t.createElementVNode("div",{class:"filter-actions"},[t.createElementVNode("button",{class:"action-button",onClick:d},"Select All"),t.createElementVNode("button",{class:"action-button",onClick:p},"Deselect All")]),t.createElementVNode("div",El,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(c.value,e=>(t.openBlock(),t.createElementBlock("label",{key:e.value,class:t.normalizeClass(["value-item",{"value-item--selected":e.isSelected}])},[t.withDirectives(t.createElementVNode("input",{type:"checkbox","onUpdate:modelValue":t=>e.isSelected=t,class:"value-checkbox"},null,8,kl),[[t.vModelCheckbox,e.isSelected]]),t.createElementVNode("span",Sl,t.toDisplayString(e.displayText||u(e)),1)],2))),128)),0===c.value.length?(t.openBlock(),t.createElementBlock("div",Il," No values found ")):t.createCommentVNode("",!0)])])):(t.openBlock(),t.createElementBlock("div",Rl,[t.createElementVNode("label",Tl,[n[6]||(n[6]=t.createElementVNode("span",null,"Regex Pattern:",-1)),t.withDirectives(t.createElementVNode("input",{"onUpdate:modelValue":n[3]||(n[3]=e=>i.value=e),type:"text",class:"regex-input",placeholder:"^test.*|.*example$"},null,512),[[t.vModelText,i.value]])]),n[7]||(n[7]=t.createElementVNode("div",{class:"regex-help"},[t.createElementVNode("details",null,[t.createElementVNode("summary",null,"Regex Examples"),t.createElementVNode("ul",null,[t.createElementVNode("li",null,[t.createElementVNode("code",null,"^test"),t.createTextVNode(' - Starts with "test"')]),t.createElementVNode("li",null,[t.createElementVNode("code",null,"example$"),t.createTextVNode(' - Ends with "example"')]),t.createElementVNode("li",null,[t.createElementVNode("code",null,"^test.*example$"),t.createTextVNode(' - Starts with "test" and ends with "example"')]),t.createElementVNode("li",null,[t.createElementVNode("code",null,"test|example"),t.createTextVNode(' - Contains "test" OR "example"')]),t.createElementVNode("li",null,[t.createElementVNode("code",null,"\\d{3}"),t.createTextVNode(" - Contains exactly 3 digits")])])])],-1))])),t.createElementVNode("div",{class:"filter-footer"},[t.createElementVNode("button",{class:"footer-button footer-button--apply",onClick:f}," Apply Filter "),t.createElementVNode("button",{class:"footer-button footer-button--clear",onClick:g}," Clear Filter "),t.createElementVNode("button",{class:"footer-button footer-button--cancel",onClick:m}," Cancel ")])],4)])):t.createCommentVNode("",!0)]))}}),[["__scopeId","data-v-4fbdbd14"]]),Vl={key:0,class:"processing-overlay"},Al={class:"processing-content"},Ol={class:"processing-text"},xl={key:0,class:"progress-container"},Dl={class:"progress-bar-wrapper"},Bl={class:"progress-text"},Pl={key:1,class:"loading-overlay"},Hl={class:"loading-content"},$l={class:"loading-text"},Ll={key:0,class:"progress-container"},Ml={class:"progress-bar-wrapper"},Fl={class:"progress-text"},Ul={class:"grid-toolbar"},Gl={class:"toolbar-section"},zl=["title"],jl={key:2,class:"hidden-columns-panel"},Wl=["onClick","title"],Kl={class:"grid-container"},ql={class:"table-content"},Yl=Jn(t.defineComponent({__name:"DataGrid",props:{config:{},columns:{},gridId:{},theme:{},minTableWidth:{},width:{},height:{},autoRowHeightEnabled:{type:Boolean},minRows:{},showHiddenColumnsPanel:{type:Boolean},enableHideColumn:{type:Boolean,default:!0},enableAutoFit:{type:Boolean,default:!0}},setup(e,{expose:n}){const l=e,r=l.gridId||`grid-${Math.random().toString(36).substr(2,9)}`,a=function(e="App"){return{debug(t,o){$n("DEBUG",e,t,o)},info(t,o){$n("INFO",e,t,o)},warn(t,o){$n("WARN",e,t,o)},error(t,o){$n("ERROR",e,t,o)},fatal(t,o){$n("FATAL",e,t,o)},flush(){for(;Bn.value.length>0;)Mn(Bn.value.shift());Ln()},getQueueSize:()=>Bn.value.length}}(`DataGrid[${r}]`);a.info("⚙️ Component initializing",{gridId:r,hasConfig:!!l.config,hasColumns:!!l.columns,columnCount:l.columns?.length||0}),console.log("[DataGrid] Creating store with ID:",r);const i=Sn(r);let s;console.log("[DataGrid] Store factory created:",typeof i,i);try{s=i(),console.log("[DataGrid] Store instance created:",s),a.debug("📦 Store created",{instanceId:r})}catch(_e){throw console.error("[DataGrid] FAILED to create store:",_e),a.error("❌ Store creation failed",{instanceId:r,error:_e}),_e}void 0!==l.autoRowHeightEnabled&&(s.setAutoRowHeightEnabled(l.autoRowHeightEnabled),a.info(`🔧 AutoRowHeight initialized to: ${l.autoRowHeightEnabled}`)),void 0!==l.minRows&&(s.setMinRows(l.minRows),a.info(`🔧 MinRows initialized to: ${l.minRows}`));const c=In();t.provide("validation",c);const u=t.ref(new Map),d=t.ref(null);try{t.provide("intersectionObserver",d),t.provide("rowVisibility",u),a.debug("✅ Observer refs created and provided successfully")}catch(_e){throw a.error("❌ Failed to initialize observer:",_e),console.error("[DataGrid] Setup error:",_e),_e}const p=Rn(),{filterRows:f,evaluateFilter:g}=_n(),m=t.ref(!1),h=t.ref(!1),v=t.ref(!1),w=t.ref({isValidating:!1,current:0,total:0,percentage:0});let y=!1;const b=t.ref(800),_=t.computed(()=>{const e=Math.max(32,Math.floor(.7*b.value));return console.log(`[AutoRowHeight] Computed maxHeight: ${e}px (container: ${b.value}px)`),e}),C=Nn({minHeight:32,maxHeight:_.value,fontFamily:"system-ui, -apple-system, sans-serif",fontSize:14,enableWrapping:!0,padding:16});t.watch(_,async e=>{console.log(`[AutoRowHeight] maxHeight changed to: ${e}px`),C.updateMaxHeight(e),s.isAutoRowHeightEnabled&&s.rows.length>0&&(console.log("[AutoRowHeight] maxHeight changed - recalculating all row heights..."),await ge())});const E=()=>{if(!R.value)return void console.log("[AutoRowHeight] Cannot measure: scrollerRef is null");const e=R.value.clientHeight;e>0?(b.value=e,console.log(`[AutoRowHeight] Container height measured: ${e}px`)):console.log("[AutoRowHeight] Container height is 0, keeping default")};t.onMounted(async()=>{if(a.info("========== ✅ Component mounted - START initialization ==========",{gridId:l.gridId,autoRowHeight:s.isAutoRowHeightEnabled,rowCount:s.rows.length,columnCount:s.columns.length}),document.addEventListener("mouseup",P),document.addEventListener("keydown",D),a.debug("🎯 Event listeners registered (mouseup, keydown)"),l.columns&&l.columns.length>0&&0===s.rows.length){a.info("🔧 Auto-initializing empty rows from provided columns",{columnCount:l.columns.length});try{s.setColumns(l.columns),s.initializeEmptyRows(),a.info(`✅ Auto-initialized ${s.rows.length} empty rows`)}catch(_e){a.error("❌ Failed to set columns:",_e),alert(`Column configuration error: ${_e instanceof Error?_e.message:"Unknown error"}`)}}if(async function(){a.debug("🔌 Checking backend connection...");try{k.value=await Fn.healthCheck(),k.value?a.info("✅ Backend connected"):a.warn("⚠️ Backend disconnected")}catch(_e){a.error("❌ Backend connection check failed",{error:_e?.message||_e?.toString()||"Unknown error",stack:_e?.stack}),k.value=!1}}(),await t.nextTick(),a.debug("⏰ DOM ready after nextTick"),E(),s.isAutoRowHeightEnabled&&s.rows.length>0){a.info("📏 AutoRowHeight enabled - applying heights..."),await t.nextTick();try{await ge(),a.info("✅ AutoRowHeight applied successfully on mount")}catch(_e){a.error("❌ AutoRowHeight ERROR on mount:",_e)}}else a.debug(`⏭️ Skipping AutoRowHeight: enabled=${s.isAutoRowHeightEnabled}, rowCount=${s.rows.length}`);if(await t.nextTick(),R.value?(d.value=new IntersectionObserver(e=>{e.forEach(e=>{const t=e.target.dataset.rowId;t&&u.value.set(t,e.isIntersecting)})},{root:R.value,rootMargin:"100px",threshold:0}),a.info("👁️ IntersectionObserver created with root: .scroller for instance:",r)):a.error("❌ scrollerRef not available for IntersectionObserver!"),window.addEventListener("resize",E),a.debug("🎯 Resize listener registered"),R.value){const e=e=>{if(!R.value)return;if(Math.abs(e.deltaY)>Math.abs(e.deltaX)){const t=R.value.scrollHeight-R.value.clientHeight,o=R.value.scrollTop;(e.deltaY<0&&o<=0||e.deltaY>0&&o>=t)&&e.preventDefault()}};R.value.addEventListener("wheel",e,{passive:!1}),a.debug("🎯 Wheel event handler registered on .scroller"),window.__dataGridScrollCleanup=window.__dataGridScrollCleanup||[],window.__dataGridScrollCleanup.push(()=>{R.value?.removeEventListener("wheel",e)})}await t.nextTick(),m.value=!0,a.info("========== ✅ Grid marked as READY for user interaction =========="),await t.nextTick();const e=document.querySelector(".table-content"),o=document.querySelector(".table-inner"),n=document.querySelector(".grid-header"),i=R.value,c=document.querySelector(".grid-row");if(console.group("🔍 HORIZONTAL SCROLL DIAGNOSTIC"),console.log("📊 .table-content:",{offsetWidth:e?.offsetWidth,scrollWidth:e?.scrollWidth,"overflow-x (CSS)":"auto","overflow-x (computed)":e?getComputedStyle(e).overflowX:null,hasHorizontalScroll:(e?.scrollWidth||0)>(e?.offsetWidth||0)}),console.log("📊 .table-inner (NOVÝ WRAPPER):",{offsetWidth:o?.offsetWidth,scrollWidth:o?.scrollWidth,minWidth:o?.style.minWidth,"width (CSS)":"fit-content","width (computed)":o?getComputedStyle(o).width:null}),console.log("📊 .grid-header:",{offsetWidth:n?.offsetWidth,scrollWidth:n?.scrollWidth,gridTemplateColumns:n?.style.gridTemplateColumns,"minWidth removed":"✅"}),console.log("📊 .scroller:",{offsetWidth:i?.offsetWidth,scrollWidth:i?.scrollWidth,"overflow-x (CSS)":"hidden","overflow-x (computed)":i?getComputedStyle(i).overflowX:null,"overflow-y (computed)":i?getComputedStyle(i).overflowY:null,hasHorizontalScroll:(i?.scrollWidth||0)>(i?.offsetWidth||0)}),console.log("📊 .grid-row (first):",{offsetWidth:c?.offsetWidth,scrollWidth:c?.scrollWidth,gridTemplateColumns:c?.style.gridTemplateColumns,"minWidth removed":"✅"}),console.log("🎯 COLUMN GROUPING CHECK:"),console.log("  .table-inner width === .grid-header width?",o?.offsetWidth===n?.offsetWidth?"✅":"❌",`(${o?.offsetWidth} vs ${n?.offsetWidth})`),console.log("  .table-inner width === .scroller width?",o?.offsetWidth===i?.offsetWidth?"✅":"❌",`(${o?.offsetWidth} vs ${i?.offsetWidth})`),console.log("  Header width === Row width?",n?.offsetWidth===c?.offsetWidth?"✅":"❌",`(${n?.offsetWidth} vs ${c?.offsetWidth})`),console.log("  Scroller has horizontal scroll?",(i?.scrollWidth||0)>(i?.offsetWidth||0)?"❌ PROBLÉM!":"✅ OK"),console.log("⚠️ CSS SPEC VIOLATION CHECK:"),i){const e=getComputedStyle(i),t=e.overflowX,o=e.overflowY;console.log(`  overflow-x: ${t}, overflow-y: ${o}`),"auto"===t&&"auto"===o?(console.log('  ❌ PROBLÉM: overflow-x konvertované z "visible" na "auto"!'),console.log("  → Toto vytvára DRUHÝ horizontal scrollbar!")):"hidden"===t&&"auto"===o&&(console.log('  ✅ OK: overflow-x je "hidden", overflow-y je "auto"'),console.log("  → Žiadny vnútorný horizontal scroll v .scroller!"))}if(console.groupEnd(),e&&i){let t=0;const o=()=>{const o=e.scrollLeft,l=o-t;t=o;const r=n?.getBoundingClientRect().left||0,a=c?.getBoundingClientRect().left||0,i=Math.abs(r-a);console.log("🔄 .table-content scroll:",{scrollLeft:o,scrollDelta:l,headerOffsetLeft:r,rowOffsetLeft:a,misalignment:i.toFixed(2)+"px",status:i<1?"✅ ALIGNED":"❌ MISALIGNED"})},l=()=>{0!==i.scrollLeft&&console.warn("⚠️ .scroller horizontal scroll DETECTED:",{scrollLeft:i.scrollLeft,message:"This should NOT happen! Rows should not scroll horizontally inside .scroller",solution:"Check if .scroller has overflow-x: hidden (not visible or auto)"})};e.addEventListener("scroll",o,{passive:!0}),i.addEventListener("scroll",l,{passive:!0}),console.log("🎯 Scroll event listeners registered for debugging"),window.__dataGridScrollCleanup=window.__dataGridScrollCleanup||[],window.__dataGridScrollCleanup.push(()=>{e?.removeEventListener("scroll",o),i?.removeEventListener("scroll",l)})}}),t.watch(()=>l.columns,e=>{s&&e&&0!==e.length&&(a.info("[DataGrid] props.columns changed, syncing to store",{columnCount:e.length}),e.forEach(e=>{s.columns.find(t=>t.name===e.name)?s.updateColumn(e.name,{header:e.header,dataType:e.dataType}):s.addColumn(e)}))},{deep:!0,immediate:!0}),t.onBeforeUnmount(()=>{window.removeEventListener("resize",E),document.removeEventListener("mouseup",P),document.removeEventListener("keydown",D),window.__dataGridScrollCleanup&&(window.__dataGridScrollCleanup.forEach(e=>e()),window.__dataGridScrollCleanup=[]),a.info("🧹 Cleanup: All event listeners removed")});const k=t.ref(!1),S=t.ref(!1);t.ref(!1);const I=t.ref({isLoading:!1,operation:"",progress:0,total:0,percentage:0}),R=t.ref(),T=async()=>{if(console.log("[DataGrid] handleCopy called, selectedCells:",s.selectedCells.size),0===s.selectedCells.size)return void console.warn("[DataGrid] No cells selected for copy");const e=await p.copySelectedCells(s.selectedCells,s.rows,x.value);e.success?console.log("[DataGrid] Copy successful:",e.message):console.error("[DataGrid] Copy failed:",e.message)},N=async()=>{const e=await p.pasteFromClipboard();if(e.success&&e.rows&&e.rows.length>0){const t=Array.from(s.selectedCells);let o=s.rows.length;if(t.length>0){const e=t[0].split(":")[0],n=s.rows.findIndex(t=>t.rowId===e);n>=0&&(o=n)}e.rows.forEach((e,t)=>{if(o+t<s.rows.length){const n=s.rows[o+t];Object.keys(e).forEach(t=>{x.value.some(e=>e.name===t)&&s.updateCell(n.rowId,t,e[t])})}else{const t=s.rows[s.rows.length-1]?.rowId;if(t){s.insertRow(t);const o=s.rows[s.rows.length-1];Object.keys(e).forEach(t=>{x.value.some(e=>e.name===t)&&s.updateCell(o.rowId,t,e[t])})}}}),console.log(e.message)}else console.error(e.message)},V=async()=>{await T();Array.from(s.selectedCells).forEach(e=>{const[t,o]=e.split(":");x.value.find(e=>e.name===o)?.isReadOnly||s.updateCell(t,o,null)})},A=An({enabled:!0,context:Vn.Normal});A.registerShortcuts(function(e){const t=[];return e.onCopy&&t.push({name:"Copy",key:On("c"),handler:e.onCopy,description:"Copy selected cells",priority:100}),e.onPaste&&t.push({name:"Paste",key:On("v"),handler:e.onPaste,description:"Paste from clipboard",priority:100}),e.onCut&&t.push({name:"Cut",key:On("x"),handler:e.onCut,description:"Cut selected cells",priority:100}),e.onDelete&&t.push({name:"Delete",key:Dn("Delete"),handler:e.onDelete,description:"Delete selected cells",priority:100}),e.onSelectAll&&t.push({name:"SelectAll",key:On("a"),handler:e.onSelectAll,description:"Select all cells",priority:100}),e.onFind&&t.push({name:"Find",key:On("f"),handler:e.onFind,description:"Open find dialog",priority:100}),e.onUndo&&t.push({name:"Undo",key:On("z"),handler:e.onUndo,description:"Undo last action",priority:100}),e.onRedo&&t.push({name:"Redo",key:xn("z"),handler:e.onRedo,description:"Redo last undone action",priority:100}),e.onEscape&&t.push({name:"Escape",key:Dn("Escape"),handler:e.onEscape,description:"Cancel current operation",priority:100}),e.onEnter&&t.push({name:"Enter",key:Dn("Enter"),handler:e.onEnter,description:"Confirm edit and move to next row",context:"editing",priority:100}),e.onTab&&t.push({name:"Tab",key:Dn("Tab"),handler:e.onTab,description:"Move to next cell",priority:100}),e.onArrowUp&&t.push({name:"ArrowUp",key:Dn("ArrowUp"),handler:e.onArrowUp,description:"Move selection up",priority:50}),e.onArrowDown&&t.push({name:"ArrowDown",key:Dn("ArrowDown"),handler:e.onArrowDown,description:"Move selection down",priority:50}),e.onArrowLeft&&t.push({name:"ArrowLeft",key:Dn("ArrowLeft"),handler:e.onArrowLeft,description:"Move selection left",priority:50}),e.onArrowRight&&t.push({name:"ArrowRight",key:Dn("ArrowRight"),handler:e.onArrowRight,description:"Move selection right",priority:50}),t}({onCopy:T,onPaste:N,onCut:V,onDelete:()=>{Array.from(s.selectedCells).forEach(e=>{const[t,o]=e.split(":");x.value.find(e=>e.name===o)?.isReadOnly||s.updateCell(t,o,null)})},onSelectAll:()=>{s.rows.forEach(e=>{x.value.forEach(t=>{t.specialType||s.selectCell(e.rowId,t.name,!0)})})},onFind:()=>console.log("Find not implemented yet")}));const O=t.computed(()=>s.visibleRows),x=t.computed(()=>s.columns.map(e=>e.specialType?e:{...e,minWidth:e.minWidth??50,maxWidth:e.maxWidth??200,isSortable:e.isSortable??!1,isFilterable:e.isFilterable??!1,visibleForGrid:e.visibleForGrid??!0}));function D(e){(e.ctrlKey||e.metaKey)&&("c"!==e.key&&"C"!==e.key||(e.preventDefault(),console.log("[DataGrid] Ctrl+C pressed - copying selected cells"),async function(){if(0===s.selectedCells.size)return void console.warn("[DataGrid] No cells selected for copy");console.log("[DataGrid] Copying selected cells:",{selectedCount:s.selectedCells.size,selectedCells:Array.from(s.selectedCells)});const e=await p.copySelectedCells(s.selectedCells,s.rows,M.value);e.success?console.log("[DataGrid] Copy successful:",e.message):console.error("[DataGrid] Copy failed:",e.message)}()),"v"!==e.key&&"V"!==e.key||(e.preventDefault(),console.log("[DataGrid] Ctrl+V pressed - pasting from clipboard"),async function(){const e=await p.pasteFromClipboard();if(e.success&&e.rows&&e.rows.length>0){console.log("[DataGrid] Paste successful:",{rowCount:e.rows.length,headers:e.headers});const o=M.value.filter(e=>!e.specialType);let n=0,l=0;if(s.selectedCells.size>0){const e=Array.from(s.selectedCells)[0],[t,r]=e.split(":"),a=s.rows.find(e=>e.rowId===t),i=o.findIndex(e=>e.name===r);a&&(n=a.rowIndex,l=-1!==i?i:0),console.log("[DataGrid] Pasting at position:",{targetRowIndex:n,targetColIndex:l,firstColName:r,isSpecialColumn:0===l&&-1===i,dataColumnsCount:o.length})}else console.log("[DataGrid] Pasting at position (no selection):",{targetRowIndex:n,targetColIndex:l,dataColumnsCount:o.length});if(e.rows.forEach((t,r)=>{const a=n+r;if(a>=s.rows.length)return void console.warn("[DataGrid] Paste row out of bounds:",{pasteRowIndex:a,maxRows:s.rows.length});const i=s.rows[a];e.headers?e.headers.forEach((e,n)=>{const r=l+n;if(r>=o.length)return void console.warn("[DataGrid] Paste column out of bounds:",{pasteColIndex:r,maxCols:o.length});const c=o[r],u=t[e]??null;s.updateCell(i.rowId,c.name,u),console.log("[DataGrid] Pasted cell:",{row:a,col:r,columnName:c.name,columnKey:e,value:u})}):console.warn("[DataGrid] No headers in paste result, skipping row")}),console.log("[DataGrid] Paste complete"),s.config.autoValidate&&s.config.enableValidation&&c){(c?.validationRules?.value?.size||0)>0&&(console.log("[DataGrid] Paste complete - triggering auto-validation..."),await t.nextTick(),await B(),console.log("[DataGrid] Paste validation complete"))}}else console.error("[DataGrid] Paste failed:",e.message)}()))}async function B(){if(v.value){y=!0;const e=async(e=5e3)=>{const o=Date.now();let n=0;for(;v.value&&Date.now()-o<e;)n++,await t.nextTick(),await new Promise(e=>setTimeout(e,100));if(v.value){console.error("═══════════════════════════════════════════════════"),console.error(`[waitForValidation] ❌ DEADLOCK DETECTED after ${Date.now()-o}ms`),console.error(`  Iterations: ${n}`),console.error("  isValidating was NEVER reset to false"),console.error("  This indicates validation hung or crashed without cleanup"),console.error("═══════════════════════════════════════════════════"),v.value=!1,console.error("[waitForValidation] Forced isValidating=false to break deadlock");try{window.chrome?.webview&&window.chrome.webview.postMessage(JSON.stringify({type:"error",source:"DataGrid.waitForValidation",error:"Validation deadlock detected - isValidating was never reset",iterations:n,elapsedMs:Date.now()-o,timestamp:(new Date).toISOString()}))}catch{}return!1}return!0};if(!(await e(5e3)))return void console.error("[validateAllCellsInBatches] ❌ WAIT FAILED - aborting")}v.value=!0,y=!1;try{if(console.info("═══════════════════════════════════════════════════"),console.info("🔍 VALIDATION START"),console.info(`   Rows: ${s?.rows?.length??0}, Columns: ${s?.columns?.length??0}`),console.info("═══════════════════════════════════════════════════"),!(s&&s.config&&s.rows&&c))return;if(!s.config.enableValidation)return;const o=new Set;for(const[e,t]of c.validationRules.value.entries())t.length>0&&o.add(e);if(0===o.size)return;const n=s.getCellsNeedingValidation(!0,o);if(0===n.length)return;w.value={isValidating:!0,current:0,total:n.length,percentage:0};const l=(e=n.length)<1e3?25:e<5e3?50:e<15e3?100:200;let r=0;for(let e=0;e<n.length;e+=l){if(y)return void console.log("[validateAllCellsInBatches] ⚠️ CANCELLED by user");const o=n.slice(e,e+l),a=(Math.floor(e/l),o.map(({rowId:e,columnName:t})=>{const o=s.getRow(e);if(!o||!o.cells)return console.warn("[validateAllCellsInBatches] ⚠️ Row not found or has no cells:",e),Promise.resolve();const n=o.cells.find(e=>e.columnName===t);if(!n)return console.warn("[validateAllCellsInBatches] ⚠️ Cell not found:",{rowId:e,columnName:t}),Promise.resolve();const l=o.cells.map(e=>({columnName:e.columnName,value:e.value}));return c.validateCellDirect(e,t,n.value,l,!0).then(()=>{s.markCellValidated(e,t),r++}).catch(o=>{console.error("[validateAllCellsInBatches] ❌ Validation error:",{rowId:e,columnName:t,err:o})})}));await Promise.all(a),w.value.current=r,w.value.percentage=Math.round(r/n.length*100),await t.nextTick()}c.updateErrorCount(),console.info("═══════════════════════════════════════════════════"),console.info(`✅ VALIDATION SUCCESS - ${r} cells validated`);const a=c?.validationErrors?.value?.length??0;console.info(`   Total errors: ${a}`),console.info("═══════════════════════════════════════════════════")}catch(_e){throw console.error("═══════════════════════════════════════════════════"),console.error("❌ VALIDATION ERROR:",_e),console.error("═══════════════════════════════════════════════════"),_e}finally{v.value=!1,w.value.isValidating=!1}var e}function P(){(s.isDragging||s.pressedCell)&&s.endDragSelection()}t.onBeforeMount(()=>{a.info("🔄 Component before mount")}),t.onBeforeUnmount(()=>{a.info("🔄 Component before unmount - starting cleanup"),d.value&&(console.log("[DataGrid] Disconnecting SharedIntersectionObserver..."),d.value.disconnect(),d.value=null),u.value.clear(),console.log("[DataGrid] SharedIntersectionObserver destroyed for instance:",r),c&&(console.log("[DataGrid] Clearing validation state..."),c.clearValidationErrors(),c.validationRules.value.clear()),console.log("[DataGrid] Clearing store data..."),s.clearAllData(),a.info("✅ Component cleanup complete")}),t.onUnmounted(()=>{a.info("🗑️ Component unmounted - final cleanup"),a.info("👋 Component cleanup complete")}),t.watch(()=>s.config.autoValidate,async(e,t)=>{e&&!t&&s.config.enableValidation&&await B()});const H=t.computed(()=>{const e=[],t=s.config;return t.showRowNumber&&e.push({name:"__rowNumber",header:"#",width:50,minWidth:40,maxWidth:80,isVisible:!0,isReadOnly:!0,isSortable:!1,isFilterable:!1,specialType:"RowNumber"}),t.showCheckbox&&e.push({name:"__checkbox",header:"☑",width:40,minWidth:40,maxWidth:40,isVisible:!0,isReadOnly:!0,isSortable:!1,isFilterable:!0,specialType:"Checkbox"}),e}),$=t.computed(()=>{const e=[];return s.config.showValidationAlerts&&e.push({name:"__validationAlerts",header:"⚠ Validation",width:150,minWidth:100,maxWidth:300,autoWidth:!1,isVisible:!0,isReadOnly:!0,isSortable:!1,isFilterable:!1,specialType:"ValidationAlerts"}),e}),L=t.computed(()=>{const e=[],t=s.config;return t.showInsertButton&&e.push({name:"__insertRow",header:"Insert",width:60,minWidth:50,maxWidth:80,isVisible:!0,isReadOnly:!0,isSortable:!1,isFilterable:!1,specialType:"InsertRow"}),t.showDeleteButton&&e.push({name:"__deleteRow",header:"Delete",width:60,minWidth:50,maxWidth:80,isVisible:!0,isReadOnly:!0,isSortable:!1,isFilterable:!1,specialType:"DeleteRow"}),e}),M=t.computed(()=>[...H.value,...x.value.filter(e=>!e.specialType&&e.isVisible&&!1!==e.visibleForGrid),...$.value,...L.value]),F=t.computed(()=>{const e=M.value.map(e=>e.autoWidth?"1fr":`${e.width}px`).join(" ");return console.log("[GridTemplate] All Columns:",M.value.map(e=>({name:e.name,header:e.header,width:e.width,autoWidth:e.autoWidth,specialType:e.specialType}))),console.log("[GridTemplate] Generated Template:",e),e});t.watch(F,e=>{console.log("[DataGrid] ✅ gridTemplateColumns CHANGED:",e)},{immediate:!1});const U=t.computed(()=>{const e=M.value.reduce((e,t)=>!1===t.visibleForGrid||t.autoWidth?e:e+t.width,0);return console.log("[GridTemplate] Min Table Width (fixed columns only):",e,"px"),e});function G(e,t){const o=s.columns.find(t=>t.name===e);o?o.isSortable?!1!==o.visibleForGrid?s.addSort(e,t,!1):console.warn(`[handleSort] Column '${e}' has visibleForGrid=false, sorting not allowed`):console.warn(`[handleSort] Column '${e}' is not sortable`):console.error(`[handleSort] Column not found: ${e}`)}function z(e,t){const o=s.columns.find(t=>t.name===e);o&&(o.width=t)}async function j(e,o,n){s.updateCell(e,o,n);const l=s.columns.find(e=>e.name===o);if(l){if(!1===l.visibleForGrid);else if(s.config.autoValidate&&s.config.enableValidation&&c){if(c.validationRules.value.has(o)&&c.validationRules.value.get(o).length>0){const t=s.rows.find(t=>t.rowId===e),l=t?.cells.map(e=>({columnName:e.columnName,value:e.value}));await c.validateCellThrottled(e,o,n,l)}else;}s.isAutoRowHeightEnabled?(await he(e),await t.nextTick()):await ve(e)}else console.warn("[DataGrid] handleCellEditComplete: Column not found:",o)}async function W(e,o,n){s.updateCell(e,o,n),s.isAutoRowHeightEnabled?(await he(e),await t.nextTick()):null!=n&&String(n).includes("\n")&&await ve(e)}function K(e,t){s.toggleCheckbox(e,t)}function q(e){s.deleteRow(e)}function Y(e){s.insertRow(e)}function J(e,t){s.insertMultipleRows(e,t,"above")}function X(e,t){s.insertMultipleRows(e,t,"below")}t.watch(()=>l.config,e=>{e&&s.setConfig(e)},{immediate:!0,deep:!0}),t.watch(()=>l.columns,e=>{if(console.log("[DataGrid] Columns watch triggered:",{hasColumns:e?.length,rowsLength:s.rows.length,willInitialize:e&&e.length>0&&0===s.rows.length}),e&&e.length>0)try{s.setColumns(e),console.log("[DataGrid] After setColumns, rowsLength:",s.rows.length),0===s.rows.length?(console.log("[DataGrid] Calling initializeEmptyRows..."),s.initializeEmptyRows(),console.log("[DataGrid] After initializeEmptyRows, rowsLength:",s.rows.length)):console.log("[DataGrid] SKIPPED initializeEmptyRows - rows already exist!")}catch(_e){console.error("[DataGrid] Failed to set columns:",_e),alert(`Column configuration error: ${_e instanceof Error?_e.message:"Unknown error"}`)}},{immediate:!0,deep:!0}),t.watch(()=>c?.ruleCount?.value??0,async(e,o)=>{const n=c?.validationRules?.value?.size||0;if(s&&s.rows){if(0!==n&&0!==s.rows.length&&s.config.autoValidate){s.clearValidationTracking();try{await t.nextTick(),await t.nextTick(),await B()}catch(_e){console.error("[WATCHER] VALIDATION RULES CHANGED - FAILED"),console.error(`  Error: ${_e}`),v.value=!1,console.error("[WATCHER] Forced isValidating=false after error"),alert(`Auto-validation failed: ${_e instanceof Error?_e.message:String(_e)}`);try{window.chrome?.webview&&window.chrome.webview.postMessage(JSON.stringify({type:"error",source:"DataGrid.ruleCount.watcher",error:_e instanceof Error?_e.message:String(_e),stack:_e instanceof Error?_e.stack:void 0,timestamp:(new Date).toISOString()}))}catch{}}}}else console.warn("[WATCHER] Store not initialized yet, skipping validation")}),t.watch(()=>c?.errorCount?.value??0,async(e,o)=>{const n=c?.validationErrors;s.rows.forEach(e=>{const t=n&&n[e.rowId]?n[e.rowId].length:0;e.validationErrorCount=t}),n&&0!==e&&(await t.nextTick(),s.isAutoRowHeightEnabled?await ge():await me())});const Z=t.computed(()=>x.value.filter(e=>!e.isVisible&&!e.specialType&&!1!==e.visibleForGrid));function Q(e){console.log("[DataGrid] ✅ handleHideColumn CALLED with:",e);const t=s.columns.find(t=>t.name===e);console.log("[DataGrid] Found column:",t?{name:t.name,specialType:t.specialType,isVisible:t.isVisible}:"NOT FOUND"),t&&!t.specialType?(s.updateColumn(e,{isVisible:!1}),console.log(`[DataGrid] ✅ Hidden column: ${e}`)):console.warn(`[DataGrid] ❌ Cannot hide column: ${e} (specialType: ${t?.specialType})`)}function ee(){s.columns.forEach(e=>{e.specialType||s.updateColumn(e.name,{isVisible:!0})}),console.log("Shown all columns")}function te(e){console.log("[DataGrid] ✅ handleAutoFitColumn CALLED with:",e);const t=s.columns.find(t=>t.name===e);if(!t)return void console.warn("[DataGrid] ❌ Column not found:",e);console.log("[DataGrid] Found column:",{name:t.name,currentWidth:t.width,minWidth:t.minWidth,maxWidth:t.maxWidth});const o=document.createElement("canvas").getContext("2d");if(!o)return void console.error("[DataGrid] ❌ Canvas context not available");o.font="14px system-ui, -apple-system, sans-serif";let n=0;const l=o.measureText(t.header).width;n=Math.max(n,l+40),console.log("[DataGrid] Header width:",l,"→ with padding:",l+40),s.rows.forEach(t=>{const l=t.cells.find(t=>t.columnName===e),r=l?.value,a=r?.toString()??"";if(a){const e=o.measureText(a).width;n=Math.max(n,e+24)}}),console.log("[DataGrid] Max measured width (with padding):",Math.ceil(n));const r=Math.max(t.minWidth,Math.min(t.maxWidth,Math.ceil(n)));console.log("[DataGrid] Calculated new width:",r,"(min:",t.minWidth,"max:",t.maxWidth,")"),s.updateColumn(e,{width:r}),console.log(`[DataGrid] ✅ Auto-fit column ${e}: ${r}px (measured: ${Math.ceil(n)}px)`)}const oe=t.ref({visible:!1,columnName:"",position:{x:0,y:0},uniqueValues:[],mode:"checkbox",pattern:""});function ne(e,t){if(null==e)return null;if("simple"===e.type){return e.columnName===t?null:e}const o=e;if(!o.left||!o.right)return console.error("[extractFiltersExceptColumn] Invalid composite filter - missing children:",o),null;const n=ne(o.left,t),l=ne(o.right,t);return n||l?n?l?{type:"composite",left:n,right:l,operator:o.operator}:n:l:null}function le(e,t){const o=new Set;if(null==e)return o;return function e(n){if("simple"===n.type){const e=n;e.columnName===t&&"Equals"===e.operator&&o.add(String(e.value))}else{const t=n;e(t.left),e(t.right)}}(e),o}function re(e){try{if(console.log(`[handleShowFilter] START for column: ${e}`),!m.value)return console.error("[handleShowFilter] Grid not ready yet"),void alert("Please wait for the grid to finish loading before opening filters.");if(h.value)return console.error("[handleShowFilter] Grid is currently processing data"),void alert("Please wait while data is being processed...");const t=x.value.find(t=>t.name===e);if(!t)return void console.error(`[handleShowFilter] Column not found: ${e}`);if(!t.isFilterable)return void console.warn(`[handleShowFilter] Column '${e}' is not filterable`);if(!1===t.visibleForGrid)return void console.warn(`[handleShowFilter] Column '${e}' has visibleForGrid=false, filtering not allowed`);if(!s||!s.rows||0===s.rows.length)return console.error("[handleShowFilter] Store not initialized or no data"),void alert("Please load data before opening filters.");const o=function(e){try{if(console.log(`[getUniqueValues] Starting for column: ${e}`),!s||!s.rows)return console.warn("[getUniqueValues] Store or rows not initialized yet, returning empty array"),[];if("__checkbox"===e){const t=ne(s.filterExpression,e);console.log(`[getUniqueValues] Checkbox - Has filters to apply: ${!!t}`);const o=s.rows;console.log(`[getUniqueValues] Checkbox - Total rows before filtering: ${o.length}`);const n=t?f(o,t,s):o;console.log(`[getUniqueValues] Checkbox - Total rows after filtering: ${n.length}`);const l=Math.min(3,n.length);for(let e=0;e<l;e++){const t=n[e].cells.find(e=>"__checkbox"===e.columnName);console.log(`[getUniqueValues] Checkbox - Row ${e}: cell=${!!t}, value=${t?.value}, type=${typeof t?.value}`)}const r=n.filter(e=>s.isRowChecked(e.rowId)).length,a=n.length-r,i=le(s.filterExpression,e);return console.log(`[getUniqueValues] Checkbox column: true=${r}, false=${a}, selected=${Array.from(i)}`),[{value:"true",isSelected:i.has("true"),count:r,displayText:`☑ Checked (${r})`},{value:"false",isSelected:i.has("false"),count:a,displayText:`☐ Unchecked (${a})`}]}const t=new Map,o=ne(s.filterExpression,e);console.log(`[getUniqueValues] Has filters to apply for '${e}': ${!!o}`);const n=s.rows,l=o?f(n,o,s):n;console.log(`[getUniqueValues] Column=${e}, AllRows=${n.length}, FilteredRows=${l.length}`),l.forEach(o=>{const n=o.cells.find(t=>t.columnName===e),l=n?.value?.toString()??"";t.set(l,(t.get(l)||0)+1)});const r=le(s.filterExpression,e);console.log(`[getUniqueValues] Column=${e}, UniqueValues=${t.size}, SelectedValues=${r.size}`);const a=Array.from(t.entries()).map(([e,t])=>{const o=""===e?"(Empty)":e;return{value:e,isSelected:r.has(e),count:t,displayText:`${o} (${t})`}}).sort((e,t)=>""===e.value&&""!==t.value?1:""!==e.value&&""===t.value?-1:e.value.localeCompare(t.value));return console.log(`[getUniqueValues] Returning ${a.length} unique values`),a}catch(_e){return console.error(`[getUniqueValues] ERROR for column '${e}':`,_e),console.error("[getUniqueValues] Filter expression at time of error:",s.filterExpression),console.error("[getUniqueValues] Stack trace:",_e instanceof Error?_e.stack:"No stack trace"),[]}}(e);console.log(`[handleShowFilter] Got ${o.length} unique values`);const n={x:window.innerWidth/2-200,y:window.innerHeight/2-300};oe.value={visible:!0,columnName:e,position:n,uniqueValues:o,mode:"checkbox",pattern:""},console.log("[handleShowFilter] Filter flyout opened successfully")}catch(_e){console.error(`[handleShowFilter] CRITICAL ERROR for column '${e}':`,_e),console.error("[handleShowFilter] Stack trace:",_e instanceof Error?_e.stack:"No stack trace"),alert(`Error opening filter for column '${e}': ${_e instanceof Error?_e.message:String(_e)}`)}}function ae(){oe.value.visible=!1}function ie(e){const t=new Map;return e&&function e(o,n){if("simple"===o.type){const e=o;return n&&t.set(e.columnName,o),e.columnName}{const l=o;if("AND"===l.operator)return e(l.left,!0),e(l.right,!0),null;{const r=e(l.left,!1),a=e(l.right,!1),i=r||a;return i&&n&&t.set(i,o),i}}}(e,!0),t}function se(e){const t=e.filter(e=>null!=e);if(0===t.length)return null;if(1===t.length)return t[0];let o=t[0];for(let n=1;n<t.length;n++)o={type:"composite",left:o,right:t[n],operator:"AND"};return o}function ce(e,t){const o=ie(s.filterExpression);o.set(t,e);return se(Array.from(o.values()))||e}function ue(e){const t=oe.value.columnName;if(0===e.length){const e=ie(s.filterExpression);if(e.delete(t),0===e.size)s.clearFilter();else{const t=se(Array.from(e.values()));s.setFilter(t)}}else{const o="__checkbox"===t?e.map(e=>"true"===e):e;let n;if(1===o.length)n={type:"simple",columnName:t,operator:"Equals",value:o[0]};else{n={type:"simple",columnName:t,operator:"Equals",value:o[0]};for(let e=1;e<o.length;e++)n={type:"composite",left:n,right:{type:"simple",columnName:t,operator:"Equals",value:o[e]},operator:"OR"}}const l=ce(n,t);s.setFilter(l)}console.log(`Applied checkbox filter to ${t}:`,e,"Final filter:",s.filterExpression)}function de(e){const t=oe.value.columnName;if(!e){const e=ie(s.filterExpression);if(e.delete(t),0===e.size)s.clearFilter();else{const t=se(Array.from(e.values()));s.setFilter(t)}return}const o=ce({type:"simple",columnName:t,operator:"Contains",value:e},t);s.setFilter(o),console.log(`Applied text contains filter to ${t}:`,e,"Final filter:",s.filterExpression)}function pe(){const e=oe.value.columnName,t=ie(s.filterExpression);if(t.delete(e),0===t.size)s.clearFilter();else{const e=se(Array.from(t.values()));s.setFilter(e)}console.log(`Cleared filter for ${e}`,"Final filter:",s.filterExpression)}async function fe(){try{console.log("[toggleAutoRowHeight] ========== FUNCTION CALLED =========="),console.log(`[toggleAutoRowHeight] Current state: ${s.isAutoRowHeightEnabled}`),console.log("[toggleAutoRowHeight] Rows BEFORE:",s.rows.slice(0,5).map(e=>({id:e.rowId,height:e.height})));const e=!s.isAutoRowHeightEnabled;console.log(`[toggleAutoRowHeight] New state will be: ${e}`),s.setAutoRowHeightEnabled(e),console.log("[toggleAutoRowHeight] Store updated"),e?(console.log("[toggleAutoRowHeight] Enabled - applying heights to all rows..."),await ge(),console.log("[toggleAutoRowHeight] Heights applied successfully")):(console.log("[toggleAutoRowHeight] Disabled - resetting all row heights..."),await me(),console.log("[toggleAutoRowHeight] Heights reset successfully")),console.log("[toggleAutoRowHeight] Rows AFTER:",s.rows.slice(0,5).map(e=>({id:e.rowId,height:e.height}))),console.log("[toggleAutoRowHeight] ========== FUNCTION COMPLETED ==========")}catch(_e){console.log(`[toggleAutoRowHeight] ❌ ERROR: ${_e}`),console.log(`[toggleAutoRowHeight] Error stack: ${_e instanceof Error?_e.stack:"N/A"}`)}}async function ge(){const e=M.value.filter(e=>!e.specialType||"ValidationAlerts"!==e.specialType).map(e=>({name:e.name,width:e.width,specialType:e.specialType}));console.log("[applyAutoRowHeightToAll] ========== START =========="),console.log("[applyAutoRowHeightToAll] AutoRowHeight is ON");const o=s.rows.map(e=>({rowId:e.rowId,heightBefore:e.height}));console.log("[applyAutoRowHeightToAll] BEFORE - All row heights:",o.slice(0,10)),console.log("[applyAutoRowHeightToAll] Measuring columns:",e.map(e=>`${e.name} (${e.width}px, special: ${e.specialType||"none"})`).join(", "));const n=await C.applyAutoRowHeight(s.rows,e),l=s.rows.map((e,t)=>({rowId:e.rowId,heightBefore:o[t].heightBefore,heightAfter:e.height,changed:o[t].heightBefore!==e.height}));console.log("[applyAutoRowHeightToAll] AFTER - All row heights (first 10):",l.slice(0,10)),console.log("[applyAutoRowHeightToAll] Changed rows:",l.filter(e=>e.changed).length),console.log(`[applyAutoRowHeightToAll] Summary: ${n.totalRowsUpdated} rows updated, average height: ${n.averageHeight.toFixed(1)}px`),await t.nextTick(),console.log("[applyAutoRowHeightToAll] First nextTick complete"),await t.nextTick(),console.log("[applyAutoRowHeightToAll] Second nextTick complete"),await t.nextTick(),console.log("[applyAutoRowHeightToAll] Third nextTick complete"),await new Promise(e=>setTimeout(e,50)),console.log("[applyAutoRowHeightToAll] Delay complete"),console.log("[applyAutoRowHeightToAll] ========== COMPLETE ==========")}async function me(){console.log("[resetAllRowHeights] START - AutoRowHeight is OFF, resetting heights based on newlines");let e=0,o=0;for(const t of s.rows){let n=1;for(const e of t.cells){if(null==e.value)continue;const t=String(e.value);if(t.includes("\n")){const e=t.split("\n").length;n=Math.max(n,e)}}if(n>1){const e=21,l=10;t.height=n*e+l,o++}else t.height=32;e++}console.log("[resetAllRowHeights] Summary:",{totalRows:e,rowsWithNewlines:o,rowsWithDefaultHeight:e-o,defaultHeight:32,note:"Rows with newlines have calculated height"}),console.log("[resetAllRowHeights] All row heights calculated based on content"),await t.nextTick(),console.log("[resetAllRowHeights] First nextTick complete"),await t.nextTick(),console.log("[resetAllRowHeights] Second nextTick complete"),await t.nextTick(),console.log("[resetAllRowHeights] Third nextTick complete"),await new Promise(e=>setTimeout(e,50)),console.log("[resetAllRowHeights] Delay complete"),console.log("[resetAllRowHeights] COMPLETE")}async function he(e){if(!s.isAutoRowHeightEnabled)return;const o=M.value.filter(e=>!e.specialType||"ValidationAlerts"!==e.specialType).map(e=>({name:e.name,width:e.width,specialType:e.specialType})),n=s.rows.find(t=>t.rowId===e);if(!n)return;C.recalculateRows(s.rows,[e],o)>0&&n&&(s.updateRowHeight(e,n.height),await t.nextTick())}async function ve(e){const o=s.rows.find(t=>t.rowId===e);if(!o)return;let n=1;for(const t of o.cells){if(null==t.value)continue;const e=String(t.value);if(e.includes("\n")){const t=e.split("\n").length;n=Math.max(n,t)}}const l=21*n+10;s.updateRowHeight(e,l),await t.nextTick()}const we=o.useDebounceFn(async function(){if(!h.value){S.value=!0,h.value=!0,I.value={isLoading:!0,operation:"Loading data from backend...",progress:0,total:0,percentage:0},console.info("═══════════════════════════════════════════════════"),console.info("📥 DATA LOADING START"),console.info("═══════════════════════════════════════════════════");try{const e=await Fn.getData();if(e.success&&e.data){I.value.operation="Processing data...",I.value.total=e.data.length;const o=e.data.map((e,t)=>({__rowId:e.RowId||`row-${Date.now()}-${t}`,__rowHeight:e.RowHeight||40,__checkbox:e.Checkbox,...e.Data}));if(I.value.progress=o.length,I.value.percentage=100,s.clearValidationTracking(),s.loadRows(o),I.value.operation="Data loaded successfully",console.info("═══════════════════════════════════════════════════"),console.info(`✅ DATA LOADING SUCCESS - ${o.length} rows loaded`),console.info("═══════════════════════════════════════════════════"),s.config.autoValidate&&s.config.enableValidation){(c?.validationRules?.value?.size||0)>0&&(await t.nextTick(),await t.nextTick(),await new Promise(e=>setTimeout(e,50)),await B())}}else console.error("═══════════════════════════════════════════════════"),console.error("❌ DATA LOADING ERROR:",e.error),console.error("═══════════════════════════════════════════════════"),alert(`Failed to load data: ${e.error}`)}catch(_e){console.error("═══════════════════════════════════════════════════"),console.error("💥 DATA LOADING FATAL EXCEPTION:",_e),console.error("═══════════════════════════════════════════════════"),alert(`Error loading data: ${_e instanceof Error?_e.message:"Unknown error"}`)}finally{S.value=!1,h.value=!1,I.value.isLoading=!1}}},1e3,{maxWait:2e3}),ye=t.computed(()=>({...Un,cellColors:{...Un.cellColors,...l.theme?.cellColors||{}},rowColors:{...Un.rowColors,...l.theme?.rowColors||{}},headerColors:{...Un.headerColors,...l.theme?.headerColors||{}},validationColors:{...Un.validationColors,...l.theme?.validationColors||{}},selectionColors:{...Un.selectionColors,...l.theme?.selectionColors||{}},borderColors:{...Un.borderColors,...l.theme?.borderColors||{}},specialColumnColors:{...Un.specialColumnColors,...l.theme?.specialColumnColors||{}},uiControlColors:{...Un.uiControlColors,...l.theme?.uiControlColors||{}}})),be=t.computed(()=>{var e;return{...{"--dg-cell-bg":(e=ye.value).cellColors.defaultBackground,"--dg-cell-fg":e.cellColors.defaultForeground,"--dg-cell-hover-bg":e.cellColors.hoverBackground,"--dg-cell-hover-fg":e.cellColors.hoverForeground,"--dg-cell-focused-bg":e.cellColors.focusedBackground,"--dg-cell-focused-fg":e.cellColors.focusedForeground,"--dg-cell-disabled-bg":e.cellColors.disabledBackground,"--dg-cell-disabled-fg":e.cellColors.disabledForeground,"--dg-cell-readonly-bg":e.cellColors.readOnlyBackground,"--dg-cell-readonly-fg":e.cellColors.readOnlyForeground,"--dg-row-even-bg":e.rowColors.evenRowBackground,"--dg-row-odd-bg":e.rowColors.oddRowBackground,"--dg-row-hover-bg":e.rowColors.hoverBackground,"--dg-row-selected-bg":e.rowColors.selectedBackground,"--dg-row-selected-fg":e.rowColors.selectedForeground,"--dg-row-selected-inactive-bg":e.rowColors.selectedInactiveBackground,"--dg-row-selected-inactive-fg":e.rowColors.selectedInactiveForeground,"--dg-header-bg":e.headerColors.background,"--dg-header-fg":e.headerColors.foreground,"--dg-header-hover-bg":e.headerColors.hoverBackground,"--dg-header-pressed-bg":e.headerColors.pressedBackground,"--dg-header-sort-indicator":e.headerColors.sortIndicatorColor,"--dg-validation-error-bg":e.validationColors.errorBackground,"--dg-validation-error-fg":e.validationColors.errorForeground,"--dg-validation-error-border":e.validationColors.errorBorder,"--dg-validation-warning-bg":e.validationColors.warningBackground,"--dg-validation-warning-fg":e.validationColors.warningForeground,"--dg-validation-warning-border":e.validationColors.warningBorder,"--dg-validation-info-bg":e.validationColors.infoBackground,"--dg-validation-info-fg":e.validationColors.infoForeground,"--dg-validation-info-border":e.validationColors.infoBorder,"--dg-selection-border":e.selectionColors.selectionBorder,"--dg-selection-fill":e.selectionColors.selectionFill,"--dg-multi-selection-bg":e.selectionColors.multiSelectionBackground,"--dg-multi-selection-fg":e.selectionColors.multiSelectionForeground,"--dg-border-cell":e.borderColors.cellBorder,"--dg-border-row":e.borderColors.rowBorder,"--dg-border-column":e.borderColors.columnBorder,"--dg-border-grid":e.borderColors.gridBorder,"--dg-border-focused-cell":e.borderColors.focusedCellBorder,"--dg-special-rownumber-bg":e.specialColumnColors.rowNumberBackground,"--dg-special-rownumber-fg":e.specialColumnColors.rowNumberForeground,"--dg-special-checkbox-border":e.specialColumnColors.checkboxBorder,"--dg-special-checkbox-bg":e.specialColumnColors.checkboxBackground,"--dg-special-checkbox-fg":e.specialColumnColors.checkboxForeground,"--dg-special-delete-bg":e.specialColumnColors.deleteRowBackground,"--dg-special-delete-fg":e.specialColumnColors.deleteRowForeground,"--dg-special-delete-hover-bg":e.specialColumnColors.deleteRowHoverBackground,"--dg-special-insert-bg":e.specialColumnColors.insertRowBackground,"--dg-special-insert-fg":e.specialColumnColors.insertRowForeground,"--dg-special-insert-border":e.specialColumnColors.insertRowBorder,"--dg-special-insert-hover-bg":e.specialColumnColors.insertRowHoverBackground,"--dg-special-insert-hover-fg":e.specialColumnColors.insertRowHoverForeground,"--dg-special-validation-error-bg":e.specialColumnColors.validationAlertsErrorBackground,"--dg-special-validation-error-fg":e.specialColumnColors.validationAlertsErrorForeground,"--dg-ui-resize-grip":e.uiControlColors.resizeGripColor,"--dg-ui-menu-bg":e.uiControlColors.menuBackground,"--dg-ui-menu-fg":e.uiControlColors.menuForeground,"--dg-ui-menu-hover-bg":e.uiControlColors.menuHoverBackground,"--dg-ui-dialog-bg":e.uiControlColors.dialogBackground,"--dg-ui-dialog-fg":e.uiControlColors.dialogForeground,"--dg-ui-dialog-border":e.uiControlColors.dialogBorder,"--dg-ui-placeholder":e.uiControlColors.placeholderColor,"--dg-ui-search-bg":e.uiControlColors.searchPanelBackground,"--dg-ui-search-fg":e.uiControlColors.searchPanelForeground,"--dg-ui-search-border":e.uiControlColors.searchPanelBorder,"--dg-ui-filter-bg":e.uiControlColors.filterRowBackground,"--dg-ui-filter-fg":e.uiControlColors.filterRowForeground,"--dg-ui-filter-border":e.uiControlColors.filterRowBorder,"--dg-ui-pagination-bg":e.uiControlColors.paginationBackground,"--dg-ui-pagination-fg":e.uiControlColors.paginationForeground,"--dg-ui-pagination-border":e.uiControlColors.paginationBorder,"--dg-ui-pagination-button-hover-bg":e.uiControlColors.paginationButtonHoverBackground},"--dg-min-table-width":`${U.value}px`,width:l.width||"100%",height:l.height||"800px"}});return n({loadDataFromBackend:we,validation:{...c,async validateRequired(){if(!s.config.enableValidation)return!0;const e=s.getCellsNeedingValidation();if(0===e.length)return s.areNonEmptyRowsValid();for(const{rowId:t,columnName:o}of e){const e=s.rows.find(e=>e.rowId===t);if(!e)continue;const n=e.cells.find(e=>e.columnName===o);n&&(await c.validateCell(t,o,n.value),s.markCellValidated(t,o))}return s.areNonEmptyRowsValid()},isAllValid:()=>s.areNonEmptyRowsValid(),async validateAll(e){if(!s.config.enableValidation)return{isValid:!0,totalErrors:0};const t=await c.validateAll(e||s.rows);s.clearValidationTracking();for(const o of s.rows)for(const e of o.cells)s.markCellValidated(e.rowId,e.columnName);return t}},copyPaste:p,shortcuts:A,handleCopy:T,handlePaste:N,handleCut:V,isGridReady:m,store:s,getColumns:()=>s.columns,setColumns:e=>{s.setColumns(e)}}),(o,n)=>(t.openBlock(),t.createElementBlock("div",{class:"data-grid",style:t.normalizeStyle(be.value)},[h.value?(t.openBlock(),t.createElementBlock("div",Vl,[t.createElementVNode("div",Al,[n[0]||(n[0]=t.createElementVNode("div",{class:"processing-spinner"},null,-1)),t.createElementVNode("div",Ol,"Processing "+t.toDisplayString(t.unref(s).rows.length)+" rows...",1),w.value.isValidating?(t.openBlock(),t.createElementBlock("div",xl,[t.createElementVNode("div",Dl,[t.createElementVNode("div",{class:"progress-bar",style:t.normalizeStyle({width:w.value.percentage+"%"})},null,4)]),t.createElementVNode("div",Bl,t.toDisplayString(w.value.current)+" / "+t.toDisplayString(w.value.total)+" cells validated ("+t.toDisplayString(w.value.percentage)+"%) ",1)])):t.createCommentVNode("",!0)])])):t.createCommentVNode("",!0),I.value.isLoading?(t.openBlock(),t.createElementBlock("div",Pl,[t.createElementVNode("div",Hl,[n[1]||(n[1]=t.createElementVNode("div",{class:"loading-spinner"},null,-1)),t.createElementVNode("div",$l,t.toDisplayString(I.value.operation),1),I.value.total>0?(t.openBlock(),t.createElementBlock("div",Ll,[t.createElementVNode("div",Ml,[t.createElementVNode("div",{class:"progress-bar",style:t.normalizeStyle({width:I.value.percentage+"%"})},null,4)]),t.createElementVNode("div",Fl,t.toDisplayString(I.value.progress)+" / "+t.toDisplayString(I.value.total)+" ("+t.toDisplayString(I.value.percentage)+"%) ",1)])):t.createCommentVNode("",!0)])])):t.createCommentVNode("",!0),t.createElementVNode("div",Ul,[t.createElementVNode("div",Gl,[t.createElementVNode("button",{class:t.normalizeClass(["toolbar-button",{"toolbar-button--active":t.unref(s).isAutoRowHeightEnabled}]),onClick:fe,title:t.unref(s).isAutoRowHeightEnabled?"Disable auto row height":"Enable auto row height"}," 📏 Auto Height "+t.toDisplayString(t.unref(s).isAutoRowHeightEnabled?"ON":"OFF"),11,zl)])]),!1!==e.enableHideColumn&&Z.value.length>0?(t.openBlock(),t.createElementBlock("div",jl,[n[2]||(n[2]=t.createElementVNode("span",{class:"hidden-columns-label"},"Hidden columns:",-1)),(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(Z.value,e=>(t.openBlock(),t.createElementBlock("button",{key:e.name,class:"show-column-button",onClick:t=>{return o=e.name,s.updateColumn(o,{isVisible:!0}),void console.log(`Shown column: ${o}`);var o},title:`Show column: ${e.header}`},t.toDisplayString(e.header),9,Wl))),128)),t.createElementVNode("button",{class:"show-all-button",onClick:ee,title:"Show all columns"}," Show All ")])):t.createCommentVNode("",!0),t.createElementVNode("div",Kl,[t.createElementVNode("div",ql,[t.createElementVNode("div",{class:"table-inner",style:t.normalizeStyle({minWidth:U.value?`${U.value}px`:void 0})},[t.createVNode(Xn,{columns:M.value,"grid-template-columns":F.value,"grid-id":t.unref(r),"is-grid-ready":m.value,"is-processing":h.value,"show-hidden-columns-panel":e.showHiddenColumnsPanel,"enable-hide-column":e.enableHideColumn,"enable-auto-fit":e.enableAutoFit,onSort:G,onResize:z,onHideColumn:Q,onAutoFitColumn:te,onShowFilter:re},null,8,["columns","grid-template-columns","grid-id","is-grid-ready","is-processing","show-hidden-columns-panel","enable-hide-column","enable-auto-fit"]),t.createElementVNode("div",{ref_key:"scrollerRef",ref:R,class:"scroller"},[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(O.value,e=>(t.openBlock(),t.createBlock(il,{key:e.rowId,row:e,columns:M.value,"grid-template-columns":F.value,"grid-id":t.unref(r),onCellEditComplete:j,onCellInput:W,onCheckboxChange:K,onDeleteRow:q,onInsertRow:Y,onInsertAbove:J,onInsertBelow:X},null,8,["row","columns","grid-template-columns","grid-id"]))),128))],512)],4)])]),t.createVNode(wl,{"page-size":t.unref(s).pageSize,"page-size-options":t.unref(s).config.pageSizeOptions,"total-rows":t.unref(s).totalRows,"current-page":t.unref(s).currentPage,onPageChange:t.unref(s).goToPage,onPageSizeChange:t.unref(s).setPageSize},null,8,["page-size","page-size-options","total-rows","current-page","onPageChange","onPageSizeChange"]),t.createVNode(Nl,{visible:oe.value.visible,"column-name":oe.value.columnName,position:oe.value.position,"unique-values":oe.value.uniqueValues,"current-mode":oe.value.mode,"current-pattern":oe.value.pattern,onClose:ae,onApplyCheckbox:ue,onApplyRegex:de,onClearFilter:pe},null,8,["visible","column-name","position","unique-values","current-mode","current-pattern"])],4))}}),[["__scopeId","data-v-08c244c5"]]),Jl={class:"listbox-container"},Xl={key:0,class:"listbox-header"},Zl={key:0,class:"listbox-title"},Ql=["disabled"],er=["onClick","onMouseenter"],tr=["checked","onClick"],or={class:"listbox-item-text"},nr=Jn(t.defineComponent({__name:"ListBox",props:{items:{},title:{default:""},multiSelect:{type:Boolean,default:!1},preSelected:{default:()=>[]},height:{default:200},width:{default:250},theme:{},showResetButton:{type:Boolean,default:!0}},emits:["selectionChange"],setup(e,{expose:o,emit:n}){const l=e,r=n,a=t.ref(new Set),i=t.ref(null);t.watch(()=>l.preSelected,e=>{a.value=new Set(e)},{immediate:!0});const s=t.computed(()=>({...Gn,itemColors:{...Gn.itemColors,...l.theme?.itemColors||{}},containerColors:{...Gn.containerColors,...l.theme?.containerColors||{}},checkboxColors:{...Gn.checkboxColors,...l.theme?.checkboxColors||{}},scrollbarColors:{...Gn.scrollbarColors,...l.theme?.scrollbarColors||{}}})),c=t.computed(()=>{return{"--lb-item-bg":(e=s.value).itemColors.defaultBackground,"--lb-item-fg":e.itemColors.defaultForeground,"--lb-item-hover-bg":e.itemColors.hoverBackground,"--lb-item-hover-fg":e.itemColors.hoverForeground,"--lb-item-selected-bg":e.itemColors.selectedBackground,"--lb-item-selected-fg":e.itemColors.selectedForeground,"--lb-item-selected-hover-bg":e.itemColors.selectedHoverBackground,"--lb-item-selected-hover-fg":e.itemColors.selectedHoverForeground,"--lb-item-disabled-bg":e.itemColors.disabledBackground,"--lb-item-disabled-fg":e.itemColors.disabledForeground,"--lb-container-bg":e.containerColors.background,"--lb-container-border":e.containerColors.border,"--lb-container-focused-border":e.containerColors.focusedBorder,"--lb-title-fg":e.containerColors.titleForeground,"--lb-checkbox-border":e.checkboxColors.border,"--lb-checkbox-bg":e.checkboxColors.background,"--lb-checkbox-checked-bg":e.checkboxColors.checkedBackground,"--lb-checkbox-checked-border":e.checkboxColors.checkedBorder,"--lb-checkbox-hover-border":e.checkboxColors.hoverBorder,"--lb-scrollbar-track-bg":e.scrollbarColors.trackBackground,"--lb-scrollbar-thumb-bg":e.scrollbarColors.thumbBackground,"--lb-scrollbar-thumb-hover-bg":e.scrollbarColors.thumbHoverBackground};var e}),u=t.computed(()=>({height:`${l.height}px`,width:`${l.width}px`,...c.value}));function d(e){return a.value.has(e)}function p(e){l.multiSelect?a.value.has(e.value)?a.value.delete(e.value):a.value.add(e.value):a.value.has(e.value)?a.value.delete(e.value):(a.value.clear(),a.value.add(e.value)),r("selectionChange",Array.from(a.value))}function f(){a.value.clear(),r("selectionChange",[])}return o({getSelectedValues:()=>Array.from(a.value),clearSelection:()=>{a.value.clear(),r("selectionChange",[])},selectValue:e=>{l.multiSelect||a.value.clear(),a.value.add(e),r("selectionChange",Array.from(a.value))}}),(o,n)=>(t.openBlock(),t.createElementBlock("div",Jl,[e.title||e.showResetButton?(t.openBlock(),t.createElementBlock("div",Xl,[e.title?(t.openBlock(),t.createElementBlock("div",Zl,t.toDisplayString(e.title),1)):t.createCommentVNode("",!0),e.showResetButton?(t.openBlock(),t.createElementBlock("button",{key:1,class:"listbox-reset-btn",onClick:f,disabled:0===a.value.size,title:"Clear selection"}," ✖ ",8,Ql)):t.createCommentVNode("",!0)])):t.createCommentVNode("",!0),t.createElementVNode("div",{class:t.normalizeClass(["listbox",{"listbox--multi":e.multiSelect}]),style:t.normalizeStyle(u.value)},[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(e.items,o=>(t.openBlock(),t.createElementBlock("div",{key:o.value,class:t.normalizeClass(["listbox-item",{"listbox-item--selected":d(o.value),"listbox-item--hover":i.value===o.value}]),onClick:e=>p(o),onMouseenter:e=>i.value=o.value,onMouseleave:n[0]||(n[0]=e=>i.value=null)},[e.multiSelect?(t.openBlock(),t.createElementBlock("input",{key:0,type:"checkbox",checked:d(o.value),class:"listbox-checkbox",onClick:t.withModifiers(e=>p(o),["stop"])},null,8,tr)):t.createCommentVNode("",!0),t.createElementVNode("span",or,t.toDisplayString(o.name),1)],42,er))),128))],6)]))}}),[["__scopeId","data-v-b649b4c6"]]),lr={class:"search-panel__header"},rr=["title"],ar={key:0,class:"search-panel__count"},ir={key:0,class:"search-panel__content"},sr={class:"search-panel__row"},cr=["disabled"],ur={class:"search-panel__options"},dr={class:"search-panel__checkbox"},pr={key:0,class:"search-panel__threshold"},fr={key:0,class:"search-panel__results"},gr={class:"search-panel__navigation"},mr=["disabled"],hr={class:"search-panel__nav-info"},vr=["disabled"],wr=Jn(t.defineComponent({__name:"SearchPanel",props:{visible:{type:Boolean},gridId:{}},setup(e){const o=Sn(e.gridId||"dataGrid")(),{searchInRows:n,goToNextResult:l,goToPreviousResult:r,currentResultIndex:a}=Cn(t.toRef(o,"rows")),i=t.ref(!1),s=t.ref(""),c=t.ref("Contains"),u=t.ref(!1),d=t.ref(3),p=function(e,t){let o=null;return function(...n){o&&clearTimeout(o),o=setTimeout(()=>{e(...n)},t)}}(()=>{s.value.trim()?(n(s.value,c.value,{caseSensitive:u.value,fuzzyThreshold:d.value}),o.setSearchQuery(s.value)):o.clearSearch()},300);function f(){p()}function g(){s.value="",o.clearSearch()}function m(){i.value=!i.value}return(e,n)=>(t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass(["search-panel",{"search-panel--collapsed":i.value}])},[t.createElementVNode("div",lr,[t.createElementVNode("button",{class:"search-panel__toggle",onClick:m,title:i.value?"Expand search":"Collapse search"},t.toDisplayString(i.value?"▶":"▼"),9,rr),n[6]||(n[6]=t.createElementVNode("span",{class:"search-panel__title"},"Search",-1)),t.unref(o).searchResults?.length>0?(t.openBlock(),t.createElementBlock("span",ar,t.toDisplayString(t.unref(o).searchResults.length)+" result(s) ",1)):t.createCommentVNode("",!0)]),i.value?t.createCommentVNode("",!0):(t.openBlock(),t.createElementBlock("div",ir,[t.createElementVNode("div",sr,[t.withDirectives(t.createElementVNode("input",{"onUpdate:modelValue":n[0]||(n[0]=e=>s.value=e),type:"text",class:"search-panel__input",placeholder:"Enter search query...",onInput:f},null,544),[[t.vModelText,s.value]]),t.withDirectives(t.createElementVNode("select",{"onUpdate:modelValue":n[1]||(n[1]=e=>c.value=e),class:"search-panel__mode-select",onChange:f},[...n[7]||(n[7]=[t.createStaticVNode('<option value="Exact" data-v-5c4e957c>Exact</option><option value="Contains" data-v-5c4e957c>Contains</option><option value="StartsWith" data-v-5c4e957c>Starts With</option><option value="EndsWith" data-v-5c4e957c>Ends With</option><option value="Regex" data-v-5c4e957c>Regex</option><option value="Fuzzy" data-v-5c4e957c>Fuzzy</option>',6)])],544),[[t.vModelSelect,c.value]]),t.createElementVNode("button",{class:"search-panel__clear-btn",onClick:g,disabled:!s.value,title:"Clear search"}," ✕ ",8,cr)]),t.createElementVNode("div",ur,[t.createElementVNode("label",dr,[t.withDirectives(t.createElementVNode("input",{"onUpdate:modelValue":n[2]||(n[2]=e=>u.value=e),type:"checkbox",onChange:f},null,544),[[t.vModelCheckbox,u.value]]),n[8]||(n[8]=t.createElementVNode("span",null,"Case sensitive",-1))]),"Fuzzy"===c.value?(t.openBlock(),t.createElementBlock("label",pr,[t.createElementVNode("span",null,"Threshold: "+t.toDisplayString(d.value),1),t.withDirectives(t.createElementVNode("input",{"onUpdate:modelValue":n[3]||(n[3]=e=>d.value=e),type:"range",min:"0",max:"10",step:"1",class:"search-panel__slider",onInput:f},null,544),[[t.vModelText,d.value,void 0,{number:!0}]])])):t.createCommentVNode("",!0)]),s.value&&t.unref(o).searchResults?.length>0?(t.openBlock(),t.createElementBlock("div",fr,[t.createElementVNode("div",gr,[t.createElementVNode("button",{class:"search-panel__nav-btn",onClick:n[4]||(n[4]=(...e)=>t.unref(r)&&t.unref(r)(...e)),disabled:t.unref(a)<=0,title:"Previous result"}," ↑ ",8,mr),t.createElementVNode("span",hr,t.toDisplayString(t.unref(a)+1)+" / "+t.toDisplayString(t.unref(o).searchResults.length),1),t.createElementVNode("button",{class:"search-panel__nav-btn",onClick:n[5]||(n[5]=(...e)=>t.unref(l)&&t.unref(l)(...e)),disabled:t.unref(a)>=t.unref(o).searchResults.length-1,title:"Next result"}," ↓ ",8,vr)])])):t.createCommentVNode("",!0)]))],2))}}),[["__scopeId","data-v-5c4e957c"]]),yr={class:"filter-row"},br={class:"filter-row__header"},_r=["title"],Cr={key:0,class:"filter-row__count"},Er={key:0,class:"filter-row__content"},kr={class:"filter-row__filters"},Sr=["onUpdate:modelValue"],Ir=["value"],Rr=["onUpdate:modelValue"],Tr=["onUpdate:modelValue"],Nr=["onUpdate:modelValue"],Vr=["onClick"],Ar={key:0,class:"filter-row__active"},Or={class:"filter-row__active-list"},xr={key:0},Dr=["onClick"],Br=Jn(t.defineComponent({__name:"FilterRow",props:{gridId:{}},setup(e){const o=Sn(e.gridId||"dataGrid")(),n=t.ref(!1),l=t.ref([{columnName:"",operator:"Contains",value:"",logicOperator:"AND"}]),r=t.computed(()=>o.columns.filter(e=>!e.specialType)),a=t.computed(()=>l.value.filter(e=>e.columnName&&(e.value||["IsEmpty","IsNotEmpty"].includes(e.operator)))),i=t.computed(()=>a.value.length);function s(){l.value.push({columnName:"",operator:"Contains",value:"",logicOperator:"AND"})}function c(e){l.value.splice(e,1),0===l.value.length&&s(),d()}function u(){l.value=[{columnName:"",operator:"Contains",value:"",logicOperator:"AND"}],o.clearFilter()}function d(){const e=a.value;if(0!==e.length)if(1===e.length){const t=e[0],n={type:"simple",columnName:t.columnName,operator:t.operator,value:t.value};o.setFilter(n)}else{let t={type:"simple",columnName:e[0].columnName,operator:e[0].operator,value:e[0].value};for(let o=1;o<e.length;o++){const n=e[o];t={type:"composite",operator:e[o-1].logicOperator,left:t,right:{type:"simple",columnName:n.columnName,operator:n.operator,value:n.value}}}o.setFilter(t)}else o.clearFilter()}function p(){n.value=!n.value}function f(e){const t=o.columns.find(t=>t.name===e);return t?.header||e}return(e,o)=>(t.openBlock(),t.createElementBlock("div",yr,[t.createElementVNode("div",br,[t.createElementVNode("button",{class:"filter-row__toggle",onClick:p,title:n.value?"Expand filters":"Collapse filters"},t.toDisplayString(n.value?"▶":"▼"),9,_r),o[0]||(o[0]=t.createElementVNode("span",{class:"filter-row__title"},"Filters",-1)),i.value>0?(t.openBlock(),t.createElementBlock("span",Cr,t.toDisplayString(i.value)+" active ",1)):t.createCommentVNode("",!0),i.value>0?(t.openBlock(),t.createElementBlock("button",{key:1,class:"filter-row__clear-all",onClick:u,title:"Clear all filters"}," Clear All ")):t.createCommentVNode("",!0)]),n.value?t.createCommentVNode("",!0):(t.openBlock(),t.createElementBlock("div",Er,[t.createElementVNode("div",kr,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(l.value,(e,n)=>(t.openBlock(),t.createElementBlock("div",{key:n,class:"filter-row__filter-item"},[t.withDirectives(t.createElementVNode("select",{"onUpdate:modelValue":t=>e.columnName=t,class:"filter-row__column-select",onChange:d},[o[1]||(o[1]=t.createElementVNode("option",{value:""},"Select column...",-1)),(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(r.value,(e,o)=>(t.openBlock(),t.createElementBlock("option",{key:`col-${o}`,value:e.name},t.toDisplayString(e.header),9,Ir))),128))],40,Sr),[[t.vModelSelect,e.columnName]]),t.withDirectives(t.createElementVNode("select",{"onUpdate:modelValue":t=>e.operator=t,class:"filter-row__operator-select",onChange:d},[...o[2]||(o[2]=[t.createStaticVNode('<option value="Equals" data-v-ef184647>Equals</option><option value="NotEquals" data-v-ef184647>Not Equals</option><option value="Contains" data-v-ef184647>Contains</option><option value="StartsWith" data-v-ef184647>Starts With</option><option value="EndsWith" data-v-ef184647>Ends With</option><option value="GreaterThan" data-v-ef184647>Greater Than</option><option value="LessThan" data-v-ef184647>Less Than</option><option value="GreaterThanOrEquals" data-v-ef184647>≥</option><option value="LessThanOrEquals" data-v-ef184647>≤</option><option value="IsEmpty" data-v-ef184647>Is Empty</option><option value="IsNotEmpty" data-v-ef184647>Is Not Empty</option>',11)])],40,Rr),[[t.vModelSelect,e.operator]]),["IsEmpty","IsNotEmpty"].includes(e.operator)?t.createCommentVNode("",!0):t.withDirectives((t.openBlock(),t.createElementBlock("input",{key:0,"onUpdate:modelValue":t=>e.value=t,type:"text",class:"filter-row__value-input",placeholder:"Filter value...",onInput:d},null,40,Tr)),[[t.vModelText,e.value]]),n<l.value.length-1?t.withDirectives((t.openBlock(),t.createElementBlock("select",{key:1,"onUpdate:modelValue":t=>e.logicOperator=t,class:"filter-row__logic-select",onChange:d},[...o[3]||(o[3]=[t.createElementVNode("option",{value:"AND"},"AND",-1),t.createElementVNode("option",{value:"OR"},"OR",-1)])],40,Nr)),[[t.vModelSelect,e.logicOperator]]):t.createCommentVNode("",!0),t.createElementVNode("button",{class:"filter-row__remove-btn",onClick:e=>c(n),title:"Remove filter"}," ✕ ",8,Vr)]))),128))]),t.createElementVNode("button",{class:"filter-row__add-btn",onClick:s}," + Add Filter "),i.value>0?(t.openBlock(),t.createElementBlock("div",Ar,[o[4]||(o[4]=t.createElementVNode("div",{class:"filter-row__active-title"},"Active filters:",-1)),t.createElementVNode("div",Or,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(a.value,(e,o)=>(t.openBlock(),t.createElementBlock("span",{key:o,class:"filter-row__active-chip"},[t.createTextVNode(t.toDisplayString(f(e.columnName))+" ",1),t.createElementVNode("strong",null,t.toDisplayString(e.operator),1),e.value?(t.openBlock(),t.createElementBlock("span",xr,'"'+t.toDisplayString(e.value)+'"',1)):t.createCommentVNode("",!0),t.createElementVNode("button",{class:"filter-row__chip-remove",onClick:t=>c(l.value.indexOf(e))}," ✕ ",8,Dr)]))),128))])])):t.createCommentVNode("",!0)]))]))}}),[["__scopeId","data-v-ef184647"]]);function Pr(e){e.component("DataGrid",Yl),e.component("ListBox",nr),e.component("SearchPanel",wr),e.component("FilterRow",Br)}const Hr={install:Pr};e.AdvancedTable=Yl,e.DataGrid=Yl,e.FilterRow=Br,e.ListBox=nr,e.SearchPanel=wr,e.createPinia=function(){const e=t.effectScope(!0),o=e.run(()=>t.ref({}));let n=[],l=[];const r=t.markRaw({install(e){Co(r),r._a=e,e.provide(ko,r),e.config.globalProperties.$pinia=r,"production"!==process.env.NODE_ENV&&"test"!==process.env.NODE_ENV&&bo&&en(e,r),l.forEach(e=>n.push(e)),l=[]},use(e){return this._a?n.push(e):l.push(e),this},_p:n,_a:null,_e:e,_s:new Map,state:o});return"production"!==process.env.NODE_ENV&&"test"!==process.env.NODE_ENV&&bo&&"undefined"!=typeof Proxy&&r.use(ln),r},e.default=Hr,e.getActivePinia=Eo,e.gridApi=Fn,e.install=Pr,e.setActivePinia=Co,e.useAutoRowHeight=Nn,e.useDataGridStore=Sn,e.useFiltering=_n,e.useSearch=Cn,e.useShortcuts=An,e.useValidation=In,Object.defineProperties(e,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
//# sourceMappingURL=rpa-web-ui.umd.js.map
