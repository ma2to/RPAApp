{"version":3,"file":"rpa-web-ui.umd.js","sources":["../node_modules/@vue/devtools-shared/dist/index.js","../node_modules/perfect-debounce/dist/index.mjs","../node_modules/hookable/dist/index.mjs","../node_modules/@vue/devtools-kit/dist/index.js","../node_modules/pinia/dist/pinia.mjs","../src/composables/useFiltering.ts","../src/composables/useSearch.ts","../src/stores/dataGridStore.ts","../src/composables/useValidation.ts","../src/composables/useCopyPaste.ts","../src/composables/useAutoRowHeight.ts","../src/composables/useShortcuts.ts","../src/composables/useLogger.ts","../src/services/gridApi.ts","../src/composables/useTheme.ts","../src/components/DataGridHeader.vue","../src/components/DataGridCell.vue","../src/components/SpecialColumnCell.vue","../src/components/DataGridRow.vue","../src/components/LazyRow.vue","../src/components/PaginationControl.vue","../src/components/FilterFlyout.vue","../src/components/DataGrid.vue","../src/components/ListBox.vue","../src/components/SearchPanel.vue","../src/components/FilterRow.vue","../src/index.ts"],"sourcesContent":["var __create = Object.create;\nvar __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __getProtoOf = Object.getPrototypeOf;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __esm = (fn, res) => function __init() {\n  return fn && (res = (0, fn[__getOwnPropNames(fn)[0]])(fn = 0)), res;\n};\nvar __commonJS = (cb, mod) => function __require() {\n  return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toESM = (mod, isNodeMode, target2) => (target2 = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(\n  // If the importer is in node compatibility mode or this is not an ESM\n  // file that has been converted to a CommonJS file using a Babel-\n  // compatible transform (i.e. \"__esModule\" has not been set), then set\n  // \"default\" to the CommonJS \"module.exports\" for node compatibility.\n  isNodeMode || !mod || !mod.__esModule ? __defProp(target2, \"default\", { value: mod, enumerable: true }) : target2,\n  mod\n));\n\n// ../../node_modules/.pnpm/tsup@8.4.0_@microsoft+api-extractor@7.51.1_@types+node@22.13.14__jiti@2.4.2_postcss@8.5_96eb05a9d65343021e53791dd83f3773/node_modules/tsup/assets/esm_shims.js\nvar init_esm_shims = __esm({\n  \"../../node_modules/.pnpm/tsup@8.4.0_@microsoft+api-extractor@7.51.1_@types+node@22.13.14__jiti@2.4.2_postcss@8.5_96eb05a9d65343021e53791dd83f3773/node_modules/tsup/assets/esm_shims.js\"() {\n    \"use strict\";\n  }\n});\n\n// ../../node_modules/.pnpm/rfdc@1.4.1/node_modules/rfdc/index.js\nvar require_rfdc = __commonJS({\n  \"../../node_modules/.pnpm/rfdc@1.4.1/node_modules/rfdc/index.js\"(exports, module) {\n    \"use strict\";\n    init_esm_shims();\n    module.exports = rfdc2;\n    function copyBuffer(cur) {\n      if (cur instanceof Buffer) {\n        return Buffer.from(cur);\n      }\n      return new cur.constructor(cur.buffer.slice(), cur.byteOffset, cur.length);\n    }\n    function rfdc2(opts) {\n      opts = opts || {};\n      if (opts.circles) return rfdcCircles(opts);\n      const constructorHandlers = /* @__PURE__ */ new Map();\n      constructorHandlers.set(Date, (o) => new Date(o));\n      constructorHandlers.set(Map, (o, fn) => new Map(cloneArray(Array.from(o), fn)));\n      constructorHandlers.set(Set, (o, fn) => new Set(cloneArray(Array.from(o), fn)));\n      if (opts.constructorHandlers) {\n        for (const handler2 of opts.constructorHandlers) {\n          constructorHandlers.set(handler2[0], handler2[1]);\n        }\n      }\n      let handler = null;\n      return opts.proto ? cloneProto : clone;\n      function cloneArray(a, fn) {\n        const keys = Object.keys(a);\n        const a2 = new Array(keys.length);\n        for (let i = 0; i < keys.length; i++) {\n          const k = keys[i];\n          const cur = a[k];\n          if (typeof cur !== \"object\" || cur === null) {\n            a2[k] = cur;\n          } else if (cur.constructor !== Object && (handler = constructorHandlers.get(cur.constructor))) {\n            a2[k] = handler(cur, fn);\n          } else if (ArrayBuffer.isView(cur)) {\n            a2[k] = copyBuffer(cur);\n          } else {\n            a2[k] = fn(cur);\n          }\n        }\n        return a2;\n      }\n      function clone(o) {\n        if (typeof o !== \"object\" || o === null) return o;\n        if (Array.isArray(o)) return cloneArray(o, clone);\n        if (o.constructor !== Object && (handler = constructorHandlers.get(o.constructor))) {\n          return handler(o, clone);\n        }\n        const o2 = {};\n        for (const k in o) {\n          if (Object.hasOwnProperty.call(o, k) === false) continue;\n          const cur = o[k];\n          if (typeof cur !== \"object\" || cur === null) {\n            o2[k] = cur;\n          } else if (cur.constructor !== Object && (handler = constructorHandlers.get(cur.constructor))) {\n            o2[k] = handler(cur, clone);\n          } else if (ArrayBuffer.isView(cur)) {\n            o2[k] = copyBuffer(cur);\n          } else {\n            o2[k] = clone(cur);\n          }\n        }\n        return o2;\n      }\n      function cloneProto(o) {\n        if (typeof o !== \"object\" || o === null) return o;\n        if (Array.isArray(o)) return cloneArray(o, cloneProto);\n        if (o.constructor !== Object && (handler = constructorHandlers.get(o.constructor))) {\n          return handler(o, cloneProto);\n        }\n        const o2 = {};\n        for (const k in o) {\n          const cur = o[k];\n          if (typeof cur !== \"object\" || cur === null) {\n            o2[k] = cur;\n          } else if (cur.constructor !== Object && (handler = constructorHandlers.get(cur.constructor))) {\n            o2[k] = handler(cur, cloneProto);\n          } else if (ArrayBuffer.isView(cur)) {\n            o2[k] = copyBuffer(cur);\n          } else {\n            o2[k] = cloneProto(cur);\n          }\n        }\n        return o2;\n      }\n    }\n    function rfdcCircles(opts) {\n      const refs = [];\n      const refsNew = [];\n      const constructorHandlers = /* @__PURE__ */ new Map();\n      constructorHandlers.set(Date, (o) => new Date(o));\n      constructorHandlers.set(Map, (o, fn) => new Map(cloneArray(Array.from(o), fn)));\n      constructorHandlers.set(Set, (o, fn) => new Set(cloneArray(Array.from(o), fn)));\n      if (opts.constructorHandlers) {\n        for (const handler2 of opts.constructorHandlers) {\n          constructorHandlers.set(handler2[0], handler2[1]);\n        }\n      }\n      let handler = null;\n      return opts.proto ? cloneProto : clone;\n      function cloneArray(a, fn) {\n        const keys = Object.keys(a);\n        const a2 = new Array(keys.length);\n        for (let i = 0; i < keys.length; i++) {\n          const k = keys[i];\n          const cur = a[k];\n          if (typeof cur !== \"object\" || cur === null) {\n            a2[k] = cur;\n          } else if (cur.constructor !== Object && (handler = constructorHandlers.get(cur.constructor))) {\n            a2[k] = handler(cur, fn);\n          } else if (ArrayBuffer.isView(cur)) {\n            a2[k] = copyBuffer(cur);\n          } else {\n            const index = refs.indexOf(cur);\n            if (index !== -1) {\n              a2[k] = refsNew[index];\n            } else {\n              a2[k] = fn(cur);\n            }\n          }\n        }\n        return a2;\n      }\n      function clone(o) {\n        if (typeof o !== \"object\" || o === null) return o;\n        if (Array.isArray(o)) return cloneArray(o, clone);\n        if (o.constructor !== Object && (handler = constructorHandlers.get(o.constructor))) {\n          return handler(o, clone);\n        }\n        const o2 = {};\n        refs.push(o);\n        refsNew.push(o2);\n        for (const k in o) {\n          if (Object.hasOwnProperty.call(o, k) === false) continue;\n          const cur = o[k];\n          if (typeof cur !== \"object\" || cur === null) {\n            o2[k] = cur;\n          } else if (cur.constructor !== Object && (handler = constructorHandlers.get(cur.constructor))) {\n            o2[k] = handler(cur, clone);\n          } else if (ArrayBuffer.isView(cur)) {\n            o2[k] = copyBuffer(cur);\n          } else {\n            const i = refs.indexOf(cur);\n            if (i !== -1) {\n              o2[k] = refsNew[i];\n            } else {\n              o2[k] = clone(cur);\n            }\n          }\n        }\n        refs.pop();\n        refsNew.pop();\n        return o2;\n      }\n      function cloneProto(o) {\n        if (typeof o !== \"object\" || o === null) return o;\n        if (Array.isArray(o)) return cloneArray(o, cloneProto);\n        if (o.constructor !== Object && (handler = constructorHandlers.get(o.constructor))) {\n          return handler(o, cloneProto);\n        }\n        const o2 = {};\n        refs.push(o);\n        refsNew.push(o2);\n        for (const k in o) {\n          const cur = o[k];\n          if (typeof cur !== \"object\" || cur === null) {\n            o2[k] = cur;\n          } else if (cur.constructor !== Object && (handler = constructorHandlers.get(cur.constructor))) {\n            o2[k] = handler(cur, cloneProto);\n          } else if (ArrayBuffer.isView(cur)) {\n            o2[k] = copyBuffer(cur);\n          } else {\n            const i = refs.indexOf(cur);\n            if (i !== -1) {\n              o2[k] = refsNew[i];\n            } else {\n              o2[k] = cloneProto(cur);\n            }\n          }\n        }\n        refs.pop();\n        refsNew.pop();\n        return o2;\n      }\n    }\n  }\n});\n\n// src/index.ts\ninit_esm_shims();\n\n// src/constants.ts\ninit_esm_shims();\nvar VIEW_MODE_STORAGE_KEY = \"__vue-devtools-view-mode__\";\nvar VITE_PLUGIN_DETECTED_STORAGE_KEY = \"__vue-devtools-vite-plugin-detected__\";\nvar VITE_PLUGIN_CLIENT_URL_STORAGE_KEY = \"__vue-devtools-vite-plugin-client-url__\";\nvar BROADCAST_CHANNEL_NAME = \"__vue-devtools-broadcast-channel__\";\n\n// src/env.ts\ninit_esm_shims();\nvar isBrowser = typeof navigator !== \"undefined\";\nvar target = typeof window !== \"undefined\" ? window : typeof globalThis !== \"undefined\" ? globalThis : typeof global !== \"undefined\" ? global : {};\nvar isInChromePanel = typeof target.chrome !== \"undefined\" && !!target.chrome.devtools;\nvar isInIframe = isBrowser && target.self !== target.top;\nvar _a;\nvar isInElectron = typeof navigator !== \"undefined\" && ((_a = navigator.userAgent) == null ? void 0 : _a.toLowerCase().includes(\"electron\"));\nvar isNuxtApp = typeof window !== \"undefined\" && !!window.__NUXT__;\nvar isInSeparateWindow = !isInIframe && !isInChromePanel && !isInElectron;\n\n// src/general.ts\ninit_esm_shims();\nvar import_rfdc = __toESM(require_rfdc(), 1);\nfunction NOOP() {\n}\nvar isNumeric = (str) => `${+str}` === str;\nvar isMacOS = () => (navigator == null ? void 0 : navigator.platform) ? navigator == null ? void 0 : navigator.platform.toLowerCase().includes(\"mac\") : /Macintosh/.test(navigator.userAgent);\nvar classifyRE = /(?:^|[-_/])(\\w)/g;\nvar camelizeRE = /-(\\w)/g;\nvar kebabizeRE = /([a-z0-9])([A-Z])/g;\nfunction toUpper(_, c) {\n  return c ? c.toUpperCase() : \"\";\n}\nfunction classify(str) {\n  return str && `${str}`.replace(classifyRE, toUpper);\n}\nfunction camelize(str) {\n  return str && str.replace(camelizeRE, toUpper);\n}\nfunction kebabize(str) {\n  return str && str.replace(kebabizeRE, (_, lowerCaseCharacter, upperCaseLetter) => {\n    return `${lowerCaseCharacter}-${upperCaseLetter}`;\n  }).toLowerCase();\n}\nfunction basename(filename, ext) {\n  let normalizedFilename = filename.replace(/^[a-z]:/i, \"\").replace(/\\\\/g, \"/\");\n  if (normalizedFilename.endsWith(`index${ext}`)) {\n    normalizedFilename = normalizedFilename.replace(`/index${ext}`, ext);\n  }\n  const lastSlashIndex = normalizedFilename.lastIndexOf(\"/\");\n  const baseNameWithExt = normalizedFilename.substring(lastSlashIndex + 1);\n  if (ext) {\n    const extIndex = baseNameWithExt.lastIndexOf(ext);\n    return baseNameWithExt.substring(0, extIndex);\n  }\n  return \"\";\n}\nfunction sortByKey(state) {\n  return state && state.slice().sort((a, b) => {\n    if (a.key < b.key)\n      return -1;\n    if (a.key > b.key)\n      return 1;\n    return 0;\n  });\n}\nvar HTTP_URL_RE = /^https?:\\/\\//;\nfunction isUrlString(str) {\n  return str.startsWith(\"/\") || HTTP_URL_RE.test(str);\n}\nvar deepClone = (0, import_rfdc.default)({ circles: true });\nfunction randomStr() {\n  return Math.random().toString(36).slice(2);\n}\nfunction isObject(value) {\n  return typeof value === \"object\" && !Array.isArray(value) && value !== null;\n}\nfunction isArray(value) {\n  return Array.isArray(value);\n}\nfunction isSet(value) {\n  return value instanceof Set;\n}\nfunction isMap(value) {\n  return value instanceof Map;\n}\nexport {\n  BROADCAST_CHANNEL_NAME,\n  NOOP,\n  VIEW_MODE_STORAGE_KEY,\n  VITE_PLUGIN_CLIENT_URL_STORAGE_KEY,\n  VITE_PLUGIN_DETECTED_STORAGE_KEY,\n  basename,\n  camelize,\n  classify,\n  deepClone,\n  isArray,\n  isBrowser,\n  isInChromePanel,\n  isInElectron,\n  isInIframe,\n  isInSeparateWindow,\n  isMacOS,\n  isMap,\n  isNumeric,\n  isNuxtApp,\n  isObject,\n  isSet,\n  isUrlString,\n  kebabize,\n  randomStr,\n  sortByKey,\n  target\n};\n","const DEBOUNCE_DEFAULTS = {\n  trailing: true\n};\nfunction debounce(fn, wait = 25, options = {}) {\n  options = { ...DEBOUNCE_DEFAULTS, ...options };\n  if (!Number.isFinite(wait)) {\n    throw new TypeError(\"Expected `wait` to be a finite number\");\n  }\n  let leadingValue;\n  let timeout;\n  let resolveList = [];\n  let currentPromise;\n  let trailingArgs;\n  const applyFn = (_this, args) => {\n    currentPromise = _applyPromised(fn, _this, args);\n    currentPromise.finally(() => {\n      currentPromise = null;\n      if (options.trailing && trailingArgs && !timeout) {\n        const promise = applyFn(_this, trailingArgs);\n        trailingArgs = null;\n        return promise;\n      }\n    });\n    return currentPromise;\n  };\n  return function(...args) {\n    if (currentPromise) {\n      if (options.trailing) {\n        trailingArgs = args;\n      }\n      return currentPromise;\n    }\n    return new Promise((resolve) => {\n      const shouldCallNow = !timeout && options.leading;\n      clearTimeout(timeout);\n      timeout = setTimeout(() => {\n        timeout = null;\n        const promise = options.leading ? leadingValue : applyFn(this, args);\n        for (const _resolve of resolveList) {\n          _resolve(promise);\n        }\n        resolveList = [];\n      }, wait);\n      if (shouldCallNow) {\n        leadingValue = applyFn(this, args);\n        resolve(leadingValue);\n      } else {\n        resolveList.push(resolve);\n      }\n    });\n  };\n}\nasync function _applyPromised(fn, _this, args) {\n  return await fn.apply(_this, args);\n}\n\nexport { debounce };\n","function flatHooks(configHooks, hooks = {}, parentName) {\n  for (const key in configHooks) {\n    const subHook = configHooks[key];\n    const name = parentName ? `${parentName}:${key}` : key;\n    if (typeof subHook === \"object\" && subHook !== null) {\n      flatHooks(subHook, hooks, name);\n    } else if (typeof subHook === \"function\") {\n      hooks[name] = subHook;\n    }\n  }\n  return hooks;\n}\nfunction mergeHooks(...hooks) {\n  const finalHooks = {};\n  for (const hook of hooks) {\n    const flatenHook = flatHooks(hook);\n    for (const key in flatenHook) {\n      if (finalHooks[key]) {\n        finalHooks[key].push(flatenHook[key]);\n      } else {\n        finalHooks[key] = [flatenHook[key]];\n      }\n    }\n  }\n  for (const key in finalHooks) {\n    if (finalHooks[key].length > 1) {\n      const array = finalHooks[key];\n      finalHooks[key] = (...arguments_) => serial(array, (function_) => function_(...arguments_));\n    } else {\n      finalHooks[key] = finalHooks[key][0];\n    }\n  }\n  return finalHooks;\n}\nfunction serial(tasks, function_) {\n  return tasks.reduce(\n    (promise, task) => promise.then(() => function_(task)),\n    Promise.resolve()\n  );\n}\nconst defaultTask = { run: (function_) => function_() };\nconst _createTask = () => defaultTask;\nconst createTask = typeof console.createTask !== \"undefined\" ? console.createTask : _createTask;\nfunction serialTaskCaller(hooks, args) {\n  const name = args.shift();\n  const task = createTask(name);\n  return hooks.reduce(\n    (promise, hookFunction) => promise.then(() => task.run(() => hookFunction(...args))),\n    Promise.resolve()\n  );\n}\nfunction parallelTaskCaller(hooks, args) {\n  const name = args.shift();\n  const task = createTask(name);\n  return Promise.all(hooks.map((hook) => task.run(() => hook(...args))));\n}\nfunction serialCaller(hooks, arguments_) {\n  return hooks.reduce(\n    (promise, hookFunction) => promise.then(() => hookFunction(...arguments_ || [])),\n    Promise.resolve()\n  );\n}\nfunction parallelCaller(hooks, args) {\n  return Promise.all(hooks.map((hook) => hook(...args || [])));\n}\nfunction callEachWith(callbacks, arg0) {\n  for (const callback of [...callbacks]) {\n    callback(arg0);\n  }\n}\n\nclass Hookable {\n  constructor() {\n    this._hooks = {};\n    this._before = void 0;\n    this._after = void 0;\n    this._deprecatedMessages = void 0;\n    this._deprecatedHooks = {};\n    this.hook = this.hook.bind(this);\n    this.callHook = this.callHook.bind(this);\n    this.callHookWith = this.callHookWith.bind(this);\n  }\n  hook(name, function_, options = {}) {\n    if (!name || typeof function_ !== \"function\") {\n      return () => {\n      };\n    }\n    const originalName = name;\n    let dep;\n    while (this._deprecatedHooks[name]) {\n      dep = this._deprecatedHooks[name];\n      name = dep.to;\n    }\n    if (dep && !options.allowDeprecated) {\n      let message = dep.message;\n      if (!message) {\n        message = `${originalName} hook has been deprecated` + (dep.to ? `, please use ${dep.to}` : \"\");\n      }\n      if (!this._deprecatedMessages) {\n        this._deprecatedMessages = /* @__PURE__ */ new Set();\n      }\n      if (!this._deprecatedMessages.has(message)) {\n        console.warn(message);\n        this._deprecatedMessages.add(message);\n      }\n    }\n    if (!function_.name) {\n      try {\n        Object.defineProperty(function_, \"name\", {\n          get: () => \"_\" + name.replace(/\\W+/g, \"_\") + \"_hook_cb\",\n          configurable: true\n        });\n      } catch {\n      }\n    }\n    this._hooks[name] = this._hooks[name] || [];\n    this._hooks[name].push(function_);\n    return () => {\n      if (function_) {\n        this.removeHook(name, function_);\n        function_ = void 0;\n      }\n    };\n  }\n  hookOnce(name, function_) {\n    let _unreg;\n    let _function = (...arguments_) => {\n      if (typeof _unreg === \"function\") {\n        _unreg();\n      }\n      _unreg = void 0;\n      _function = void 0;\n      return function_(...arguments_);\n    };\n    _unreg = this.hook(name, _function);\n    return _unreg;\n  }\n  removeHook(name, function_) {\n    if (this._hooks[name]) {\n      const index = this._hooks[name].indexOf(function_);\n      if (index !== -1) {\n        this._hooks[name].splice(index, 1);\n      }\n      if (this._hooks[name].length === 0) {\n        delete this._hooks[name];\n      }\n    }\n  }\n  deprecateHook(name, deprecated) {\n    this._deprecatedHooks[name] = typeof deprecated === \"string\" ? { to: deprecated } : deprecated;\n    const _hooks = this._hooks[name] || [];\n    delete this._hooks[name];\n    for (const hook of _hooks) {\n      this.hook(name, hook);\n    }\n  }\n  deprecateHooks(deprecatedHooks) {\n    Object.assign(this._deprecatedHooks, deprecatedHooks);\n    for (const name in deprecatedHooks) {\n      this.deprecateHook(name, deprecatedHooks[name]);\n    }\n  }\n  addHooks(configHooks) {\n    const hooks = flatHooks(configHooks);\n    const removeFns = Object.keys(hooks).map(\n      (key) => this.hook(key, hooks[key])\n    );\n    return () => {\n      for (const unreg of removeFns.splice(0, removeFns.length)) {\n        unreg();\n      }\n    };\n  }\n  removeHooks(configHooks) {\n    const hooks = flatHooks(configHooks);\n    for (const key in hooks) {\n      this.removeHook(key, hooks[key]);\n    }\n  }\n  removeAllHooks() {\n    for (const key in this._hooks) {\n      delete this._hooks[key];\n    }\n  }\n  callHook(name, ...arguments_) {\n    arguments_.unshift(name);\n    return this.callHookWith(serialTaskCaller, name, ...arguments_);\n  }\n  callHookParallel(name, ...arguments_) {\n    arguments_.unshift(name);\n    return this.callHookWith(parallelTaskCaller, name, ...arguments_);\n  }\n  callHookWith(caller, name, ...arguments_) {\n    const event = this._before || this._after ? { name, args: arguments_, context: {} } : void 0;\n    if (this._before) {\n      callEachWith(this._before, event);\n    }\n    const result = caller(\n      name in this._hooks ? [...this._hooks[name]] : [],\n      arguments_\n    );\n    if (result instanceof Promise) {\n      return result.finally(() => {\n        if (this._after && event) {\n          callEachWith(this._after, event);\n        }\n      });\n    }\n    if (this._after && event) {\n      callEachWith(this._after, event);\n    }\n    return result;\n  }\n  beforeEach(function_) {\n    this._before = this._before || [];\n    this._before.push(function_);\n    return () => {\n      if (this._before !== void 0) {\n        const index = this._before.indexOf(function_);\n        if (index !== -1) {\n          this._before.splice(index, 1);\n        }\n      }\n    };\n  }\n  afterEach(function_) {\n    this._after = this._after || [];\n    this._after.push(function_);\n    return () => {\n      if (this._after !== void 0) {\n        const index = this._after.indexOf(function_);\n        if (index !== -1) {\n          this._after.splice(index, 1);\n        }\n      }\n    };\n  }\n}\nfunction createHooks() {\n  return new Hookable();\n}\n\nconst isBrowser = typeof window !== \"undefined\";\nfunction createDebugger(hooks, _options = {}) {\n  const options = {\n    inspect: isBrowser,\n    group: isBrowser,\n    filter: () => true,\n    ..._options\n  };\n  const _filter = options.filter;\n  const filter = typeof _filter === \"string\" ? (name) => name.startsWith(_filter) : _filter;\n  const _tag = options.tag ? `[${options.tag}] ` : \"\";\n  const logPrefix = (event) => _tag + event.name + \"\".padEnd(event._id, \"\\0\");\n  const _idCtr = {};\n  const unsubscribeBefore = hooks.beforeEach((event) => {\n    if (filter !== void 0 && !filter(event.name)) {\n      return;\n    }\n    _idCtr[event.name] = _idCtr[event.name] || 0;\n    event._id = _idCtr[event.name]++;\n    console.time(logPrefix(event));\n  });\n  const unsubscribeAfter = hooks.afterEach((event) => {\n    if (filter !== void 0 && !filter(event.name)) {\n      return;\n    }\n    if (options.group) {\n      console.groupCollapsed(event.name);\n    }\n    if (options.inspect) {\n      console.timeLog(logPrefix(event), event.args);\n    } else {\n      console.timeEnd(logPrefix(event));\n    }\n    if (options.group) {\n      console.groupEnd();\n    }\n    _idCtr[event.name]--;\n  });\n  return {\n    /** Stop debugging and remove listeners */\n    close: () => {\n      unsubscribeBefore();\n      unsubscribeAfter();\n    }\n  };\n}\n\nexport { Hookable, createDebugger, createHooks, flatHooks, mergeHooks, parallelCaller, serial, serialCaller };\n","var __create = Object.create;\nvar __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __getProtoOf = Object.getPrototypeOf;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __esm = (fn, res) => function __init() {\n  return fn && (res = (0, fn[__getOwnPropNames(fn)[0]])(fn = 0)), res;\n};\nvar __commonJS = (cb, mod) => function __require() {\n  return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toESM = (mod, isNodeMode, target22) => (target22 = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(\n  // If the importer is in node compatibility mode or this is not an ESM\n  // file that has been converted to a CommonJS file using a Babel-\n  // compatible transform (i.e. \"__esModule\" has not been set), then set\n  // \"default\" to the CommonJS \"module.exports\" for node compatibility.\n  isNodeMode || !mod || !mod.__esModule ? __defProp(target22, \"default\", { value: mod, enumerable: true }) : target22,\n  mod\n));\n\n// ../../node_modules/.pnpm/tsup@8.4.0_@microsoft+api-extractor@7.51.1_@types+node@22.13.14__jiti@2.4.2_postcss@8.5_96eb05a9d65343021e53791dd83f3773/node_modules/tsup/assets/esm_shims.js\nvar init_esm_shims = __esm({\n  \"../../node_modules/.pnpm/tsup@8.4.0_@microsoft+api-extractor@7.51.1_@types+node@22.13.14__jiti@2.4.2_postcss@8.5_96eb05a9d65343021e53791dd83f3773/node_modules/tsup/assets/esm_shims.js\"() {\n    \"use strict\";\n  }\n});\n\n// ../../node_modules/.pnpm/speakingurl@14.0.1/node_modules/speakingurl/lib/speakingurl.js\nvar require_speakingurl = __commonJS({\n  \"../../node_modules/.pnpm/speakingurl@14.0.1/node_modules/speakingurl/lib/speakingurl.js\"(exports, module) {\n    \"use strict\";\n    init_esm_shims();\n    (function(root) {\n      \"use strict\";\n      var charMap = {\n        // latin\n        \"\\xC0\": \"A\",\n        \"\\xC1\": \"A\",\n        \"\\xC2\": \"A\",\n        \"\\xC3\": \"A\",\n        \"\\xC4\": \"Ae\",\n        \"\\xC5\": \"A\",\n        \"\\xC6\": \"AE\",\n        \"\\xC7\": \"C\",\n        \"\\xC8\": \"E\",\n        \"\\xC9\": \"E\",\n        \"\\xCA\": \"E\",\n        \"\\xCB\": \"E\",\n        \"\\xCC\": \"I\",\n        \"\\xCD\": \"I\",\n        \"\\xCE\": \"I\",\n        \"\\xCF\": \"I\",\n        \"\\xD0\": \"D\",\n        \"\\xD1\": \"N\",\n        \"\\xD2\": \"O\",\n        \"\\xD3\": \"O\",\n        \"\\xD4\": \"O\",\n        \"\\xD5\": \"O\",\n        \"\\xD6\": \"Oe\",\n        \"\\u0150\": \"O\",\n        \"\\xD8\": \"O\",\n        \"\\xD9\": \"U\",\n        \"\\xDA\": \"U\",\n        \"\\xDB\": \"U\",\n        \"\\xDC\": \"Ue\",\n        \"\\u0170\": \"U\",\n        \"\\xDD\": \"Y\",\n        \"\\xDE\": \"TH\",\n        \"\\xDF\": \"ss\",\n        \"\\xE0\": \"a\",\n        \"\\xE1\": \"a\",\n        \"\\xE2\": \"a\",\n        \"\\xE3\": \"a\",\n        \"\\xE4\": \"ae\",\n        \"\\xE5\": \"a\",\n        \"\\xE6\": \"ae\",\n        \"\\xE7\": \"c\",\n        \"\\xE8\": \"e\",\n        \"\\xE9\": \"e\",\n        \"\\xEA\": \"e\",\n        \"\\xEB\": \"e\",\n        \"\\xEC\": \"i\",\n        \"\\xED\": \"i\",\n        \"\\xEE\": \"i\",\n        \"\\xEF\": \"i\",\n        \"\\xF0\": \"d\",\n        \"\\xF1\": \"n\",\n        \"\\xF2\": \"o\",\n        \"\\xF3\": \"o\",\n        \"\\xF4\": \"o\",\n        \"\\xF5\": \"o\",\n        \"\\xF6\": \"oe\",\n        \"\\u0151\": \"o\",\n        \"\\xF8\": \"o\",\n        \"\\xF9\": \"u\",\n        \"\\xFA\": \"u\",\n        \"\\xFB\": \"u\",\n        \"\\xFC\": \"ue\",\n        \"\\u0171\": \"u\",\n        \"\\xFD\": \"y\",\n        \"\\xFE\": \"th\",\n        \"\\xFF\": \"y\",\n        \"\\u1E9E\": \"SS\",\n        // language specific\n        // Arabic\n        \"\\u0627\": \"a\",\n        \"\\u0623\": \"a\",\n        \"\\u0625\": \"i\",\n        \"\\u0622\": \"aa\",\n        \"\\u0624\": \"u\",\n        \"\\u0626\": \"e\",\n        \"\\u0621\": \"a\",\n        \"\\u0628\": \"b\",\n        \"\\u062A\": \"t\",\n        \"\\u062B\": \"th\",\n        \"\\u062C\": \"j\",\n        \"\\u062D\": \"h\",\n        \"\\u062E\": \"kh\",\n        \"\\u062F\": \"d\",\n        \"\\u0630\": \"th\",\n        \"\\u0631\": \"r\",\n        \"\\u0632\": \"z\",\n        \"\\u0633\": \"s\",\n        \"\\u0634\": \"sh\",\n        \"\\u0635\": \"s\",\n        \"\\u0636\": \"dh\",\n        \"\\u0637\": \"t\",\n        \"\\u0638\": \"z\",\n        \"\\u0639\": \"a\",\n        \"\\u063A\": \"gh\",\n        \"\\u0641\": \"f\",\n        \"\\u0642\": \"q\",\n        \"\\u0643\": \"k\",\n        \"\\u0644\": \"l\",\n        \"\\u0645\": \"m\",\n        \"\\u0646\": \"n\",\n        \"\\u0647\": \"h\",\n        \"\\u0648\": \"w\",\n        \"\\u064A\": \"y\",\n        \"\\u0649\": \"a\",\n        \"\\u0629\": \"h\",\n        \"\\uFEFB\": \"la\",\n        \"\\uFEF7\": \"laa\",\n        \"\\uFEF9\": \"lai\",\n        \"\\uFEF5\": \"laa\",\n        // Persian additional characters than Arabic\n        \"\\u06AF\": \"g\",\n        \"\\u0686\": \"ch\",\n        \"\\u067E\": \"p\",\n        \"\\u0698\": \"zh\",\n        \"\\u06A9\": \"k\",\n        \"\\u06CC\": \"y\",\n        // Arabic diactrics\n        \"\\u064E\": \"a\",\n        \"\\u064B\": \"an\",\n        \"\\u0650\": \"e\",\n        \"\\u064D\": \"en\",\n        \"\\u064F\": \"u\",\n        \"\\u064C\": \"on\",\n        \"\\u0652\": \"\",\n        // Arabic numbers\n        \"\\u0660\": \"0\",\n        \"\\u0661\": \"1\",\n        \"\\u0662\": \"2\",\n        \"\\u0663\": \"3\",\n        \"\\u0664\": \"4\",\n        \"\\u0665\": \"5\",\n        \"\\u0666\": \"6\",\n        \"\\u0667\": \"7\",\n        \"\\u0668\": \"8\",\n        \"\\u0669\": \"9\",\n        // Persian numbers\n        \"\\u06F0\": \"0\",\n        \"\\u06F1\": \"1\",\n        \"\\u06F2\": \"2\",\n        \"\\u06F3\": \"3\",\n        \"\\u06F4\": \"4\",\n        \"\\u06F5\": \"5\",\n        \"\\u06F6\": \"6\",\n        \"\\u06F7\": \"7\",\n        \"\\u06F8\": \"8\",\n        \"\\u06F9\": \"9\",\n        // Burmese consonants\n        \"\\u1000\": \"k\",\n        \"\\u1001\": \"kh\",\n        \"\\u1002\": \"g\",\n        \"\\u1003\": \"ga\",\n        \"\\u1004\": \"ng\",\n        \"\\u1005\": \"s\",\n        \"\\u1006\": \"sa\",\n        \"\\u1007\": \"z\",\n        \"\\u1005\\u103B\": \"za\",\n        \"\\u100A\": \"ny\",\n        \"\\u100B\": \"t\",\n        \"\\u100C\": \"ta\",\n        \"\\u100D\": \"d\",\n        \"\\u100E\": \"da\",\n        \"\\u100F\": \"na\",\n        \"\\u1010\": \"t\",\n        \"\\u1011\": \"ta\",\n        \"\\u1012\": \"d\",\n        \"\\u1013\": \"da\",\n        \"\\u1014\": \"n\",\n        \"\\u1015\": \"p\",\n        \"\\u1016\": \"pa\",\n        \"\\u1017\": \"b\",\n        \"\\u1018\": \"ba\",\n        \"\\u1019\": \"m\",\n        \"\\u101A\": \"y\",\n        \"\\u101B\": \"ya\",\n        \"\\u101C\": \"l\",\n        \"\\u101D\": \"w\",\n        \"\\u101E\": \"th\",\n        \"\\u101F\": \"h\",\n        \"\\u1020\": \"la\",\n        \"\\u1021\": \"a\",\n        // consonant character combos\n        \"\\u103C\": \"y\",\n        \"\\u103B\": \"ya\",\n        \"\\u103D\": \"w\",\n        \"\\u103C\\u103D\": \"yw\",\n        \"\\u103B\\u103D\": \"ywa\",\n        \"\\u103E\": \"h\",\n        // independent vowels\n        \"\\u1027\": \"e\",\n        \"\\u104F\": \"-e\",\n        \"\\u1023\": \"i\",\n        \"\\u1024\": \"-i\",\n        \"\\u1009\": \"u\",\n        \"\\u1026\": \"-u\",\n        \"\\u1029\": \"aw\",\n        \"\\u101E\\u103C\\u1031\\u102C\": \"aw\",\n        \"\\u102A\": \"aw\",\n        // numbers\n        \"\\u1040\": \"0\",\n        \"\\u1041\": \"1\",\n        \"\\u1042\": \"2\",\n        \"\\u1043\": \"3\",\n        \"\\u1044\": \"4\",\n        \"\\u1045\": \"5\",\n        \"\\u1046\": \"6\",\n        \"\\u1047\": \"7\",\n        \"\\u1048\": \"8\",\n        \"\\u1049\": \"9\",\n        // virama and tone marks which are silent in transliteration\n        \"\\u1039\": \"\",\n        \"\\u1037\": \"\",\n        \"\\u1038\": \"\",\n        // Czech\n        \"\\u010D\": \"c\",\n        \"\\u010F\": \"d\",\n        \"\\u011B\": \"e\",\n        \"\\u0148\": \"n\",\n        \"\\u0159\": \"r\",\n        \"\\u0161\": \"s\",\n        \"\\u0165\": \"t\",\n        \"\\u016F\": \"u\",\n        \"\\u017E\": \"z\",\n        \"\\u010C\": \"C\",\n        \"\\u010E\": \"D\",\n        \"\\u011A\": \"E\",\n        \"\\u0147\": \"N\",\n        \"\\u0158\": \"R\",\n        \"\\u0160\": \"S\",\n        \"\\u0164\": \"T\",\n        \"\\u016E\": \"U\",\n        \"\\u017D\": \"Z\",\n        // Dhivehi\n        \"\\u0780\": \"h\",\n        \"\\u0781\": \"sh\",\n        \"\\u0782\": \"n\",\n        \"\\u0783\": \"r\",\n        \"\\u0784\": \"b\",\n        \"\\u0785\": \"lh\",\n        \"\\u0786\": \"k\",\n        \"\\u0787\": \"a\",\n        \"\\u0788\": \"v\",\n        \"\\u0789\": \"m\",\n        \"\\u078A\": \"f\",\n        \"\\u078B\": \"dh\",\n        \"\\u078C\": \"th\",\n        \"\\u078D\": \"l\",\n        \"\\u078E\": \"g\",\n        \"\\u078F\": \"gn\",\n        \"\\u0790\": \"s\",\n        \"\\u0791\": \"d\",\n        \"\\u0792\": \"z\",\n        \"\\u0793\": \"t\",\n        \"\\u0794\": \"y\",\n        \"\\u0795\": \"p\",\n        \"\\u0796\": \"j\",\n        \"\\u0797\": \"ch\",\n        \"\\u0798\": \"tt\",\n        \"\\u0799\": \"hh\",\n        \"\\u079A\": \"kh\",\n        \"\\u079B\": \"th\",\n        \"\\u079C\": \"z\",\n        \"\\u079D\": \"sh\",\n        \"\\u079E\": \"s\",\n        \"\\u079F\": \"d\",\n        \"\\u07A0\": \"t\",\n        \"\\u07A1\": \"z\",\n        \"\\u07A2\": \"a\",\n        \"\\u07A3\": \"gh\",\n        \"\\u07A4\": \"q\",\n        \"\\u07A5\": \"w\",\n        \"\\u07A6\": \"a\",\n        \"\\u07A7\": \"aa\",\n        \"\\u07A8\": \"i\",\n        \"\\u07A9\": \"ee\",\n        \"\\u07AA\": \"u\",\n        \"\\u07AB\": \"oo\",\n        \"\\u07AC\": \"e\",\n        \"\\u07AD\": \"ey\",\n        \"\\u07AE\": \"o\",\n        \"\\u07AF\": \"oa\",\n        \"\\u07B0\": \"\",\n        // Georgian https://en.wikipedia.org/wiki/Romanization_of_Georgian\n        // National system (2002)\n        \"\\u10D0\": \"a\",\n        \"\\u10D1\": \"b\",\n        \"\\u10D2\": \"g\",\n        \"\\u10D3\": \"d\",\n        \"\\u10D4\": \"e\",\n        \"\\u10D5\": \"v\",\n        \"\\u10D6\": \"z\",\n        \"\\u10D7\": \"t\",\n        \"\\u10D8\": \"i\",\n        \"\\u10D9\": \"k\",\n        \"\\u10DA\": \"l\",\n        \"\\u10DB\": \"m\",\n        \"\\u10DC\": \"n\",\n        \"\\u10DD\": \"o\",\n        \"\\u10DE\": \"p\",\n        \"\\u10DF\": \"zh\",\n        \"\\u10E0\": \"r\",\n        \"\\u10E1\": \"s\",\n        \"\\u10E2\": \"t\",\n        \"\\u10E3\": \"u\",\n        \"\\u10E4\": \"p\",\n        \"\\u10E5\": \"k\",\n        \"\\u10E6\": \"gh\",\n        \"\\u10E7\": \"q\",\n        \"\\u10E8\": \"sh\",\n        \"\\u10E9\": \"ch\",\n        \"\\u10EA\": \"ts\",\n        \"\\u10EB\": \"dz\",\n        \"\\u10EC\": \"ts\",\n        \"\\u10ED\": \"ch\",\n        \"\\u10EE\": \"kh\",\n        \"\\u10EF\": \"j\",\n        \"\\u10F0\": \"h\",\n        // Greek\n        \"\\u03B1\": \"a\",\n        \"\\u03B2\": \"v\",\n        \"\\u03B3\": \"g\",\n        \"\\u03B4\": \"d\",\n        \"\\u03B5\": \"e\",\n        \"\\u03B6\": \"z\",\n        \"\\u03B7\": \"i\",\n        \"\\u03B8\": \"th\",\n        \"\\u03B9\": \"i\",\n        \"\\u03BA\": \"k\",\n        \"\\u03BB\": \"l\",\n        \"\\u03BC\": \"m\",\n        \"\\u03BD\": \"n\",\n        \"\\u03BE\": \"ks\",\n        \"\\u03BF\": \"o\",\n        \"\\u03C0\": \"p\",\n        \"\\u03C1\": \"r\",\n        \"\\u03C3\": \"s\",\n        \"\\u03C4\": \"t\",\n        \"\\u03C5\": \"y\",\n        \"\\u03C6\": \"f\",\n        \"\\u03C7\": \"x\",\n        \"\\u03C8\": \"ps\",\n        \"\\u03C9\": \"o\",\n        \"\\u03AC\": \"a\",\n        \"\\u03AD\": \"e\",\n        \"\\u03AF\": \"i\",\n        \"\\u03CC\": \"o\",\n        \"\\u03CD\": \"y\",\n        \"\\u03AE\": \"i\",\n        \"\\u03CE\": \"o\",\n        \"\\u03C2\": \"s\",\n        \"\\u03CA\": \"i\",\n        \"\\u03B0\": \"y\",\n        \"\\u03CB\": \"y\",\n        \"\\u0390\": \"i\",\n        \"\\u0391\": \"A\",\n        \"\\u0392\": \"B\",\n        \"\\u0393\": \"G\",\n        \"\\u0394\": \"D\",\n        \"\\u0395\": \"E\",\n        \"\\u0396\": \"Z\",\n        \"\\u0397\": \"I\",\n        \"\\u0398\": \"TH\",\n        \"\\u0399\": \"I\",\n        \"\\u039A\": \"K\",\n        \"\\u039B\": \"L\",\n        \"\\u039C\": \"M\",\n        \"\\u039D\": \"N\",\n        \"\\u039E\": \"KS\",\n        \"\\u039F\": \"O\",\n        \"\\u03A0\": \"P\",\n        \"\\u03A1\": \"R\",\n        \"\\u03A3\": \"S\",\n        \"\\u03A4\": \"T\",\n        \"\\u03A5\": \"Y\",\n        \"\\u03A6\": \"F\",\n        \"\\u03A7\": \"X\",\n        \"\\u03A8\": \"PS\",\n        \"\\u03A9\": \"O\",\n        \"\\u0386\": \"A\",\n        \"\\u0388\": \"E\",\n        \"\\u038A\": \"I\",\n        \"\\u038C\": \"O\",\n        \"\\u038E\": \"Y\",\n        \"\\u0389\": \"I\",\n        \"\\u038F\": \"O\",\n        \"\\u03AA\": \"I\",\n        \"\\u03AB\": \"Y\",\n        // Latvian\n        \"\\u0101\": \"a\",\n        // 'č': 'c', // duplicate\n        \"\\u0113\": \"e\",\n        \"\\u0123\": \"g\",\n        \"\\u012B\": \"i\",\n        \"\\u0137\": \"k\",\n        \"\\u013C\": \"l\",\n        \"\\u0146\": \"n\",\n        // 'š': 's', // duplicate\n        \"\\u016B\": \"u\",\n        // 'ž': 'z', // duplicate\n        \"\\u0100\": \"A\",\n        // 'Č': 'C', // duplicate\n        \"\\u0112\": \"E\",\n        \"\\u0122\": \"G\",\n        \"\\u012A\": \"I\",\n        \"\\u0136\": \"k\",\n        \"\\u013B\": \"L\",\n        \"\\u0145\": \"N\",\n        // 'Š': 'S', // duplicate\n        \"\\u016A\": \"U\",\n        // 'Ž': 'Z', // duplicate\n        // Macedonian\n        \"\\u040C\": \"Kj\",\n        \"\\u045C\": \"kj\",\n        \"\\u0409\": \"Lj\",\n        \"\\u0459\": \"lj\",\n        \"\\u040A\": \"Nj\",\n        \"\\u045A\": \"nj\",\n        \"\\u0422\\u0441\": \"Ts\",\n        \"\\u0442\\u0441\": \"ts\",\n        // Polish\n        \"\\u0105\": \"a\",\n        \"\\u0107\": \"c\",\n        \"\\u0119\": \"e\",\n        \"\\u0142\": \"l\",\n        \"\\u0144\": \"n\",\n        // 'ó': 'o', // duplicate\n        \"\\u015B\": \"s\",\n        \"\\u017A\": \"z\",\n        \"\\u017C\": \"z\",\n        \"\\u0104\": \"A\",\n        \"\\u0106\": \"C\",\n        \"\\u0118\": \"E\",\n        \"\\u0141\": \"L\",\n        \"\\u0143\": \"N\",\n        \"\\u015A\": \"S\",\n        \"\\u0179\": \"Z\",\n        \"\\u017B\": \"Z\",\n        // Ukranian\n        \"\\u0404\": \"Ye\",\n        \"\\u0406\": \"I\",\n        \"\\u0407\": \"Yi\",\n        \"\\u0490\": \"G\",\n        \"\\u0454\": \"ye\",\n        \"\\u0456\": \"i\",\n        \"\\u0457\": \"yi\",\n        \"\\u0491\": \"g\",\n        // Romanian\n        \"\\u0103\": \"a\",\n        \"\\u0102\": \"A\",\n        \"\\u0219\": \"s\",\n        \"\\u0218\": \"S\",\n        // 'ş': 's', // duplicate\n        // 'Ş': 'S', // duplicate\n        \"\\u021B\": \"t\",\n        \"\\u021A\": \"T\",\n        \"\\u0163\": \"t\",\n        \"\\u0162\": \"T\",\n        // Russian https://en.wikipedia.org/wiki/Romanization_of_Russian\n        // ICAO\n        \"\\u0430\": \"a\",\n        \"\\u0431\": \"b\",\n        \"\\u0432\": \"v\",\n        \"\\u0433\": \"g\",\n        \"\\u0434\": \"d\",\n        \"\\u0435\": \"e\",\n        \"\\u0451\": \"yo\",\n        \"\\u0436\": \"zh\",\n        \"\\u0437\": \"z\",\n        \"\\u0438\": \"i\",\n        \"\\u0439\": \"i\",\n        \"\\u043A\": \"k\",\n        \"\\u043B\": \"l\",\n        \"\\u043C\": \"m\",\n        \"\\u043D\": \"n\",\n        \"\\u043E\": \"o\",\n        \"\\u043F\": \"p\",\n        \"\\u0440\": \"r\",\n        \"\\u0441\": \"s\",\n        \"\\u0442\": \"t\",\n        \"\\u0443\": \"u\",\n        \"\\u0444\": \"f\",\n        \"\\u0445\": \"kh\",\n        \"\\u0446\": \"c\",\n        \"\\u0447\": \"ch\",\n        \"\\u0448\": \"sh\",\n        \"\\u0449\": \"sh\",\n        \"\\u044A\": \"\",\n        \"\\u044B\": \"y\",\n        \"\\u044C\": \"\",\n        \"\\u044D\": \"e\",\n        \"\\u044E\": \"yu\",\n        \"\\u044F\": \"ya\",\n        \"\\u0410\": \"A\",\n        \"\\u0411\": \"B\",\n        \"\\u0412\": \"V\",\n        \"\\u0413\": \"G\",\n        \"\\u0414\": \"D\",\n        \"\\u0415\": \"E\",\n        \"\\u0401\": \"Yo\",\n        \"\\u0416\": \"Zh\",\n        \"\\u0417\": \"Z\",\n        \"\\u0418\": \"I\",\n        \"\\u0419\": \"I\",\n        \"\\u041A\": \"K\",\n        \"\\u041B\": \"L\",\n        \"\\u041C\": \"M\",\n        \"\\u041D\": \"N\",\n        \"\\u041E\": \"O\",\n        \"\\u041F\": \"P\",\n        \"\\u0420\": \"R\",\n        \"\\u0421\": \"S\",\n        \"\\u0422\": \"T\",\n        \"\\u0423\": \"U\",\n        \"\\u0424\": \"F\",\n        \"\\u0425\": \"Kh\",\n        \"\\u0426\": \"C\",\n        \"\\u0427\": \"Ch\",\n        \"\\u0428\": \"Sh\",\n        \"\\u0429\": \"Sh\",\n        \"\\u042A\": \"\",\n        \"\\u042B\": \"Y\",\n        \"\\u042C\": \"\",\n        \"\\u042D\": \"E\",\n        \"\\u042E\": \"Yu\",\n        \"\\u042F\": \"Ya\",\n        // Serbian\n        \"\\u0452\": \"dj\",\n        \"\\u0458\": \"j\",\n        // 'љ': 'lj',  // duplicate\n        // 'њ': 'nj', // duplicate\n        \"\\u045B\": \"c\",\n        \"\\u045F\": \"dz\",\n        \"\\u0402\": \"Dj\",\n        \"\\u0408\": \"j\",\n        // 'Љ': 'Lj', // duplicate\n        // 'Њ': 'Nj', // duplicate\n        \"\\u040B\": \"C\",\n        \"\\u040F\": \"Dz\",\n        // Slovak\n        \"\\u013E\": \"l\",\n        \"\\u013A\": \"l\",\n        \"\\u0155\": \"r\",\n        \"\\u013D\": \"L\",\n        \"\\u0139\": \"L\",\n        \"\\u0154\": \"R\",\n        // Turkish\n        \"\\u015F\": \"s\",\n        \"\\u015E\": \"S\",\n        \"\\u0131\": \"i\",\n        \"\\u0130\": \"I\",\n        // 'ç': 'c', // duplicate\n        // 'Ç': 'C', // duplicate\n        // 'ü': 'u', // duplicate, see langCharMap\n        // 'Ü': 'U', // duplicate, see langCharMap\n        // 'ö': 'o', // duplicate, see langCharMap\n        // 'Ö': 'O', // duplicate, see langCharMap\n        \"\\u011F\": \"g\",\n        \"\\u011E\": \"G\",\n        // Vietnamese\n        \"\\u1EA3\": \"a\",\n        \"\\u1EA2\": \"A\",\n        \"\\u1EB3\": \"a\",\n        \"\\u1EB2\": \"A\",\n        \"\\u1EA9\": \"a\",\n        \"\\u1EA8\": \"A\",\n        \"\\u0111\": \"d\",\n        \"\\u0110\": \"D\",\n        \"\\u1EB9\": \"e\",\n        \"\\u1EB8\": \"E\",\n        \"\\u1EBD\": \"e\",\n        \"\\u1EBC\": \"E\",\n        \"\\u1EBB\": \"e\",\n        \"\\u1EBA\": \"E\",\n        \"\\u1EBF\": \"e\",\n        \"\\u1EBE\": \"E\",\n        \"\\u1EC1\": \"e\",\n        \"\\u1EC0\": \"E\",\n        \"\\u1EC7\": \"e\",\n        \"\\u1EC6\": \"E\",\n        \"\\u1EC5\": \"e\",\n        \"\\u1EC4\": \"E\",\n        \"\\u1EC3\": \"e\",\n        \"\\u1EC2\": \"E\",\n        \"\\u1ECF\": \"o\",\n        \"\\u1ECD\": \"o\",\n        \"\\u1ECC\": \"o\",\n        \"\\u1ED1\": \"o\",\n        \"\\u1ED0\": \"O\",\n        \"\\u1ED3\": \"o\",\n        \"\\u1ED2\": \"O\",\n        \"\\u1ED5\": \"o\",\n        \"\\u1ED4\": \"O\",\n        \"\\u1ED9\": \"o\",\n        \"\\u1ED8\": \"O\",\n        \"\\u1ED7\": \"o\",\n        \"\\u1ED6\": \"O\",\n        \"\\u01A1\": \"o\",\n        \"\\u01A0\": \"O\",\n        \"\\u1EDB\": \"o\",\n        \"\\u1EDA\": \"O\",\n        \"\\u1EDD\": \"o\",\n        \"\\u1EDC\": \"O\",\n        \"\\u1EE3\": \"o\",\n        \"\\u1EE2\": \"O\",\n        \"\\u1EE1\": \"o\",\n        \"\\u1EE0\": \"O\",\n        \"\\u1EDE\": \"o\",\n        \"\\u1EDF\": \"o\",\n        \"\\u1ECB\": \"i\",\n        \"\\u1ECA\": \"I\",\n        \"\\u0129\": \"i\",\n        \"\\u0128\": \"I\",\n        \"\\u1EC9\": \"i\",\n        \"\\u1EC8\": \"i\",\n        \"\\u1EE7\": \"u\",\n        \"\\u1EE6\": \"U\",\n        \"\\u1EE5\": \"u\",\n        \"\\u1EE4\": \"U\",\n        \"\\u0169\": \"u\",\n        \"\\u0168\": \"U\",\n        \"\\u01B0\": \"u\",\n        \"\\u01AF\": \"U\",\n        \"\\u1EE9\": \"u\",\n        \"\\u1EE8\": \"U\",\n        \"\\u1EEB\": \"u\",\n        \"\\u1EEA\": \"U\",\n        \"\\u1EF1\": \"u\",\n        \"\\u1EF0\": \"U\",\n        \"\\u1EEF\": \"u\",\n        \"\\u1EEE\": \"U\",\n        \"\\u1EED\": \"u\",\n        \"\\u1EEC\": \"\\u01B0\",\n        \"\\u1EF7\": \"y\",\n        \"\\u1EF6\": \"y\",\n        \"\\u1EF3\": \"y\",\n        \"\\u1EF2\": \"Y\",\n        \"\\u1EF5\": \"y\",\n        \"\\u1EF4\": \"Y\",\n        \"\\u1EF9\": \"y\",\n        \"\\u1EF8\": \"Y\",\n        \"\\u1EA1\": \"a\",\n        \"\\u1EA0\": \"A\",\n        \"\\u1EA5\": \"a\",\n        \"\\u1EA4\": \"A\",\n        \"\\u1EA7\": \"a\",\n        \"\\u1EA6\": \"A\",\n        \"\\u1EAD\": \"a\",\n        \"\\u1EAC\": \"A\",\n        \"\\u1EAB\": \"a\",\n        \"\\u1EAA\": \"A\",\n        // 'ă': 'a', // duplicate\n        // 'Ă': 'A', // duplicate\n        \"\\u1EAF\": \"a\",\n        \"\\u1EAE\": \"A\",\n        \"\\u1EB1\": \"a\",\n        \"\\u1EB0\": \"A\",\n        \"\\u1EB7\": \"a\",\n        \"\\u1EB6\": \"A\",\n        \"\\u1EB5\": \"a\",\n        \"\\u1EB4\": \"A\",\n        \"\\u24EA\": \"0\",\n        \"\\u2460\": \"1\",\n        \"\\u2461\": \"2\",\n        \"\\u2462\": \"3\",\n        \"\\u2463\": \"4\",\n        \"\\u2464\": \"5\",\n        \"\\u2465\": \"6\",\n        \"\\u2466\": \"7\",\n        \"\\u2467\": \"8\",\n        \"\\u2468\": \"9\",\n        \"\\u2469\": \"10\",\n        \"\\u246A\": \"11\",\n        \"\\u246B\": \"12\",\n        \"\\u246C\": \"13\",\n        \"\\u246D\": \"14\",\n        \"\\u246E\": \"15\",\n        \"\\u246F\": \"16\",\n        \"\\u2470\": \"17\",\n        \"\\u2471\": \"18\",\n        \"\\u2472\": \"18\",\n        \"\\u2473\": \"18\",\n        \"\\u24F5\": \"1\",\n        \"\\u24F6\": \"2\",\n        \"\\u24F7\": \"3\",\n        \"\\u24F8\": \"4\",\n        \"\\u24F9\": \"5\",\n        \"\\u24FA\": \"6\",\n        \"\\u24FB\": \"7\",\n        \"\\u24FC\": \"8\",\n        \"\\u24FD\": \"9\",\n        \"\\u24FE\": \"10\",\n        \"\\u24FF\": \"0\",\n        \"\\u24EB\": \"11\",\n        \"\\u24EC\": \"12\",\n        \"\\u24ED\": \"13\",\n        \"\\u24EE\": \"14\",\n        \"\\u24EF\": \"15\",\n        \"\\u24F0\": \"16\",\n        \"\\u24F1\": \"17\",\n        \"\\u24F2\": \"18\",\n        \"\\u24F3\": \"19\",\n        \"\\u24F4\": \"20\",\n        \"\\u24B6\": \"A\",\n        \"\\u24B7\": \"B\",\n        \"\\u24B8\": \"C\",\n        \"\\u24B9\": \"D\",\n        \"\\u24BA\": \"E\",\n        \"\\u24BB\": \"F\",\n        \"\\u24BC\": \"G\",\n        \"\\u24BD\": \"H\",\n        \"\\u24BE\": \"I\",\n        \"\\u24BF\": \"J\",\n        \"\\u24C0\": \"K\",\n        \"\\u24C1\": \"L\",\n        \"\\u24C2\": \"M\",\n        \"\\u24C3\": \"N\",\n        \"\\u24C4\": \"O\",\n        \"\\u24C5\": \"P\",\n        \"\\u24C6\": \"Q\",\n        \"\\u24C7\": \"R\",\n        \"\\u24C8\": \"S\",\n        \"\\u24C9\": \"T\",\n        \"\\u24CA\": \"U\",\n        \"\\u24CB\": \"V\",\n        \"\\u24CC\": \"W\",\n        \"\\u24CD\": \"X\",\n        \"\\u24CE\": \"Y\",\n        \"\\u24CF\": \"Z\",\n        \"\\u24D0\": \"a\",\n        \"\\u24D1\": \"b\",\n        \"\\u24D2\": \"c\",\n        \"\\u24D3\": \"d\",\n        \"\\u24D4\": \"e\",\n        \"\\u24D5\": \"f\",\n        \"\\u24D6\": \"g\",\n        \"\\u24D7\": \"h\",\n        \"\\u24D8\": \"i\",\n        \"\\u24D9\": \"j\",\n        \"\\u24DA\": \"k\",\n        \"\\u24DB\": \"l\",\n        \"\\u24DC\": \"m\",\n        \"\\u24DD\": \"n\",\n        \"\\u24DE\": \"o\",\n        \"\\u24DF\": \"p\",\n        \"\\u24E0\": \"q\",\n        \"\\u24E1\": \"r\",\n        \"\\u24E2\": \"s\",\n        \"\\u24E3\": \"t\",\n        \"\\u24E4\": \"u\",\n        \"\\u24E6\": \"v\",\n        \"\\u24E5\": \"w\",\n        \"\\u24E7\": \"x\",\n        \"\\u24E8\": \"y\",\n        \"\\u24E9\": \"z\",\n        // symbols\n        \"\\u201C\": '\"',\n        \"\\u201D\": '\"',\n        \"\\u2018\": \"'\",\n        \"\\u2019\": \"'\",\n        \"\\u2202\": \"d\",\n        \"\\u0192\": \"f\",\n        \"\\u2122\": \"(TM)\",\n        \"\\xA9\": \"(C)\",\n        \"\\u0153\": \"oe\",\n        \"\\u0152\": \"OE\",\n        \"\\xAE\": \"(R)\",\n        \"\\u2020\": \"+\",\n        \"\\u2120\": \"(SM)\",\n        \"\\u2026\": \"...\",\n        \"\\u02DA\": \"o\",\n        \"\\xBA\": \"o\",\n        \"\\xAA\": \"a\",\n        \"\\u2022\": \"*\",\n        \"\\u104A\": \",\",\n        \"\\u104B\": \".\",\n        // currency\n        \"$\": \"USD\",\n        \"\\u20AC\": \"EUR\",\n        \"\\u20A2\": \"BRN\",\n        \"\\u20A3\": \"FRF\",\n        \"\\xA3\": \"GBP\",\n        \"\\u20A4\": \"ITL\",\n        \"\\u20A6\": \"NGN\",\n        \"\\u20A7\": \"ESP\",\n        \"\\u20A9\": \"KRW\",\n        \"\\u20AA\": \"ILS\",\n        \"\\u20AB\": \"VND\",\n        \"\\u20AD\": \"LAK\",\n        \"\\u20AE\": \"MNT\",\n        \"\\u20AF\": \"GRD\",\n        \"\\u20B1\": \"ARS\",\n        \"\\u20B2\": \"PYG\",\n        \"\\u20B3\": \"ARA\",\n        \"\\u20B4\": \"UAH\",\n        \"\\u20B5\": \"GHS\",\n        \"\\xA2\": \"cent\",\n        \"\\xA5\": \"CNY\",\n        \"\\u5143\": \"CNY\",\n        \"\\u5186\": \"YEN\",\n        \"\\uFDFC\": \"IRR\",\n        \"\\u20A0\": \"EWE\",\n        \"\\u0E3F\": \"THB\",\n        \"\\u20A8\": \"INR\",\n        \"\\u20B9\": \"INR\",\n        \"\\u20B0\": \"PF\",\n        \"\\u20BA\": \"TRY\",\n        \"\\u060B\": \"AFN\",\n        \"\\u20BC\": \"AZN\",\n        \"\\u043B\\u0432\": \"BGN\",\n        \"\\u17DB\": \"KHR\",\n        \"\\u20A1\": \"CRC\",\n        \"\\u20B8\": \"KZT\",\n        \"\\u0434\\u0435\\u043D\": \"MKD\",\n        \"z\\u0142\": \"PLN\",\n        \"\\u20BD\": \"RUB\",\n        \"\\u20BE\": \"GEL\"\n      };\n      var lookAheadCharArray = [\n        // burmese\n        \"\\u103A\",\n        // Dhivehi\n        \"\\u07B0\"\n      ];\n      var diatricMap = {\n        // Burmese\n        // dependent vowels\n        \"\\u102C\": \"a\",\n        \"\\u102B\": \"a\",\n        \"\\u1031\": \"e\",\n        \"\\u1032\": \"e\",\n        \"\\u102D\": \"i\",\n        \"\\u102E\": \"i\",\n        \"\\u102D\\u102F\": \"o\",\n        \"\\u102F\": \"u\",\n        \"\\u1030\": \"u\",\n        \"\\u1031\\u102B\\u1004\\u103A\": \"aung\",\n        \"\\u1031\\u102C\": \"aw\",\n        \"\\u1031\\u102C\\u103A\": \"aw\",\n        \"\\u1031\\u102B\": \"aw\",\n        \"\\u1031\\u102B\\u103A\": \"aw\",\n        \"\\u103A\": \"\\u103A\",\n        // this is special case but the character will be converted to latin in the code\n        \"\\u1000\\u103A\": \"et\",\n        \"\\u102D\\u102F\\u1000\\u103A\": \"aik\",\n        \"\\u1031\\u102C\\u1000\\u103A\": \"auk\",\n        \"\\u1004\\u103A\": \"in\",\n        \"\\u102D\\u102F\\u1004\\u103A\": \"aing\",\n        \"\\u1031\\u102C\\u1004\\u103A\": \"aung\",\n        \"\\u1005\\u103A\": \"it\",\n        \"\\u100A\\u103A\": \"i\",\n        \"\\u1010\\u103A\": \"at\",\n        \"\\u102D\\u1010\\u103A\": \"eik\",\n        \"\\u102F\\u1010\\u103A\": \"ok\",\n        \"\\u103D\\u1010\\u103A\": \"ut\",\n        \"\\u1031\\u1010\\u103A\": \"it\",\n        \"\\u1012\\u103A\": \"d\",\n        \"\\u102D\\u102F\\u1012\\u103A\": \"ok\",\n        \"\\u102F\\u1012\\u103A\": \"ait\",\n        \"\\u1014\\u103A\": \"an\",\n        \"\\u102C\\u1014\\u103A\": \"an\",\n        \"\\u102D\\u1014\\u103A\": \"ein\",\n        \"\\u102F\\u1014\\u103A\": \"on\",\n        \"\\u103D\\u1014\\u103A\": \"un\",\n        \"\\u1015\\u103A\": \"at\",\n        \"\\u102D\\u1015\\u103A\": \"eik\",\n        \"\\u102F\\u1015\\u103A\": \"ok\",\n        \"\\u103D\\u1015\\u103A\": \"ut\",\n        \"\\u1014\\u103A\\u102F\\u1015\\u103A\": \"nub\",\n        \"\\u1019\\u103A\": \"an\",\n        \"\\u102D\\u1019\\u103A\": \"ein\",\n        \"\\u102F\\u1019\\u103A\": \"on\",\n        \"\\u103D\\u1019\\u103A\": \"un\",\n        \"\\u101A\\u103A\": \"e\",\n        \"\\u102D\\u102F\\u101C\\u103A\": \"ol\",\n        \"\\u1009\\u103A\": \"in\",\n        \"\\u1036\": \"an\",\n        \"\\u102D\\u1036\": \"ein\",\n        \"\\u102F\\u1036\": \"on\",\n        // Dhivehi\n        \"\\u07A6\\u0787\\u07B0\": \"ah\",\n        \"\\u07A6\\u0781\\u07B0\": \"ah\"\n      };\n      var langCharMap = {\n        \"en\": {},\n        // default language\n        \"az\": {\n          // Azerbaijani\n          \"\\xE7\": \"c\",\n          \"\\u0259\": \"e\",\n          \"\\u011F\": \"g\",\n          \"\\u0131\": \"i\",\n          \"\\xF6\": \"o\",\n          \"\\u015F\": \"s\",\n          \"\\xFC\": \"u\",\n          \"\\xC7\": \"C\",\n          \"\\u018F\": \"E\",\n          \"\\u011E\": \"G\",\n          \"\\u0130\": \"I\",\n          \"\\xD6\": \"O\",\n          \"\\u015E\": \"S\",\n          \"\\xDC\": \"U\"\n        },\n        \"cs\": {\n          // Czech\n          \"\\u010D\": \"c\",\n          \"\\u010F\": \"d\",\n          \"\\u011B\": \"e\",\n          \"\\u0148\": \"n\",\n          \"\\u0159\": \"r\",\n          \"\\u0161\": \"s\",\n          \"\\u0165\": \"t\",\n          \"\\u016F\": \"u\",\n          \"\\u017E\": \"z\",\n          \"\\u010C\": \"C\",\n          \"\\u010E\": \"D\",\n          \"\\u011A\": \"E\",\n          \"\\u0147\": \"N\",\n          \"\\u0158\": \"R\",\n          \"\\u0160\": \"S\",\n          \"\\u0164\": \"T\",\n          \"\\u016E\": \"U\",\n          \"\\u017D\": \"Z\"\n        },\n        \"fi\": {\n          // Finnish\n          // 'å': 'a', duplicate see charMap/latin\n          // 'Å': 'A', duplicate see charMap/latin\n          \"\\xE4\": \"a\",\n          // ok\n          \"\\xC4\": \"A\",\n          // ok\n          \"\\xF6\": \"o\",\n          // ok\n          \"\\xD6\": \"O\"\n          // ok\n        },\n        \"hu\": {\n          // Hungarian\n          \"\\xE4\": \"a\",\n          // ok\n          \"\\xC4\": \"A\",\n          // ok\n          // 'á': 'a', duplicate see charMap/latin\n          // 'Á': 'A', duplicate see charMap/latin\n          \"\\xF6\": \"o\",\n          // ok\n          \"\\xD6\": \"O\",\n          // ok\n          // 'ő': 'o', duplicate see charMap/latin\n          // 'Ő': 'O', duplicate see charMap/latin\n          \"\\xFC\": \"u\",\n          \"\\xDC\": \"U\",\n          \"\\u0171\": \"u\",\n          \"\\u0170\": \"U\"\n        },\n        \"lt\": {\n          // Lithuanian\n          \"\\u0105\": \"a\",\n          \"\\u010D\": \"c\",\n          \"\\u0119\": \"e\",\n          \"\\u0117\": \"e\",\n          \"\\u012F\": \"i\",\n          \"\\u0161\": \"s\",\n          \"\\u0173\": \"u\",\n          \"\\u016B\": \"u\",\n          \"\\u017E\": \"z\",\n          \"\\u0104\": \"A\",\n          \"\\u010C\": \"C\",\n          \"\\u0118\": \"E\",\n          \"\\u0116\": \"E\",\n          \"\\u012E\": \"I\",\n          \"\\u0160\": \"S\",\n          \"\\u0172\": \"U\",\n          \"\\u016A\": \"U\"\n        },\n        \"lv\": {\n          // Latvian\n          \"\\u0101\": \"a\",\n          \"\\u010D\": \"c\",\n          \"\\u0113\": \"e\",\n          \"\\u0123\": \"g\",\n          \"\\u012B\": \"i\",\n          \"\\u0137\": \"k\",\n          \"\\u013C\": \"l\",\n          \"\\u0146\": \"n\",\n          \"\\u0161\": \"s\",\n          \"\\u016B\": \"u\",\n          \"\\u017E\": \"z\",\n          \"\\u0100\": \"A\",\n          \"\\u010C\": \"C\",\n          \"\\u0112\": \"E\",\n          \"\\u0122\": \"G\",\n          \"\\u012A\": \"i\",\n          \"\\u0136\": \"k\",\n          \"\\u013B\": \"L\",\n          \"\\u0145\": \"N\",\n          \"\\u0160\": \"S\",\n          \"\\u016A\": \"u\",\n          \"\\u017D\": \"Z\"\n        },\n        \"pl\": {\n          // Polish\n          \"\\u0105\": \"a\",\n          \"\\u0107\": \"c\",\n          \"\\u0119\": \"e\",\n          \"\\u0142\": \"l\",\n          \"\\u0144\": \"n\",\n          \"\\xF3\": \"o\",\n          \"\\u015B\": \"s\",\n          \"\\u017A\": \"z\",\n          \"\\u017C\": \"z\",\n          \"\\u0104\": \"A\",\n          \"\\u0106\": \"C\",\n          \"\\u0118\": \"e\",\n          \"\\u0141\": \"L\",\n          \"\\u0143\": \"N\",\n          \"\\xD3\": \"O\",\n          \"\\u015A\": \"S\",\n          \"\\u0179\": \"Z\",\n          \"\\u017B\": \"Z\"\n        },\n        \"sv\": {\n          // Swedish\n          // 'å': 'a', duplicate see charMap/latin\n          // 'Å': 'A', duplicate see charMap/latin\n          \"\\xE4\": \"a\",\n          // ok\n          \"\\xC4\": \"A\",\n          // ok\n          \"\\xF6\": \"o\",\n          // ok\n          \"\\xD6\": \"O\"\n          // ok\n        },\n        \"sk\": {\n          // Slovak\n          \"\\xE4\": \"a\",\n          \"\\xC4\": \"A\"\n        },\n        \"sr\": {\n          // Serbian\n          \"\\u0459\": \"lj\",\n          \"\\u045A\": \"nj\",\n          \"\\u0409\": \"Lj\",\n          \"\\u040A\": \"Nj\",\n          \"\\u0111\": \"dj\",\n          \"\\u0110\": \"Dj\"\n        },\n        \"tr\": {\n          // Turkish\n          \"\\xDC\": \"U\",\n          \"\\xD6\": \"O\",\n          \"\\xFC\": \"u\",\n          \"\\xF6\": \"o\"\n        }\n      };\n      var symbolMap = {\n        \"ar\": {\n          \"\\u2206\": \"delta\",\n          \"\\u221E\": \"la-nihaya\",\n          \"\\u2665\": \"hob\",\n          \"&\": \"wa\",\n          \"|\": \"aw\",\n          \"<\": \"aqal-men\",\n          \">\": \"akbar-men\",\n          \"\\u2211\": \"majmou\",\n          \"\\xA4\": \"omla\"\n        },\n        \"az\": {},\n        \"ca\": {\n          \"\\u2206\": \"delta\",\n          \"\\u221E\": \"infinit\",\n          \"\\u2665\": \"amor\",\n          \"&\": \"i\",\n          \"|\": \"o\",\n          \"<\": \"menys que\",\n          \">\": \"mes que\",\n          \"\\u2211\": \"suma dels\",\n          \"\\xA4\": \"moneda\"\n        },\n        \"cs\": {\n          \"\\u2206\": \"delta\",\n          \"\\u221E\": \"nekonecno\",\n          \"\\u2665\": \"laska\",\n          \"&\": \"a\",\n          \"|\": \"nebo\",\n          \"<\": \"mensi nez\",\n          \">\": \"vetsi nez\",\n          \"\\u2211\": \"soucet\",\n          \"\\xA4\": \"mena\"\n        },\n        \"de\": {\n          \"\\u2206\": \"delta\",\n          \"\\u221E\": \"unendlich\",\n          \"\\u2665\": \"Liebe\",\n          \"&\": \"und\",\n          \"|\": \"oder\",\n          \"<\": \"kleiner als\",\n          \">\": \"groesser als\",\n          \"\\u2211\": \"Summe von\",\n          \"\\xA4\": \"Waehrung\"\n        },\n        \"dv\": {\n          \"\\u2206\": \"delta\",\n          \"\\u221E\": \"kolunulaa\",\n          \"\\u2665\": \"loabi\",\n          \"&\": \"aai\",\n          \"|\": \"noonee\",\n          \"<\": \"ah vure kuda\",\n          \">\": \"ah vure bodu\",\n          \"\\u2211\": \"jumula\",\n          \"\\xA4\": \"faisaa\"\n        },\n        \"en\": {\n          \"\\u2206\": \"delta\",\n          \"\\u221E\": \"infinity\",\n          \"\\u2665\": \"love\",\n          \"&\": \"and\",\n          \"|\": \"or\",\n          \"<\": \"less than\",\n          \">\": \"greater than\",\n          \"\\u2211\": \"sum\",\n          \"\\xA4\": \"currency\"\n        },\n        \"es\": {\n          \"\\u2206\": \"delta\",\n          \"\\u221E\": \"infinito\",\n          \"\\u2665\": \"amor\",\n          \"&\": \"y\",\n          \"|\": \"u\",\n          \"<\": \"menos que\",\n          \">\": \"mas que\",\n          \"\\u2211\": \"suma de los\",\n          \"\\xA4\": \"moneda\"\n        },\n        \"fa\": {\n          \"\\u2206\": \"delta\",\n          \"\\u221E\": \"bi-nahayat\",\n          \"\\u2665\": \"eshgh\",\n          \"&\": \"va\",\n          \"|\": \"ya\",\n          \"<\": \"kamtar-az\",\n          \">\": \"bishtar-az\",\n          \"\\u2211\": \"majmooe\",\n          \"\\xA4\": \"vahed\"\n        },\n        \"fi\": {\n          \"\\u2206\": \"delta\",\n          \"\\u221E\": \"aarettomyys\",\n          \"\\u2665\": \"rakkaus\",\n          \"&\": \"ja\",\n          \"|\": \"tai\",\n          \"<\": \"pienempi kuin\",\n          \">\": \"suurempi kuin\",\n          \"\\u2211\": \"summa\",\n          \"\\xA4\": \"valuutta\"\n        },\n        \"fr\": {\n          \"\\u2206\": \"delta\",\n          \"\\u221E\": \"infiniment\",\n          \"\\u2665\": \"Amour\",\n          \"&\": \"et\",\n          \"|\": \"ou\",\n          \"<\": \"moins que\",\n          \">\": \"superieure a\",\n          \"\\u2211\": \"somme des\",\n          \"\\xA4\": \"monnaie\"\n        },\n        \"ge\": {\n          \"\\u2206\": \"delta\",\n          \"\\u221E\": \"usasruloba\",\n          \"\\u2665\": \"siqvaruli\",\n          \"&\": \"da\",\n          \"|\": \"an\",\n          \"<\": \"naklebi\",\n          \">\": \"meti\",\n          \"\\u2211\": \"jami\",\n          \"\\xA4\": \"valuta\"\n        },\n        \"gr\": {},\n        \"hu\": {\n          \"\\u2206\": \"delta\",\n          \"\\u221E\": \"vegtelen\",\n          \"\\u2665\": \"szerelem\",\n          \"&\": \"es\",\n          \"|\": \"vagy\",\n          \"<\": \"kisebb mint\",\n          \">\": \"nagyobb mint\",\n          \"\\u2211\": \"szumma\",\n          \"\\xA4\": \"penznem\"\n        },\n        \"it\": {\n          \"\\u2206\": \"delta\",\n          \"\\u221E\": \"infinito\",\n          \"\\u2665\": \"amore\",\n          \"&\": \"e\",\n          \"|\": \"o\",\n          \"<\": \"minore di\",\n          \">\": \"maggiore di\",\n          \"\\u2211\": \"somma\",\n          \"\\xA4\": \"moneta\"\n        },\n        \"lt\": {\n          \"\\u2206\": \"delta\",\n          \"\\u221E\": \"begalybe\",\n          \"\\u2665\": \"meile\",\n          \"&\": \"ir\",\n          \"|\": \"ar\",\n          \"<\": \"maziau nei\",\n          \">\": \"daugiau nei\",\n          \"\\u2211\": \"suma\",\n          \"\\xA4\": \"valiuta\"\n        },\n        \"lv\": {\n          \"\\u2206\": \"delta\",\n          \"\\u221E\": \"bezgaliba\",\n          \"\\u2665\": \"milestiba\",\n          \"&\": \"un\",\n          \"|\": \"vai\",\n          \"<\": \"mazak neka\",\n          \">\": \"lielaks neka\",\n          \"\\u2211\": \"summa\",\n          \"\\xA4\": \"valuta\"\n        },\n        \"my\": {\n          \"\\u2206\": \"kwahkhyaet\",\n          \"\\u221E\": \"asaonasme\",\n          \"\\u2665\": \"akhyait\",\n          \"&\": \"nhin\",\n          \"|\": \"tho\",\n          \"<\": \"ngethaw\",\n          \">\": \"kyithaw\",\n          \"\\u2211\": \"paungld\",\n          \"\\xA4\": \"ngwekye\"\n        },\n        \"mk\": {},\n        \"nl\": {\n          \"\\u2206\": \"delta\",\n          \"\\u221E\": \"oneindig\",\n          \"\\u2665\": \"liefde\",\n          \"&\": \"en\",\n          \"|\": \"of\",\n          \"<\": \"kleiner dan\",\n          \">\": \"groter dan\",\n          \"\\u2211\": \"som\",\n          \"\\xA4\": \"valuta\"\n        },\n        \"pl\": {\n          \"\\u2206\": \"delta\",\n          \"\\u221E\": \"nieskonczonosc\",\n          \"\\u2665\": \"milosc\",\n          \"&\": \"i\",\n          \"|\": \"lub\",\n          \"<\": \"mniejsze niz\",\n          \">\": \"wieksze niz\",\n          \"\\u2211\": \"suma\",\n          \"\\xA4\": \"waluta\"\n        },\n        \"pt\": {\n          \"\\u2206\": \"delta\",\n          \"\\u221E\": \"infinito\",\n          \"\\u2665\": \"amor\",\n          \"&\": \"e\",\n          \"|\": \"ou\",\n          \"<\": \"menor que\",\n          \">\": \"maior que\",\n          \"\\u2211\": \"soma\",\n          \"\\xA4\": \"moeda\"\n        },\n        \"ro\": {\n          \"\\u2206\": \"delta\",\n          \"\\u221E\": \"infinit\",\n          \"\\u2665\": \"dragoste\",\n          \"&\": \"si\",\n          \"|\": \"sau\",\n          \"<\": \"mai mic ca\",\n          \">\": \"mai mare ca\",\n          \"\\u2211\": \"suma\",\n          \"\\xA4\": \"valuta\"\n        },\n        \"ru\": {\n          \"\\u2206\": \"delta\",\n          \"\\u221E\": \"beskonechno\",\n          \"\\u2665\": \"lubov\",\n          \"&\": \"i\",\n          \"|\": \"ili\",\n          \"<\": \"menshe\",\n          \">\": \"bolshe\",\n          \"\\u2211\": \"summa\",\n          \"\\xA4\": \"valjuta\"\n        },\n        \"sk\": {\n          \"\\u2206\": \"delta\",\n          \"\\u221E\": \"nekonecno\",\n          \"\\u2665\": \"laska\",\n          \"&\": \"a\",\n          \"|\": \"alebo\",\n          \"<\": \"menej ako\",\n          \">\": \"viac ako\",\n          \"\\u2211\": \"sucet\",\n          \"\\xA4\": \"mena\"\n        },\n        \"sr\": {},\n        \"tr\": {\n          \"\\u2206\": \"delta\",\n          \"\\u221E\": \"sonsuzluk\",\n          \"\\u2665\": \"ask\",\n          \"&\": \"ve\",\n          \"|\": \"veya\",\n          \"<\": \"kucuktur\",\n          \">\": \"buyuktur\",\n          \"\\u2211\": \"toplam\",\n          \"\\xA4\": \"para birimi\"\n        },\n        \"uk\": {\n          \"\\u2206\": \"delta\",\n          \"\\u221E\": \"bezkinechnist\",\n          \"\\u2665\": \"lubov\",\n          \"&\": \"i\",\n          \"|\": \"abo\",\n          \"<\": \"menshe\",\n          \">\": \"bilshe\",\n          \"\\u2211\": \"suma\",\n          \"\\xA4\": \"valjuta\"\n        },\n        \"vn\": {\n          \"\\u2206\": \"delta\",\n          \"\\u221E\": \"vo cuc\",\n          \"\\u2665\": \"yeu\",\n          \"&\": \"va\",\n          \"|\": \"hoac\",\n          \"<\": \"nho hon\",\n          \">\": \"lon hon\",\n          \"\\u2211\": \"tong\",\n          \"\\xA4\": \"tien te\"\n        }\n      };\n      var uricChars = [\";\", \"?\", \":\", \"@\", \"&\", \"=\", \"+\", \"$\", \",\", \"/\"].join(\"\");\n      var uricNoSlashChars = [\";\", \"?\", \":\", \"@\", \"&\", \"=\", \"+\", \"$\", \",\"].join(\"\");\n      var markChars = [\".\", \"!\", \"~\", \"*\", \"'\", \"(\", \")\"].join(\"\");\n      var getSlug = function getSlug2(input, opts) {\n        var separator = \"-\";\n        var result = \"\";\n        var diatricString = \"\";\n        var convertSymbols = true;\n        var customReplacements = {};\n        var maintainCase;\n        var titleCase;\n        var truncate;\n        var uricFlag;\n        var uricNoSlashFlag;\n        var markFlag;\n        var symbol;\n        var langChar;\n        var lucky;\n        var i;\n        var ch;\n        var l;\n        var lastCharWasSymbol;\n        var lastCharWasDiatric;\n        var allowedChars = \"\";\n        if (typeof input !== \"string\") {\n          return \"\";\n        }\n        if (typeof opts === \"string\") {\n          separator = opts;\n        }\n        symbol = symbolMap.en;\n        langChar = langCharMap.en;\n        if (typeof opts === \"object\") {\n          maintainCase = opts.maintainCase || false;\n          customReplacements = opts.custom && typeof opts.custom === \"object\" ? opts.custom : customReplacements;\n          truncate = +opts.truncate > 1 && opts.truncate || false;\n          uricFlag = opts.uric || false;\n          uricNoSlashFlag = opts.uricNoSlash || false;\n          markFlag = opts.mark || false;\n          convertSymbols = opts.symbols === false || opts.lang === false ? false : true;\n          separator = opts.separator || separator;\n          if (uricFlag) {\n            allowedChars += uricChars;\n          }\n          if (uricNoSlashFlag) {\n            allowedChars += uricNoSlashChars;\n          }\n          if (markFlag) {\n            allowedChars += markChars;\n          }\n          symbol = opts.lang && symbolMap[opts.lang] && convertSymbols ? symbolMap[opts.lang] : convertSymbols ? symbolMap.en : {};\n          langChar = opts.lang && langCharMap[opts.lang] ? langCharMap[opts.lang] : opts.lang === false || opts.lang === true ? {} : langCharMap.en;\n          if (opts.titleCase && typeof opts.titleCase.length === \"number\" && Array.prototype.toString.call(opts.titleCase)) {\n            opts.titleCase.forEach(function(v) {\n              customReplacements[v + \"\"] = v + \"\";\n            });\n            titleCase = true;\n          } else {\n            titleCase = !!opts.titleCase;\n          }\n          if (opts.custom && typeof opts.custom.length === \"number\" && Array.prototype.toString.call(opts.custom)) {\n            opts.custom.forEach(function(v) {\n              customReplacements[v + \"\"] = v + \"\";\n            });\n          }\n          Object.keys(customReplacements).forEach(function(v) {\n            var r;\n            if (v.length > 1) {\n              r = new RegExp(\"\\\\b\" + escapeChars(v) + \"\\\\b\", \"gi\");\n            } else {\n              r = new RegExp(escapeChars(v), \"gi\");\n            }\n            input = input.replace(r, customReplacements[v]);\n          });\n          for (ch in customReplacements) {\n            allowedChars += ch;\n          }\n        }\n        allowedChars += separator;\n        allowedChars = escapeChars(allowedChars);\n        input = input.replace(/(^\\s+|\\s+$)/g, \"\");\n        lastCharWasSymbol = false;\n        lastCharWasDiatric = false;\n        for (i = 0, l = input.length; i < l; i++) {\n          ch = input[i];\n          if (isReplacedCustomChar(ch, customReplacements)) {\n            lastCharWasSymbol = false;\n          } else if (langChar[ch]) {\n            ch = lastCharWasSymbol && langChar[ch].match(/[A-Za-z0-9]/) ? \" \" + langChar[ch] : langChar[ch];\n            lastCharWasSymbol = false;\n          } else if (ch in charMap) {\n            if (i + 1 < l && lookAheadCharArray.indexOf(input[i + 1]) >= 0) {\n              diatricString += ch;\n              ch = \"\";\n            } else if (lastCharWasDiatric === true) {\n              ch = diatricMap[diatricString] + charMap[ch];\n              diatricString = \"\";\n            } else {\n              ch = lastCharWasSymbol && charMap[ch].match(/[A-Za-z0-9]/) ? \" \" + charMap[ch] : charMap[ch];\n            }\n            lastCharWasSymbol = false;\n            lastCharWasDiatric = false;\n          } else if (ch in diatricMap) {\n            diatricString += ch;\n            ch = \"\";\n            if (i === l - 1) {\n              ch = diatricMap[diatricString];\n            }\n            lastCharWasDiatric = true;\n          } else if (\n            // process symbol chars\n            symbol[ch] && !(uricFlag && uricChars.indexOf(ch) !== -1) && !(uricNoSlashFlag && uricNoSlashChars.indexOf(ch) !== -1)\n          ) {\n            ch = lastCharWasSymbol || result.substr(-1).match(/[A-Za-z0-9]/) ? separator + symbol[ch] : symbol[ch];\n            ch += input[i + 1] !== void 0 && input[i + 1].match(/[A-Za-z0-9]/) ? separator : \"\";\n            lastCharWasSymbol = true;\n          } else {\n            if (lastCharWasDiatric === true) {\n              ch = diatricMap[diatricString] + ch;\n              diatricString = \"\";\n              lastCharWasDiatric = false;\n            } else if (lastCharWasSymbol && (/[A-Za-z0-9]/.test(ch) || result.substr(-1).match(/A-Za-z0-9]/))) {\n              ch = \" \" + ch;\n            }\n            lastCharWasSymbol = false;\n          }\n          result += ch.replace(new RegExp(\"[^\\\\w\\\\s\" + allowedChars + \"_-]\", \"g\"), separator);\n        }\n        if (titleCase) {\n          result = result.replace(/(\\w)(\\S*)/g, function(_, i2, r) {\n            var j = i2.toUpperCase() + (r !== null ? r : \"\");\n            return Object.keys(customReplacements).indexOf(j.toLowerCase()) < 0 ? j : j.toLowerCase();\n          });\n        }\n        result = result.replace(/\\s+/g, separator).replace(new RegExp(\"\\\\\" + separator + \"+\", \"g\"), separator).replace(new RegExp(\"(^\\\\\" + separator + \"+|\\\\\" + separator + \"+$)\", \"g\"), \"\");\n        if (truncate && result.length > truncate) {\n          lucky = result.charAt(truncate) === separator;\n          result = result.slice(0, truncate);\n          if (!lucky) {\n            result = result.slice(0, result.lastIndexOf(separator));\n          }\n        }\n        if (!maintainCase && !titleCase) {\n          result = result.toLowerCase();\n        }\n        return result;\n      };\n      var createSlug = function createSlug2(opts) {\n        return function getSlugWithConfig(input) {\n          return getSlug(input, opts);\n        };\n      };\n      var escapeChars = function escapeChars2(input) {\n        return input.replace(/[-\\\\^$*+?.()|[\\]{}\\/]/g, \"\\\\$&\");\n      };\n      var isReplacedCustomChar = function(ch, customReplacements) {\n        for (var c in customReplacements) {\n          if (customReplacements[c] === ch) {\n            return true;\n          }\n        }\n      };\n      if (typeof module !== \"undefined\" && module.exports) {\n        module.exports = getSlug;\n        module.exports.createSlug = createSlug;\n      } else if (typeof define !== \"undefined\" && define.amd) {\n        define([], function() {\n          return getSlug;\n        });\n      } else {\n        try {\n          if (root.getSlug || root.createSlug) {\n            throw \"speakingurl: globals exists /(getSlug|createSlug)/\";\n          } else {\n            root.getSlug = getSlug;\n            root.createSlug = createSlug;\n          }\n        } catch (e) {\n        }\n      }\n    })(exports);\n  }\n});\n\n// ../../node_modules/.pnpm/speakingurl@14.0.1/node_modules/speakingurl/index.js\nvar require_speakingurl2 = __commonJS({\n  \"../../node_modules/.pnpm/speakingurl@14.0.1/node_modules/speakingurl/index.js\"(exports, module) {\n    \"use strict\";\n    init_esm_shims();\n    module.exports = require_speakingurl();\n  }\n});\n\n// src/index.ts\ninit_esm_shims();\n\n// src/core/index.ts\ninit_esm_shims();\nimport { isNuxtApp, target as target13 } from \"@vue/devtools-shared\";\n\n// src/compat/index.ts\ninit_esm_shims();\nimport { target } from \"@vue/devtools-shared\";\nfunction onLegacyDevToolsPluginApiAvailable(cb) {\n  if (target.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__) {\n    cb();\n    return;\n  }\n  Object.defineProperty(target, \"__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__\", {\n    set(value) {\n      if (value)\n        cb();\n    },\n    configurable: true\n  });\n}\n\n// src/ctx/index.ts\ninit_esm_shims();\nimport { target as target11 } from \"@vue/devtools-shared\";\n\n// src/ctx/api.ts\ninit_esm_shims();\nimport { target as target9 } from \"@vue/devtools-shared\";\n\n// src/core/component-highlighter/index.ts\ninit_esm_shims();\n\n// src/core/component/state/bounding-rect.ts\ninit_esm_shims();\n\n// src/core/component/utils/index.ts\ninit_esm_shims();\nimport { basename, classify } from \"@vue/devtools-shared\";\nfunction getComponentTypeName(options) {\n  var _a25;\n  const name = options.name || options._componentTag || options.__VUE_DEVTOOLS_COMPONENT_GUSSED_NAME__ || options.__name;\n  if (name === \"index\" && ((_a25 = options.__file) == null ? void 0 : _a25.endsWith(\"index.vue\"))) {\n    return \"\";\n  }\n  return name;\n}\nfunction getComponentFileName(options) {\n  const file = options.__file;\n  if (file)\n    return classify(basename(file, \".vue\"));\n}\nfunction getComponentName(options) {\n  const name = options.displayName || options.name || options._componentTag;\n  if (name)\n    return name;\n  return getComponentFileName(options);\n}\nfunction saveComponentGussedName(instance, name) {\n  instance.type.__VUE_DEVTOOLS_COMPONENT_GUSSED_NAME__ = name;\n  return name;\n}\nfunction getAppRecord(instance) {\n  if (instance.__VUE_DEVTOOLS_NEXT_APP_RECORD__)\n    return instance.__VUE_DEVTOOLS_NEXT_APP_RECORD__;\n  else if (instance.root)\n    return instance.appContext.app.__VUE_DEVTOOLS_NEXT_APP_RECORD__;\n}\nasync function getComponentId(options) {\n  const { app, uid, instance } = options;\n  try {\n    if (instance.__VUE_DEVTOOLS_NEXT_UID__)\n      return instance.__VUE_DEVTOOLS_NEXT_UID__;\n    const appRecord = await getAppRecord(app);\n    if (!appRecord)\n      return null;\n    const isRoot = appRecord.rootInstance === instance;\n    return `${appRecord.id}:${isRoot ? \"root\" : uid}`;\n  } catch (e) {\n  }\n}\nfunction isFragment(instance) {\n  var _a25, _b25;\n  const subTreeType = (_a25 = instance.subTree) == null ? void 0 : _a25.type;\n  const appRecord = getAppRecord(instance);\n  if (appRecord) {\n    return ((_b25 = appRecord == null ? void 0 : appRecord.types) == null ? void 0 : _b25.Fragment) === subTreeType;\n  }\n  return false;\n}\nfunction isBeingDestroyed(instance) {\n  return instance._isBeingDestroyed || instance.isUnmounted;\n}\nfunction getInstanceName(instance) {\n  var _a25, _b25, _c;\n  const name = getComponentTypeName((instance == null ? void 0 : instance.type) || {});\n  if (name)\n    return name;\n  if ((instance == null ? void 0 : instance.root) === instance)\n    return \"Root\";\n  for (const key in (_b25 = (_a25 = instance.parent) == null ? void 0 : _a25.type) == null ? void 0 : _b25.components) {\n    if (instance.parent.type.components[key] === (instance == null ? void 0 : instance.type))\n      return saveComponentGussedName(instance, key);\n  }\n  for (const key in (_c = instance.appContext) == null ? void 0 : _c.components) {\n    if (instance.appContext.components[key] === (instance == null ? void 0 : instance.type))\n      return saveComponentGussedName(instance, key);\n  }\n  const fileName = getComponentFileName((instance == null ? void 0 : instance.type) || {});\n  if (fileName)\n    return fileName;\n  return \"Anonymous Component\";\n}\nfunction getUniqueComponentId(instance) {\n  var _a25, _b25, _c;\n  const appId = (_c = (_b25 = (_a25 = instance == null ? void 0 : instance.appContext) == null ? void 0 : _a25.app) == null ? void 0 : _b25.__VUE_DEVTOOLS_NEXT_APP_RECORD_ID__) != null ? _c : 0;\n  const instanceId = instance === (instance == null ? void 0 : instance.root) ? \"root\" : instance.uid;\n  return `${appId}:${instanceId}`;\n}\nfunction getRenderKey(value) {\n  if (value == null)\n    return \"\";\n  if (typeof value === \"number\")\n    return value;\n  else if (typeof value === \"string\")\n    return `'${value}'`;\n  else if (Array.isArray(value))\n    return \"Array\";\n  else\n    return \"Object\";\n}\nfunction returnError(cb) {\n  try {\n    return cb();\n  } catch (e) {\n    return e;\n  }\n}\nfunction getComponentInstance(appRecord, instanceId) {\n  instanceId = instanceId || `${appRecord.id}:root`;\n  const instance = appRecord.instanceMap.get(instanceId);\n  return instance || appRecord.instanceMap.get(\":root\");\n}\nfunction ensurePropertyExists(obj, key, skipObjCheck = false) {\n  return skipObjCheck ? key in obj : typeof obj === \"object\" && obj !== null ? key in obj : false;\n}\n\n// src/core/component/state/bounding-rect.ts\nfunction createRect() {\n  const rect = {\n    top: 0,\n    bottom: 0,\n    left: 0,\n    right: 0,\n    get width() {\n      return rect.right - rect.left;\n    },\n    get height() {\n      return rect.bottom - rect.top;\n    }\n  };\n  return rect;\n}\nvar range;\nfunction getTextRect(node) {\n  if (!range)\n    range = document.createRange();\n  range.selectNode(node);\n  return range.getBoundingClientRect();\n}\nfunction getFragmentRect(vnode) {\n  const rect = createRect();\n  if (!vnode.children)\n    return rect;\n  for (let i = 0, l = vnode.children.length; i < l; i++) {\n    const childVnode = vnode.children[i];\n    let childRect;\n    if (childVnode.component) {\n      childRect = getComponentBoundingRect(childVnode.component);\n    } else if (childVnode.el) {\n      const el = childVnode.el;\n      if (el.nodeType === 1 || el.getBoundingClientRect)\n        childRect = el.getBoundingClientRect();\n      else if (el.nodeType === 3 && el.data.trim())\n        childRect = getTextRect(el);\n    }\n    if (childRect)\n      mergeRects(rect, childRect);\n  }\n  return rect;\n}\nfunction mergeRects(a, b) {\n  if (!a.top || b.top < a.top)\n    a.top = b.top;\n  if (!a.bottom || b.bottom > a.bottom)\n    a.bottom = b.bottom;\n  if (!a.left || b.left < a.left)\n    a.left = b.left;\n  if (!a.right || b.right > a.right)\n    a.right = b.right;\n  return a;\n}\nvar DEFAULT_RECT = {\n  top: 0,\n  left: 0,\n  right: 0,\n  bottom: 0,\n  width: 0,\n  height: 0\n};\nfunction getComponentBoundingRect(instance) {\n  const el = instance.subTree.el;\n  if (typeof window === \"undefined\") {\n    return DEFAULT_RECT;\n  }\n  if (isFragment(instance))\n    return getFragmentRect(instance.subTree);\n  else if ((el == null ? void 0 : el.nodeType) === 1)\n    return el == null ? void 0 : el.getBoundingClientRect();\n  else if (instance.subTree.component)\n    return getComponentBoundingRect(instance.subTree.component);\n  else\n    return DEFAULT_RECT;\n}\n\n// src/core/component/tree/el.ts\ninit_esm_shims();\nfunction getRootElementsFromComponentInstance(instance) {\n  if (isFragment(instance))\n    return getFragmentRootElements(instance.subTree);\n  if (!instance.subTree)\n    return [];\n  return [instance.subTree.el];\n}\nfunction getFragmentRootElements(vnode) {\n  if (!vnode.children)\n    return [];\n  const list = [];\n  vnode.children.forEach((childVnode) => {\n    if (childVnode.component)\n      list.push(...getRootElementsFromComponentInstance(childVnode.component));\n    else if (childVnode == null ? void 0 : childVnode.el)\n      list.push(childVnode.el);\n  });\n  return list;\n}\n\n// src/core/component-highlighter/index.ts\nvar CONTAINER_ELEMENT_ID = \"__vue-devtools-component-inspector__\";\nvar CARD_ELEMENT_ID = \"__vue-devtools-component-inspector__card__\";\nvar COMPONENT_NAME_ELEMENT_ID = \"__vue-devtools-component-inspector__name__\";\nvar INDICATOR_ELEMENT_ID = \"__vue-devtools-component-inspector__indicator__\";\nvar containerStyles = {\n  display: \"block\",\n  zIndex: 2147483640,\n  position: \"fixed\",\n  backgroundColor: \"#42b88325\",\n  border: \"1px solid #42b88350\",\n  borderRadius: \"5px\",\n  transition: \"all 0.1s ease-in\",\n  pointerEvents: \"none\"\n};\nvar cardStyles = {\n  fontFamily: \"Arial, Helvetica, sans-serif\",\n  padding: \"5px 8px\",\n  borderRadius: \"4px\",\n  textAlign: \"left\",\n  position: \"absolute\",\n  left: 0,\n  color: \"#e9e9e9\",\n  fontSize: \"14px\",\n  fontWeight: 600,\n  lineHeight: \"24px\",\n  backgroundColor: \"#42b883\",\n  boxShadow: \"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px -1px rgba(0, 0, 0, 0.1)\"\n};\nvar indicatorStyles = {\n  display: \"inline-block\",\n  fontWeight: 400,\n  fontStyle: \"normal\",\n  fontSize: \"12px\",\n  opacity: 0.7\n};\nfunction getContainerElement() {\n  return document.getElementById(CONTAINER_ELEMENT_ID);\n}\nfunction getCardElement() {\n  return document.getElementById(CARD_ELEMENT_ID);\n}\nfunction getIndicatorElement() {\n  return document.getElementById(INDICATOR_ELEMENT_ID);\n}\nfunction getNameElement() {\n  return document.getElementById(COMPONENT_NAME_ELEMENT_ID);\n}\nfunction getStyles(bounds) {\n  return {\n    left: `${Math.round(bounds.left * 100) / 100}px`,\n    top: `${Math.round(bounds.top * 100) / 100}px`,\n    width: `${Math.round(bounds.width * 100) / 100}px`,\n    height: `${Math.round(bounds.height * 100) / 100}px`\n  };\n}\nfunction create(options) {\n  var _a25;\n  const containerEl = document.createElement(\"div\");\n  containerEl.id = (_a25 = options.elementId) != null ? _a25 : CONTAINER_ELEMENT_ID;\n  Object.assign(containerEl.style, {\n    ...containerStyles,\n    ...getStyles(options.bounds),\n    ...options.style\n  });\n  const cardEl = document.createElement(\"span\");\n  cardEl.id = CARD_ELEMENT_ID;\n  Object.assign(cardEl.style, {\n    ...cardStyles,\n    top: options.bounds.top < 35 ? 0 : \"-35px\"\n  });\n  const nameEl = document.createElement(\"span\");\n  nameEl.id = COMPONENT_NAME_ELEMENT_ID;\n  nameEl.innerHTML = `&lt;${options.name}&gt;&nbsp;&nbsp;`;\n  const indicatorEl = document.createElement(\"i\");\n  indicatorEl.id = INDICATOR_ELEMENT_ID;\n  indicatorEl.innerHTML = `${Math.round(options.bounds.width * 100) / 100} x ${Math.round(options.bounds.height * 100) / 100}`;\n  Object.assign(indicatorEl.style, indicatorStyles);\n  cardEl.appendChild(nameEl);\n  cardEl.appendChild(indicatorEl);\n  containerEl.appendChild(cardEl);\n  document.body.appendChild(containerEl);\n  return containerEl;\n}\nfunction update(options) {\n  const containerEl = getContainerElement();\n  const cardEl = getCardElement();\n  const nameEl = getNameElement();\n  const indicatorEl = getIndicatorElement();\n  if (containerEl) {\n    Object.assign(containerEl.style, {\n      ...containerStyles,\n      ...getStyles(options.bounds)\n    });\n    Object.assign(cardEl.style, {\n      top: options.bounds.top < 35 ? 0 : \"-35px\"\n    });\n    nameEl.innerHTML = `&lt;${options.name}&gt;&nbsp;&nbsp;`;\n    indicatorEl.innerHTML = `${Math.round(options.bounds.width * 100) / 100} x ${Math.round(options.bounds.height * 100) / 100}`;\n  }\n}\nfunction highlight(instance) {\n  const bounds = getComponentBoundingRect(instance);\n  if (!bounds.width && !bounds.height)\n    return;\n  const name = getInstanceName(instance);\n  const container = getContainerElement();\n  container ? update({ bounds, name }) : create({ bounds, name });\n}\nfunction unhighlight() {\n  const el = getContainerElement();\n  if (el)\n    el.style.display = \"none\";\n}\nvar inspectInstance = null;\nfunction inspectFn(e) {\n  const target22 = e.target;\n  if (target22) {\n    const instance = target22.__vueParentComponent;\n    if (instance) {\n      inspectInstance = instance;\n      const el = instance.vnode.el;\n      if (el) {\n        const bounds = getComponentBoundingRect(instance);\n        const name = getInstanceName(instance);\n        const container = getContainerElement();\n        container ? update({ bounds, name }) : create({ bounds, name });\n      }\n    }\n  }\n}\nfunction selectComponentFn(e, cb) {\n  e.preventDefault();\n  e.stopPropagation();\n  if (inspectInstance) {\n    const uniqueComponentId = getUniqueComponentId(inspectInstance);\n    cb(uniqueComponentId);\n  }\n}\nvar inspectComponentHighLighterSelectFn = null;\nfunction cancelInspectComponentHighLighter() {\n  unhighlight();\n  window.removeEventListener(\"mouseover\", inspectFn);\n  window.removeEventListener(\"click\", inspectComponentHighLighterSelectFn, true);\n  inspectComponentHighLighterSelectFn = null;\n}\nfunction inspectComponentHighLighter() {\n  window.addEventListener(\"mouseover\", inspectFn);\n  return new Promise((resolve) => {\n    function onSelect(e) {\n      e.preventDefault();\n      e.stopPropagation();\n      selectComponentFn(e, (id) => {\n        window.removeEventListener(\"click\", onSelect, true);\n        inspectComponentHighLighterSelectFn = null;\n        window.removeEventListener(\"mouseover\", inspectFn);\n        const el = getContainerElement();\n        if (el)\n          el.style.display = \"none\";\n        resolve(JSON.stringify({ id }));\n      });\n    }\n    inspectComponentHighLighterSelectFn = onSelect;\n    window.addEventListener(\"click\", onSelect, true);\n  });\n}\nfunction scrollToComponent(options) {\n  const instance = getComponentInstance(activeAppRecord.value, options.id);\n  if (instance) {\n    const [el] = getRootElementsFromComponentInstance(instance);\n    if (typeof el.scrollIntoView === \"function\") {\n      el.scrollIntoView({\n        behavior: \"smooth\"\n      });\n    } else {\n      const bounds = getComponentBoundingRect(instance);\n      const scrollTarget = document.createElement(\"div\");\n      const styles = {\n        ...getStyles(bounds),\n        position: \"absolute\"\n      };\n      Object.assign(scrollTarget.style, styles);\n      document.body.appendChild(scrollTarget);\n      scrollTarget.scrollIntoView({\n        behavior: \"smooth\"\n      });\n      setTimeout(() => {\n        document.body.removeChild(scrollTarget);\n      }, 2e3);\n    }\n    setTimeout(() => {\n      const bounds = getComponentBoundingRect(instance);\n      if (bounds.width || bounds.height) {\n        const name = getInstanceName(instance);\n        const el2 = getContainerElement();\n        el2 ? update({ ...options, name, bounds }) : create({ ...options, name, bounds });\n        setTimeout(() => {\n          if (el2)\n            el2.style.display = \"none\";\n        }, 1500);\n      }\n    }, 1200);\n  }\n}\n\n// src/core/component-inspector/index.ts\ninit_esm_shims();\nimport { target as target2 } from \"@vue/devtools-shared\";\nvar _a, _b;\n(_b = (_a = target2).__VUE_DEVTOOLS_COMPONENT_INSPECTOR_ENABLED__) != null ? _b : _a.__VUE_DEVTOOLS_COMPONENT_INSPECTOR_ENABLED__ = true;\nfunction toggleComponentInspectorEnabled(enabled) {\n  target2.__VUE_DEVTOOLS_COMPONENT_INSPECTOR_ENABLED__ = enabled;\n}\nfunction waitForInspectorInit(cb) {\n  let total = 0;\n  const timer = setInterval(() => {\n    if (target2.__VUE_INSPECTOR__) {\n      clearInterval(timer);\n      total += 30;\n      cb();\n    }\n    if (total >= /* 5s */\n    5e3)\n      clearInterval(timer);\n  }, 30);\n}\nfunction setupInspector() {\n  const inspector = target2.__VUE_INSPECTOR__;\n  const _openInEditor = inspector.openInEditor;\n  inspector.openInEditor = async (...params) => {\n    inspector.disable();\n    _openInEditor(...params);\n  };\n}\nfunction getComponentInspector() {\n  return new Promise((resolve) => {\n    function setup() {\n      setupInspector();\n      resolve(target2.__VUE_INSPECTOR__);\n    }\n    if (!target2.__VUE_INSPECTOR__) {\n      waitForInspectorInit(() => {\n        setup();\n      });\n    } else {\n      setup();\n    }\n  });\n}\n\n// src/core/component/state/editor.ts\ninit_esm_shims();\n\n// src/shared/stub-vue.ts\ninit_esm_shims();\nfunction isReadonly(value) {\n  return !!(value && value[\"__v_isReadonly\" /* IS_READONLY */]);\n}\nfunction isReactive(value) {\n  if (isReadonly(value)) {\n    return isReactive(value[\"__v_raw\" /* RAW */]);\n  }\n  return !!(value && value[\"__v_isReactive\" /* IS_REACTIVE */]);\n}\nfunction isRef(r) {\n  return !!(r && r.__v_isRef === true);\n}\nfunction toRaw(observed) {\n  const raw = observed && observed[\"__v_raw\" /* RAW */];\n  return raw ? toRaw(raw) : observed;\n}\nvar Fragment = Symbol.for(\"v-fgt\");\n\n// src/core/component/state/editor.ts\nvar StateEditor = class {\n  constructor() {\n    this.refEditor = new RefStateEditor();\n  }\n  set(object, path, value, cb) {\n    const sections = Array.isArray(path) ? path : path.split(\".\");\n    const markRef = false;\n    while (sections.length > 1) {\n      const section = sections.shift();\n      if (object instanceof Map)\n        object = object.get(section);\n      else if (object instanceof Set)\n        object = Array.from(object.values())[section];\n      else object = object[section];\n      if (this.refEditor.isRef(object))\n        object = this.refEditor.get(object);\n    }\n    const field = sections[0];\n    const item = this.refEditor.get(object)[field];\n    if (cb) {\n      cb(object, field, value);\n    } else {\n      if (this.refEditor.isRef(item))\n        this.refEditor.set(item, value);\n      else if (markRef)\n        object[field] = value;\n      else\n        object[field] = value;\n    }\n  }\n  get(object, path) {\n    const sections = Array.isArray(path) ? path : path.split(\".\");\n    for (let i = 0; i < sections.length; i++) {\n      if (object instanceof Map)\n        object = object.get(sections[i]);\n      else\n        object = object[sections[i]];\n      if (this.refEditor.isRef(object))\n        object = this.refEditor.get(object);\n      if (!object)\n        return void 0;\n    }\n    return object;\n  }\n  has(object, path, parent = false) {\n    if (typeof object === \"undefined\")\n      return false;\n    const sections = Array.isArray(path) ? path.slice() : path.split(\".\");\n    const size = !parent ? 1 : 2;\n    while (object && sections.length > size) {\n      const section = sections.shift();\n      object = object[section];\n      if (this.refEditor.isRef(object))\n        object = this.refEditor.get(object);\n    }\n    return object != null && Object.prototype.hasOwnProperty.call(object, sections[0]);\n  }\n  createDefaultSetCallback(state) {\n    return (object, field, value) => {\n      if (state.remove || state.newKey) {\n        if (Array.isArray(object))\n          object.splice(field, 1);\n        else if (toRaw(object) instanceof Map)\n          object.delete(field);\n        else if (toRaw(object) instanceof Set)\n          object.delete(Array.from(object.values())[field]);\n        else Reflect.deleteProperty(object, field);\n      }\n      if (!state.remove) {\n        const target22 = object[state.newKey || field];\n        if (this.refEditor.isRef(target22))\n          this.refEditor.set(target22, value);\n        else if (toRaw(object) instanceof Map)\n          object.set(state.newKey || field, value);\n        else if (toRaw(object) instanceof Set)\n          object.add(value);\n        else\n          object[state.newKey || field] = value;\n      }\n    };\n  }\n};\nvar RefStateEditor = class {\n  set(ref, value) {\n    if (isRef(ref)) {\n      ref.value = value;\n    } else {\n      if (ref instanceof Set && Array.isArray(value)) {\n        ref.clear();\n        value.forEach((v) => ref.add(v));\n        return;\n      }\n      const currentKeys = Object.keys(value);\n      if (ref instanceof Map) {\n        const previousKeysSet2 = new Set(ref.keys());\n        currentKeys.forEach((key) => {\n          ref.set(key, Reflect.get(value, key));\n          previousKeysSet2.delete(key);\n        });\n        previousKeysSet2.forEach((key) => ref.delete(key));\n        return;\n      }\n      const previousKeysSet = new Set(Object.keys(ref));\n      currentKeys.forEach((key) => {\n        Reflect.set(ref, key, Reflect.get(value, key));\n        previousKeysSet.delete(key);\n      });\n      previousKeysSet.forEach((key) => Reflect.deleteProperty(ref, key));\n    }\n  }\n  get(ref) {\n    return isRef(ref) ? ref.value : ref;\n  }\n  isRef(ref) {\n    return isRef(ref) || isReactive(ref);\n  }\n};\nasync function editComponentState(payload, stateEditor2) {\n  const { path, nodeId, state, type } = payload;\n  const instance = getComponentInstance(activeAppRecord.value, nodeId);\n  if (!instance)\n    return;\n  const targetPath = path.slice();\n  let target22;\n  if (Object.keys(instance.props).includes(path[0])) {\n    target22 = instance.props;\n  } else if (instance.devtoolsRawSetupState && Object.keys(instance.devtoolsRawSetupState).includes(path[0])) {\n    target22 = instance.devtoolsRawSetupState;\n  } else if (instance.data && Object.keys(instance.data).includes(path[0])) {\n    target22 = instance.data;\n  } else {\n    target22 = instance.proxy;\n  }\n  if (target22 && targetPath) {\n    if (state.type === \"object\" && type === \"reactive\") {\n    }\n    stateEditor2.set(target22, targetPath, state.value, stateEditor2.createDefaultSetCallback(state));\n  }\n}\nvar stateEditor = new StateEditor();\nasync function editState(payload) {\n  editComponentState(payload, stateEditor);\n}\n\n// src/core/open-in-editor/index.ts\ninit_esm_shims();\nimport { target as target5 } from \"@vue/devtools-shared\";\n\n// src/ctx/state.ts\ninit_esm_shims();\nimport { target as global, isUrlString } from \"@vue/devtools-shared\";\nimport { debounce as debounce3 } from \"perfect-debounce\";\n\n// src/core/timeline/storage.ts\ninit_esm_shims();\nimport { isBrowser } from \"@vue/devtools-shared\";\nvar TIMELINE_LAYERS_STATE_STORAGE_ID = \"__VUE_DEVTOOLS_KIT_TIMELINE_LAYERS_STATE__\";\nfunction addTimelineLayersStateToStorage(state) {\n  if (!isBrowser || typeof localStorage === \"undefined\" || localStorage === null) {\n    return;\n  }\n  localStorage.setItem(TIMELINE_LAYERS_STATE_STORAGE_ID, JSON.stringify(state));\n}\nfunction getTimelineLayersStateFromStorage() {\n  if (typeof window === \"undefined\" || !isBrowser || typeof localStorage === \"undefined\" || localStorage === null) {\n    return {\n      recordingState: false,\n      mouseEventEnabled: false,\n      keyboardEventEnabled: false,\n      componentEventEnabled: false,\n      performanceEventEnabled: false,\n      selected: \"\"\n    };\n  }\n  const state = typeof localStorage.getItem !== \"undefined\" ? localStorage.getItem(TIMELINE_LAYERS_STATE_STORAGE_ID) : null;\n  return state ? JSON.parse(state) : {\n    recordingState: false,\n    mouseEventEnabled: false,\n    keyboardEventEnabled: false,\n    componentEventEnabled: false,\n    performanceEventEnabled: false,\n    selected: \"\"\n  };\n}\n\n// src/ctx/hook.ts\ninit_esm_shims();\nimport { createHooks } from \"hookable\";\nimport { debounce as debounce2 } from \"perfect-debounce\";\n\n// src/ctx/inspector.ts\ninit_esm_shims();\nimport { target as target4 } from \"@vue/devtools-shared\";\nimport { debounce } from \"perfect-debounce\";\n\n// src/ctx/timeline.ts\ninit_esm_shims();\nimport { target as target3 } from \"@vue/devtools-shared\";\nvar _a2, _b2;\n(_b2 = (_a2 = target3).__VUE_DEVTOOLS_KIT_TIMELINE_LAYERS) != null ? _b2 : _a2.__VUE_DEVTOOLS_KIT_TIMELINE_LAYERS = [];\nvar devtoolsTimelineLayers = new Proxy(target3.__VUE_DEVTOOLS_KIT_TIMELINE_LAYERS, {\n  get(target22, prop, receiver) {\n    return Reflect.get(target22, prop, receiver);\n  }\n});\nfunction addTimelineLayer(options, descriptor) {\n  devtoolsState.timelineLayersState[descriptor.id] = false;\n  devtoolsTimelineLayers.push({\n    ...options,\n    descriptorId: descriptor.id,\n    appRecord: getAppRecord(descriptor.app)\n  });\n}\nfunction updateTimelineLayersState(state) {\n  const updatedState = {\n    ...devtoolsState.timelineLayersState,\n    ...state\n  };\n  addTimelineLayersStateToStorage(updatedState);\n  updateDevToolsState({\n    timelineLayersState: updatedState\n  });\n}\n\n// src/ctx/inspector.ts\nvar _a3, _b3;\n(_b3 = (_a3 = target4).__VUE_DEVTOOLS_KIT_INSPECTOR__) != null ? _b3 : _a3.__VUE_DEVTOOLS_KIT_INSPECTOR__ = [];\nvar devtoolsInspector = new Proxy(target4.__VUE_DEVTOOLS_KIT_INSPECTOR__, {\n  get(target22, prop, receiver) {\n    return Reflect.get(target22, prop, receiver);\n  }\n});\nvar callInspectorUpdatedHook = debounce(() => {\n  devtoolsContext.hooks.callHook(\"sendInspectorToClient\" /* SEND_INSPECTOR_TO_CLIENT */, getActiveInspectors());\n});\nfunction addInspector(inspector, descriptor) {\n  var _a25, _b25;\n  devtoolsInspector.push({\n    options: inspector,\n    descriptor,\n    treeFilterPlaceholder: (_a25 = inspector.treeFilterPlaceholder) != null ? _a25 : \"Search tree...\",\n    stateFilterPlaceholder: (_b25 = inspector.stateFilterPlaceholder) != null ? _b25 : \"Search state...\",\n    treeFilter: \"\",\n    selectedNodeId: \"\",\n    appRecord: getAppRecord(descriptor.app)\n  });\n  callInspectorUpdatedHook();\n}\nfunction getActiveInspectors() {\n  return devtoolsInspector.filter((inspector) => inspector.descriptor.app === activeAppRecord.value.app).filter((inspector) => inspector.descriptor.id !== \"components\").map((inspector) => {\n    var _a25;\n    const descriptor = inspector.descriptor;\n    const options = inspector.options;\n    return {\n      id: options.id,\n      label: options.label,\n      logo: descriptor.logo,\n      icon: `custom-ic-baseline-${(_a25 = options == null ? void 0 : options.icon) == null ? void 0 : _a25.replace(/_/g, \"-\")}`,\n      packageName: descriptor.packageName,\n      homepage: descriptor.homepage,\n      pluginId: descriptor.id\n    };\n  });\n}\nfunction getInspectorInfo(id) {\n  const inspector = getInspector(id, activeAppRecord.value.app);\n  if (!inspector)\n    return;\n  const descriptor = inspector.descriptor;\n  const options = inspector.options;\n  const timelineLayers = devtoolsTimelineLayers.filter((layer) => layer.descriptorId === descriptor.id).map((item) => ({\n    id: item.id,\n    label: item.label,\n    color: item.color\n  }));\n  return {\n    id: options.id,\n    label: options.label,\n    logo: descriptor.logo,\n    packageName: descriptor.packageName,\n    homepage: descriptor.homepage,\n    timelineLayers,\n    treeFilterPlaceholder: inspector.treeFilterPlaceholder,\n    stateFilterPlaceholder: inspector.stateFilterPlaceholder\n  };\n}\nfunction getInspector(id, app) {\n  return devtoolsInspector.find((inspector) => inspector.options.id === id && (app ? inspector.descriptor.app === app : true));\n}\nfunction getInspectorActions(id) {\n  const inspector = getInspector(id);\n  return inspector == null ? void 0 : inspector.options.actions;\n}\nfunction getInspectorNodeActions(id) {\n  const inspector = getInspector(id);\n  return inspector == null ? void 0 : inspector.options.nodeActions;\n}\n\n// src/ctx/hook.ts\nvar DevToolsV6PluginAPIHookKeys = /* @__PURE__ */ ((DevToolsV6PluginAPIHookKeys2) => {\n  DevToolsV6PluginAPIHookKeys2[\"VISIT_COMPONENT_TREE\"] = \"visitComponentTree\";\n  DevToolsV6PluginAPIHookKeys2[\"INSPECT_COMPONENT\"] = \"inspectComponent\";\n  DevToolsV6PluginAPIHookKeys2[\"EDIT_COMPONENT_STATE\"] = \"editComponentState\";\n  DevToolsV6PluginAPIHookKeys2[\"GET_INSPECTOR_TREE\"] = \"getInspectorTree\";\n  DevToolsV6PluginAPIHookKeys2[\"GET_INSPECTOR_STATE\"] = \"getInspectorState\";\n  DevToolsV6PluginAPIHookKeys2[\"EDIT_INSPECTOR_STATE\"] = \"editInspectorState\";\n  DevToolsV6PluginAPIHookKeys2[\"INSPECT_TIMELINE_EVENT\"] = \"inspectTimelineEvent\";\n  DevToolsV6PluginAPIHookKeys2[\"TIMELINE_CLEARED\"] = \"timelineCleared\";\n  DevToolsV6PluginAPIHookKeys2[\"SET_PLUGIN_SETTINGS\"] = \"setPluginSettings\";\n  return DevToolsV6PluginAPIHookKeys2;\n})(DevToolsV6PluginAPIHookKeys || {});\nvar DevToolsContextHookKeys = /* @__PURE__ */ ((DevToolsContextHookKeys2) => {\n  DevToolsContextHookKeys2[\"ADD_INSPECTOR\"] = \"addInspector\";\n  DevToolsContextHookKeys2[\"SEND_INSPECTOR_TREE\"] = \"sendInspectorTree\";\n  DevToolsContextHookKeys2[\"SEND_INSPECTOR_STATE\"] = \"sendInspectorState\";\n  DevToolsContextHookKeys2[\"CUSTOM_INSPECTOR_SELECT_NODE\"] = \"customInspectorSelectNode\";\n  DevToolsContextHookKeys2[\"TIMELINE_LAYER_ADDED\"] = \"timelineLayerAdded\";\n  DevToolsContextHookKeys2[\"TIMELINE_EVENT_ADDED\"] = \"timelineEventAdded\";\n  DevToolsContextHookKeys2[\"GET_COMPONENT_INSTANCES\"] = \"getComponentInstances\";\n  DevToolsContextHookKeys2[\"GET_COMPONENT_BOUNDS\"] = \"getComponentBounds\";\n  DevToolsContextHookKeys2[\"GET_COMPONENT_NAME\"] = \"getComponentName\";\n  DevToolsContextHookKeys2[\"COMPONENT_HIGHLIGHT\"] = \"componentHighlight\";\n  DevToolsContextHookKeys2[\"COMPONENT_UNHIGHLIGHT\"] = \"componentUnhighlight\";\n  return DevToolsContextHookKeys2;\n})(DevToolsContextHookKeys || {});\nvar DevToolsMessagingHookKeys = /* @__PURE__ */ ((DevToolsMessagingHookKeys2) => {\n  DevToolsMessagingHookKeys2[\"SEND_INSPECTOR_TREE_TO_CLIENT\"] = \"sendInspectorTreeToClient\";\n  DevToolsMessagingHookKeys2[\"SEND_INSPECTOR_STATE_TO_CLIENT\"] = \"sendInspectorStateToClient\";\n  DevToolsMessagingHookKeys2[\"SEND_TIMELINE_EVENT_TO_CLIENT\"] = \"sendTimelineEventToClient\";\n  DevToolsMessagingHookKeys2[\"SEND_INSPECTOR_TO_CLIENT\"] = \"sendInspectorToClient\";\n  DevToolsMessagingHookKeys2[\"SEND_ACTIVE_APP_UNMOUNTED_TO_CLIENT\"] = \"sendActiveAppUpdatedToClient\";\n  DevToolsMessagingHookKeys2[\"DEVTOOLS_STATE_UPDATED\"] = \"devtoolsStateUpdated\";\n  DevToolsMessagingHookKeys2[\"DEVTOOLS_CONNECTED_UPDATED\"] = \"devtoolsConnectedUpdated\";\n  DevToolsMessagingHookKeys2[\"ROUTER_INFO_UPDATED\"] = \"routerInfoUpdated\";\n  return DevToolsMessagingHookKeys2;\n})(DevToolsMessagingHookKeys || {});\nfunction createDevToolsCtxHooks() {\n  const hooks2 = createHooks();\n  hooks2.hook(\"addInspector\" /* ADD_INSPECTOR */, ({ inspector, plugin }) => {\n    addInspector(inspector, plugin.descriptor);\n  });\n  const debounceSendInspectorTree = debounce2(async ({ inspectorId, plugin }) => {\n    var _a25;\n    if (!inspectorId || !((_a25 = plugin == null ? void 0 : plugin.descriptor) == null ? void 0 : _a25.app) || devtoolsState.highPerfModeEnabled)\n      return;\n    const inspector = getInspector(inspectorId, plugin.descriptor.app);\n    const _payload = {\n      app: plugin.descriptor.app,\n      inspectorId,\n      filter: (inspector == null ? void 0 : inspector.treeFilter) || \"\",\n      rootNodes: []\n    };\n    await new Promise((resolve) => {\n      hooks2.callHookWith(async (callbacks) => {\n        await Promise.all(callbacks.map((cb) => cb(_payload)));\n        resolve();\n      }, \"getInspectorTree\" /* GET_INSPECTOR_TREE */);\n    });\n    hooks2.callHookWith(async (callbacks) => {\n      await Promise.all(callbacks.map((cb) => cb({\n        inspectorId,\n        rootNodes: _payload.rootNodes\n      })));\n    }, \"sendInspectorTreeToClient\" /* SEND_INSPECTOR_TREE_TO_CLIENT */);\n  }, 120);\n  hooks2.hook(\"sendInspectorTree\" /* SEND_INSPECTOR_TREE */, debounceSendInspectorTree);\n  const debounceSendInspectorState = debounce2(async ({ inspectorId, plugin }) => {\n    var _a25;\n    if (!inspectorId || !((_a25 = plugin == null ? void 0 : plugin.descriptor) == null ? void 0 : _a25.app) || devtoolsState.highPerfModeEnabled)\n      return;\n    const inspector = getInspector(inspectorId, plugin.descriptor.app);\n    const _payload = {\n      app: plugin.descriptor.app,\n      inspectorId,\n      nodeId: (inspector == null ? void 0 : inspector.selectedNodeId) || \"\",\n      state: null\n    };\n    const ctx = {\n      currentTab: `custom-inspector:${inspectorId}`\n    };\n    if (_payload.nodeId) {\n      await new Promise((resolve) => {\n        hooks2.callHookWith(async (callbacks) => {\n          await Promise.all(callbacks.map((cb) => cb(_payload, ctx)));\n          resolve();\n        }, \"getInspectorState\" /* GET_INSPECTOR_STATE */);\n      });\n    }\n    hooks2.callHookWith(async (callbacks) => {\n      await Promise.all(callbacks.map((cb) => cb({\n        inspectorId,\n        nodeId: _payload.nodeId,\n        state: _payload.state\n      })));\n    }, \"sendInspectorStateToClient\" /* SEND_INSPECTOR_STATE_TO_CLIENT */);\n  }, 120);\n  hooks2.hook(\"sendInspectorState\" /* SEND_INSPECTOR_STATE */, debounceSendInspectorState);\n  hooks2.hook(\"customInspectorSelectNode\" /* CUSTOM_INSPECTOR_SELECT_NODE */, ({ inspectorId, nodeId, plugin }) => {\n    const inspector = getInspector(inspectorId, plugin.descriptor.app);\n    if (!inspector)\n      return;\n    inspector.selectedNodeId = nodeId;\n  });\n  hooks2.hook(\"timelineLayerAdded\" /* TIMELINE_LAYER_ADDED */, ({ options, plugin }) => {\n    addTimelineLayer(options, plugin.descriptor);\n  });\n  hooks2.hook(\"timelineEventAdded\" /* TIMELINE_EVENT_ADDED */, ({ options, plugin }) => {\n    var _a25;\n    const internalLayerIds = [\"performance\", \"component-event\", \"keyboard\", \"mouse\"];\n    if (devtoolsState.highPerfModeEnabled || !((_a25 = devtoolsState.timelineLayersState) == null ? void 0 : _a25[plugin.descriptor.id]) && !internalLayerIds.includes(options.layerId))\n      return;\n    hooks2.callHookWith(async (callbacks) => {\n      await Promise.all(callbacks.map((cb) => cb(options)));\n    }, \"sendTimelineEventToClient\" /* SEND_TIMELINE_EVENT_TO_CLIENT */);\n  });\n  hooks2.hook(\"getComponentInstances\" /* GET_COMPONENT_INSTANCES */, async ({ app }) => {\n    const appRecord = app.__VUE_DEVTOOLS_NEXT_APP_RECORD__;\n    if (!appRecord)\n      return null;\n    const appId = appRecord.id.toString();\n    const instances = [...appRecord.instanceMap].filter(([key]) => key.split(\":\")[0] === appId).map(([, instance]) => instance);\n    return instances;\n  });\n  hooks2.hook(\"getComponentBounds\" /* GET_COMPONENT_BOUNDS */, async ({ instance }) => {\n    const bounds = getComponentBoundingRect(instance);\n    return bounds;\n  });\n  hooks2.hook(\"getComponentName\" /* GET_COMPONENT_NAME */, ({ instance }) => {\n    const name = getInstanceName(instance);\n    return name;\n  });\n  hooks2.hook(\"componentHighlight\" /* COMPONENT_HIGHLIGHT */, ({ uid }) => {\n    const instance = activeAppRecord.value.instanceMap.get(uid);\n    if (instance) {\n      highlight(instance);\n    }\n  });\n  hooks2.hook(\"componentUnhighlight\" /* COMPONENT_UNHIGHLIGHT */, () => {\n    unhighlight();\n  });\n  return hooks2;\n}\n\n// src/ctx/state.ts\nvar _a4, _b4;\n(_b4 = (_a4 = global).__VUE_DEVTOOLS_KIT_APP_RECORDS__) != null ? _b4 : _a4.__VUE_DEVTOOLS_KIT_APP_RECORDS__ = [];\nvar _a5, _b5;\n(_b5 = (_a5 = global).__VUE_DEVTOOLS_KIT_ACTIVE_APP_RECORD__) != null ? _b5 : _a5.__VUE_DEVTOOLS_KIT_ACTIVE_APP_RECORD__ = {};\nvar _a6, _b6;\n(_b6 = (_a6 = global).__VUE_DEVTOOLS_KIT_ACTIVE_APP_RECORD_ID__) != null ? _b6 : _a6.__VUE_DEVTOOLS_KIT_ACTIVE_APP_RECORD_ID__ = \"\";\nvar _a7, _b7;\n(_b7 = (_a7 = global).__VUE_DEVTOOLS_KIT_CUSTOM_TABS__) != null ? _b7 : _a7.__VUE_DEVTOOLS_KIT_CUSTOM_TABS__ = [];\nvar _a8, _b8;\n(_b8 = (_a8 = global).__VUE_DEVTOOLS_KIT_CUSTOM_COMMANDS__) != null ? _b8 : _a8.__VUE_DEVTOOLS_KIT_CUSTOM_COMMANDS__ = [];\nvar STATE_KEY = \"__VUE_DEVTOOLS_KIT_GLOBAL_STATE__\";\nfunction initStateFactory() {\n  return {\n    connected: false,\n    clientConnected: false,\n    vitePluginDetected: true,\n    appRecords: [],\n    activeAppRecordId: \"\",\n    tabs: [],\n    commands: [],\n    highPerfModeEnabled: true,\n    devtoolsClientDetected: {},\n    perfUniqueGroupId: 0,\n    timelineLayersState: getTimelineLayersStateFromStorage()\n  };\n}\nvar _a9, _b9;\n(_b9 = (_a9 = global)[STATE_KEY]) != null ? _b9 : _a9[STATE_KEY] = initStateFactory();\nvar callStateUpdatedHook = debounce3((state) => {\n  devtoolsContext.hooks.callHook(\"devtoolsStateUpdated\" /* DEVTOOLS_STATE_UPDATED */, { state });\n});\nvar callConnectedUpdatedHook = debounce3((state, oldState) => {\n  devtoolsContext.hooks.callHook(\"devtoolsConnectedUpdated\" /* DEVTOOLS_CONNECTED_UPDATED */, { state, oldState });\n});\nvar devtoolsAppRecords = new Proxy(global.__VUE_DEVTOOLS_KIT_APP_RECORDS__, {\n  get(_target, prop, receiver) {\n    if (prop === \"value\")\n      return global.__VUE_DEVTOOLS_KIT_APP_RECORDS__;\n    return global.__VUE_DEVTOOLS_KIT_APP_RECORDS__[prop];\n  }\n});\nvar addDevToolsAppRecord = (app) => {\n  global.__VUE_DEVTOOLS_KIT_APP_RECORDS__ = [\n    ...global.__VUE_DEVTOOLS_KIT_APP_RECORDS__,\n    app\n  ];\n};\nvar removeDevToolsAppRecord = (app) => {\n  global.__VUE_DEVTOOLS_KIT_APP_RECORDS__ = devtoolsAppRecords.value.filter((record) => record.app !== app);\n};\nvar activeAppRecord = new Proxy(global.__VUE_DEVTOOLS_KIT_ACTIVE_APP_RECORD__, {\n  get(_target, prop, receiver) {\n    if (prop === \"value\")\n      return global.__VUE_DEVTOOLS_KIT_ACTIVE_APP_RECORD__;\n    else if (prop === \"id\")\n      return global.__VUE_DEVTOOLS_KIT_ACTIVE_APP_RECORD_ID__;\n    return global.__VUE_DEVTOOLS_KIT_ACTIVE_APP_RECORD__[prop];\n  }\n});\nfunction updateAllStates() {\n  callStateUpdatedHook({\n    ...global[STATE_KEY],\n    appRecords: devtoolsAppRecords.value,\n    activeAppRecordId: activeAppRecord.id,\n    tabs: global.__VUE_DEVTOOLS_KIT_CUSTOM_TABS__,\n    commands: global.__VUE_DEVTOOLS_KIT_CUSTOM_COMMANDS__\n  });\n}\nfunction setActiveAppRecord(app) {\n  global.__VUE_DEVTOOLS_KIT_ACTIVE_APP_RECORD__ = app;\n  updateAllStates();\n}\nfunction setActiveAppRecordId(id) {\n  global.__VUE_DEVTOOLS_KIT_ACTIVE_APP_RECORD_ID__ = id;\n  updateAllStates();\n}\nvar devtoolsState = new Proxy(global[STATE_KEY], {\n  get(target22, property) {\n    if (property === \"appRecords\") {\n      return devtoolsAppRecords;\n    } else if (property === \"activeAppRecordId\") {\n      return activeAppRecord.id;\n    } else if (property === \"tabs\") {\n      return global.__VUE_DEVTOOLS_KIT_CUSTOM_TABS__;\n    } else if (property === \"commands\") {\n      return global.__VUE_DEVTOOLS_KIT_CUSTOM_COMMANDS__;\n    }\n    return global[STATE_KEY][property];\n  },\n  deleteProperty(target22, property) {\n    delete target22[property];\n    return true;\n  },\n  set(target22, property, value) {\n    const oldState = { ...global[STATE_KEY] };\n    target22[property] = value;\n    global[STATE_KEY][property] = value;\n    return true;\n  }\n});\nfunction resetDevToolsState() {\n  Object.assign(global[STATE_KEY], initStateFactory());\n}\nfunction updateDevToolsState(state) {\n  const oldState = {\n    ...global[STATE_KEY],\n    appRecords: devtoolsAppRecords.value,\n    activeAppRecordId: activeAppRecord.id\n  };\n  if (oldState.connected !== state.connected && state.connected || oldState.clientConnected !== state.clientConnected && state.clientConnected) {\n    callConnectedUpdatedHook(global[STATE_KEY], oldState);\n  }\n  Object.assign(global[STATE_KEY], state);\n  updateAllStates();\n}\nfunction onDevToolsConnected(fn) {\n  return new Promise((resolve) => {\n    if (devtoolsState.connected) {\n      fn();\n      resolve();\n    }\n    devtoolsContext.hooks.hook(\"devtoolsConnectedUpdated\" /* DEVTOOLS_CONNECTED_UPDATED */, ({ state }) => {\n      if (state.connected) {\n        fn();\n        resolve();\n      }\n    });\n  });\n}\nvar resolveIcon = (icon) => {\n  if (!icon)\n    return;\n  if (icon.startsWith(\"baseline-\")) {\n    return `custom-ic-${icon}`;\n  }\n  if (icon.startsWith(\"i-\") || isUrlString(icon))\n    return icon;\n  return `custom-ic-baseline-${icon}`;\n};\nfunction addCustomTab(tab) {\n  const tabs = global.__VUE_DEVTOOLS_KIT_CUSTOM_TABS__;\n  if (tabs.some((t) => t.name === tab.name))\n    return;\n  tabs.push({\n    ...tab,\n    icon: resolveIcon(tab.icon)\n  });\n  updateAllStates();\n}\nfunction addCustomCommand(action) {\n  const commands = global.__VUE_DEVTOOLS_KIT_CUSTOM_COMMANDS__;\n  if (commands.some((t) => t.id === action.id))\n    return;\n  commands.push({\n    ...action,\n    icon: resolveIcon(action.icon),\n    children: action.children ? action.children.map((child) => ({\n      ...child,\n      icon: resolveIcon(child.icon)\n    })) : void 0\n  });\n  updateAllStates();\n}\nfunction removeCustomCommand(actionId) {\n  const commands = global.__VUE_DEVTOOLS_KIT_CUSTOM_COMMANDS__;\n  const index = commands.findIndex((t) => t.id === actionId);\n  if (index === -1)\n    return;\n  commands.splice(index, 1);\n  updateAllStates();\n}\nfunction toggleClientConnected(state) {\n  updateDevToolsState({ clientConnected: state });\n}\n\n// src/core/open-in-editor/index.ts\nfunction setOpenInEditorBaseUrl(url) {\n  target5.__VUE_DEVTOOLS_OPEN_IN_EDITOR_BASE_URL__ = url;\n}\nfunction openInEditor(options = {}) {\n  var _a25, _b25, _c;\n  const { file, host, baseUrl = window.location.origin, line = 0, column = 0 } = options;\n  if (file) {\n    if (host === \"chrome-extension\") {\n      const fileName = file.replace(/\\\\/g, \"\\\\\\\\\");\n      const _baseUrl = (_b25 = (_a25 = window.VUE_DEVTOOLS_CONFIG) == null ? void 0 : _a25.openInEditorHost) != null ? _b25 : \"/\";\n      fetch(`${_baseUrl}__open-in-editor?file=${encodeURI(file)}`).then((response) => {\n        if (!response.ok) {\n          const msg = `Opening component ${fileName} failed`;\n          console.log(`%c${msg}`, \"color:red\");\n        }\n      });\n    } else if (devtoolsState.vitePluginDetected) {\n      const _baseUrl = (_c = target5.__VUE_DEVTOOLS_OPEN_IN_EDITOR_BASE_URL__) != null ? _c : baseUrl;\n      target5.__VUE_INSPECTOR__.openInEditor(_baseUrl, file, line, column);\n    }\n  }\n}\n\n// src/core/plugin/index.ts\ninit_esm_shims();\nimport { target as target8 } from \"@vue/devtools-shared\";\n\n// src/api/index.ts\ninit_esm_shims();\n\n// src/api/v6/index.ts\ninit_esm_shims();\n\n// src/core/plugin/plugin-settings.ts\ninit_esm_shims();\n\n// src/ctx/plugin.ts\ninit_esm_shims();\nimport { target as target6 } from \"@vue/devtools-shared\";\nvar _a10, _b10;\n(_b10 = (_a10 = target6).__VUE_DEVTOOLS_KIT_PLUGIN_BUFFER__) != null ? _b10 : _a10.__VUE_DEVTOOLS_KIT_PLUGIN_BUFFER__ = [];\nvar devtoolsPluginBuffer = new Proxy(target6.__VUE_DEVTOOLS_KIT_PLUGIN_BUFFER__, {\n  get(target22, prop, receiver) {\n    return Reflect.get(target22, prop, receiver);\n  }\n});\nfunction addDevToolsPluginToBuffer(pluginDescriptor, setupFn) {\n  devtoolsPluginBuffer.push([pluginDescriptor, setupFn]);\n}\n\n// src/core/plugin/plugin-settings.ts\nfunction _getSettings(settings) {\n  const _settings = {};\n  Object.keys(settings).forEach((key) => {\n    _settings[key] = settings[key].defaultValue;\n  });\n  return _settings;\n}\nfunction getPluginLocalKey(pluginId) {\n  return `__VUE_DEVTOOLS_NEXT_PLUGIN_SETTINGS__${pluginId}__`;\n}\nfunction getPluginSettingsOptions(pluginId) {\n  var _a25, _b25, _c;\n  const item = (_b25 = (_a25 = devtoolsPluginBuffer.find((item2) => {\n    var _a26;\n    return item2[0].id === pluginId && !!((_a26 = item2[0]) == null ? void 0 : _a26.settings);\n  })) == null ? void 0 : _a25[0]) != null ? _b25 : null;\n  return (_c = item == null ? void 0 : item.settings) != null ? _c : null;\n}\nfunction getPluginSettings(pluginId, fallbackValue) {\n  var _a25, _b25, _c;\n  const localKey = getPluginLocalKey(pluginId);\n  if (localKey) {\n    const localSettings = localStorage.getItem(localKey);\n    if (localSettings) {\n      return JSON.parse(localSettings);\n    }\n  }\n  if (pluginId) {\n    const item = (_b25 = (_a25 = devtoolsPluginBuffer.find((item2) => item2[0].id === pluginId)) == null ? void 0 : _a25[0]) != null ? _b25 : null;\n    return _getSettings((_c = item == null ? void 0 : item.settings) != null ? _c : {});\n  }\n  return _getSettings(fallbackValue);\n}\nfunction initPluginSettings(pluginId, settings) {\n  const localKey = getPluginLocalKey(pluginId);\n  const localSettings = localStorage.getItem(localKey);\n  if (!localSettings) {\n    localStorage.setItem(localKey, JSON.stringify(_getSettings(settings)));\n  }\n}\nfunction setPluginSettings(pluginId, key, value) {\n  const localKey = getPluginLocalKey(pluginId);\n  const localSettings = localStorage.getItem(localKey);\n  const parsedLocalSettings = JSON.parse(localSettings || \"{}\");\n  const updated = {\n    ...parsedLocalSettings,\n    [key]: value\n  };\n  localStorage.setItem(localKey, JSON.stringify(updated));\n  devtoolsContext.hooks.callHookWith((callbacks) => {\n    callbacks.forEach((cb) => cb({\n      pluginId,\n      key,\n      oldValue: parsedLocalSettings[key],\n      newValue: value,\n      settings: updated\n    }));\n  }, \"setPluginSettings\" /* SET_PLUGIN_SETTINGS */);\n}\n\n// src/hook/index.ts\ninit_esm_shims();\nimport { target as target7 } from \"@vue/devtools-shared\";\nimport { createHooks as createHooks2 } from \"hookable\";\n\n// src/types/index.ts\ninit_esm_shims();\n\n// src/types/app.ts\ninit_esm_shims();\n\n// src/types/command.ts\ninit_esm_shims();\n\n// src/types/component.ts\ninit_esm_shims();\n\n// src/types/hook.ts\ninit_esm_shims();\n\n// src/types/inspector.ts\ninit_esm_shims();\n\n// src/types/plugin.ts\ninit_esm_shims();\n\n// src/types/router.ts\ninit_esm_shims();\n\n// src/types/tab.ts\ninit_esm_shims();\n\n// src/types/timeline.ts\ninit_esm_shims();\n\n// src/hook/index.ts\nvar _a11, _b11;\nvar devtoolsHooks = (_b11 = (_a11 = target7).__VUE_DEVTOOLS_HOOK) != null ? _b11 : _a11.__VUE_DEVTOOLS_HOOK = createHooks2();\nvar on = {\n  vueAppInit(fn) {\n    devtoolsHooks.hook(\"app:init\" /* APP_INIT */, fn);\n  },\n  vueAppUnmount(fn) {\n    devtoolsHooks.hook(\"app:unmount\" /* APP_UNMOUNT */, fn);\n  },\n  vueAppConnected(fn) {\n    devtoolsHooks.hook(\"app:connected\" /* APP_CONNECTED */, fn);\n  },\n  componentAdded(fn) {\n    return devtoolsHooks.hook(\"component:added\" /* COMPONENT_ADDED */, fn);\n  },\n  componentEmit(fn) {\n    return devtoolsHooks.hook(\"component:emit\" /* COMPONENT_EMIT */, fn);\n  },\n  componentUpdated(fn) {\n    return devtoolsHooks.hook(\"component:updated\" /* COMPONENT_UPDATED */, fn);\n  },\n  componentRemoved(fn) {\n    return devtoolsHooks.hook(\"component:removed\" /* COMPONENT_REMOVED */, fn);\n  },\n  setupDevtoolsPlugin(fn) {\n    devtoolsHooks.hook(\"devtools-plugin:setup\" /* SETUP_DEVTOOLS_PLUGIN */, fn);\n  },\n  perfStart(fn) {\n    return devtoolsHooks.hook(\"perf:start\" /* PERFORMANCE_START */, fn);\n  },\n  perfEnd(fn) {\n    return devtoolsHooks.hook(\"perf:end\" /* PERFORMANCE_END */, fn);\n  }\n};\nfunction createDevToolsHook() {\n  return {\n    id: \"vue-devtools-next\",\n    devtoolsVersion: \"7.0\",\n    enabled: false,\n    appRecords: [],\n    apps: [],\n    events: /* @__PURE__ */ new Map(),\n    on(event, fn) {\n      var _a25;\n      if (!this.events.has(event))\n        this.events.set(event, []);\n      (_a25 = this.events.get(event)) == null ? void 0 : _a25.push(fn);\n      return () => this.off(event, fn);\n    },\n    once(event, fn) {\n      const onceFn = (...args) => {\n        this.off(event, onceFn);\n        fn(...args);\n      };\n      this.on(event, onceFn);\n      return [event, onceFn];\n    },\n    off(event, fn) {\n      if (this.events.has(event)) {\n        const eventCallbacks = this.events.get(event);\n        const index = eventCallbacks.indexOf(fn);\n        if (index !== -1)\n          eventCallbacks.splice(index, 1);\n      }\n    },\n    emit(event, ...payload) {\n      if (this.events.has(event))\n        this.events.get(event).forEach((fn) => fn(...payload));\n    }\n  };\n}\nfunction subscribeDevToolsHook(hook2) {\n  hook2.on(\"app:init\" /* APP_INIT */, (app, version, types) => {\n    var _a25, _b25, _c;\n    if ((_c = (_b25 = (_a25 = app == null ? void 0 : app._instance) == null ? void 0 : _a25.type) == null ? void 0 : _b25.devtools) == null ? void 0 : _c.hide)\n      return;\n    devtoolsHooks.callHook(\"app:init\" /* APP_INIT */, app, version, types);\n  });\n  hook2.on(\"app:unmount\" /* APP_UNMOUNT */, (app) => {\n    devtoolsHooks.callHook(\"app:unmount\" /* APP_UNMOUNT */, app);\n  });\n  hook2.on(\"component:added\" /* COMPONENT_ADDED */, async (app, uid, parentUid, component) => {\n    var _a25, _b25, _c;\n    if (((_c = (_b25 = (_a25 = app == null ? void 0 : app._instance) == null ? void 0 : _a25.type) == null ? void 0 : _b25.devtools) == null ? void 0 : _c.hide) || devtoolsState.highPerfModeEnabled)\n      return;\n    if (!app || typeof uid !== \"number\" && !uid || !component)\n      return;\n    devtoolsHooks.callHook(\"component:added\" /* COMPONENT_ADDED */, app, uid, parentUid, component);\n  });\n  hook2.on(\"component:updated\" /* COMPONENT_UPDATED */, (app, uid, parentUid, component) => {\n    if (!app || typeof uid !== \"number\" && !uid || !component || devtoolsState.highPerfModeEnabled)\n      return;\n    devtoolsHooks.callHook(\"component:updated\" /* COMPONENT_UPDATED */, app, uid, parentUid, component);\n  });\n  hook2.on(\"component:removed\" /* COMPONENT_REMOVED */, async (app, uid, parentUid, component) => {\n    if (!app || typeof uid !== \"number\" && !uid || !component || devtoolsState.highPerfModeEnabled)\n      return;\n    devtoolsHooks.callHook(\"component:removed\" /* COMPONENT_REMOVED */, app, uid, parentUid, component);\n  });\n  hook2.on(\"component:emit\" /* COMPONENT_EMIT */, async (app, instance, event, params) => {\n    if (!app || !instance || devtoolsState.highPerfModeEnabled)\n      return;\n    devtoolsHooks.callHook(\"component:emit\" /* COMPONENT_EMIT */, app, instance, event, params);\n  });\n  hook2.on(\"perf:start\" /* PERFORMANCE_START */, (app, uid, vm, type, time) => {\n    if (!app || devtoolsState.highPerfModeEnabled)\n      return;\n    devtoolsHooks.callHook(\"perf:start\" /* PERFORMANCE_START */, app, uid, vm, type, time);\n  });\n  hook2.on(\"perf:end\" /* PERFORMANCE_END */, (app, uid, vm, type, time) => {\n    if (!app || devtoolsState.highPerfModeEnabled)\n      return;\n    devtoolsHooks.callHook(\"perf:end\" /* PERFORMANCE_END */, app, uid, vm, type, time);\n  });\n  hook2.on(\"devtools-plugin:setup\" /* SETUP_DEVTOOLS_PLUGIN */, (pluginDescriptor, setupFn, options) => {\n    if ((options == null ? void 0 : options.target) === \"legacy\")\n      return;\n    devtoolsHooks.callHook(\"devtools-plugin:setup\" /* SETUP_DEVTOOLS_PLUGIN */, pluginDescriptor, setupFn);\n  });\n}\nvar hook = {\n  on,\n  setupDevToolsPlugin(pluginDescriptor, setupFn) {\n    return devtoolsHooks.callHook(\"devtools-plugin:setup\" /* SETUP_DEVTOOLS_PLUGIN */, pluginDescriptor, setupFn);\n  }\n};\n\n// src/api/v6/index.ts\nvar DevToolsV6PluginAPI = class {\n  constructor({ plugin, ctx }) {\n    this.hooks = ctx.hooks;\n    this.plugin = plugin;\n  }\n  get on() {\n    return {\n      // component inspector\n      visitComponentTree: (handler) => {\n        this.hooks.hook(\"visitComponentTree\" /* VISIT_COMPONENT_TREE */, handler);\n      },\n      inspectComponent: (handler) => {\n        this.hooks.hook(\"inspectComponent\" /* INSPECT_COMPONENT */, handler);\n      },\n      editComponentState: (handler) => {\n        this.hooks.hook(\"editComponentState\" /* EDIT_COMPONENT_STATE */, handler);\n      },\n      // custom inspector\n      getInspectorTree: (handler) => {\n        this.hooks.hook(\"getInspectorTree\" /* GET_INSPECTOR_TREE */, handler);\n      },\n      getInspectorState: (handler) => {\n        this.hooks.hook(\"getInspectorState\" /* GET_INSPECTOR_STATE */, handler);\n      },\n      editInspectorState: (handler) => {\n        this.hooks.hook(\"editInspectorState\" /* EDIT_INSPECTOR_STATE */, handler);\n      },\n      // timeline\n      inspectTimelineEvent: (handler) => {\n        this.hooks.hook(\"inspectTimelineEvent\" /* INSPECT_TIMELINE_EVENT */, handler);\n      },\n      timelineCleared: (handler) => {\n        this.hooks.hook(\"timelineCleared\" /* TIMELINE_CLEARED */, handler);\n      },\n      // settings\n      setPluginSettings: (handler) => {\n        this.hooks.hook(\"setPluginSettings\" /* SET_PLUGIN_SETTINGS */, handler);\n      }\n    };\n  }\n  // component inspector\n  notifyComponentUpdate(instance) {\n    var _a25;\n    if (devtoolsState.highPerfModeEnabled) {\n      return;\n    }\n    const inspector = getActiveInspectors().find((i) => i.packageName === this.plugin.descriptor.packageName);\n    if (inspector == null ? void 0 : inspector.id) {\n      if (instance) {\n        const args = [\n          instance.appContext.app,\n          instance.uid,\n          (_a25 = instance.parent) == null ? void 0 : _a25.uid,\n          instance\n        ];\n        devtoolsHooks.callHook(\"component:updated\" /* COMPONENT_UPDATED */, ...args);\n      } else {\n        devtoolsHooks.callHook(\"component:updated\" /* COMPONENT_UPDATED */);\n      }\n      this.hooks.callHook(\"sendInspectorState\" /* SEND_INSPECTOR_STATE */, { inspectorId: inspector.id, plugin: this.plugin });\n    }\n  }\n  // custom inspector\n  addInspector(options) {\n    this.hooks.callHook(\"addInspector\" /* ADD_INSPECTOR */, { inspector: options, plugin: this.plugin });\n    if (this.plugin.descriptor.settings) {\n      initPluginSettings(options.id, this.plugin.descriptor.settings);\n    }\n  }\n  sendInspectorTree(inspectorId) {\n    if (devtoolsState.highPerfModeEnabled) {\n      return;\n    }\n    this.hooks.callHook(\"sendInspectorTree\" /* SEND_INSPECTOR_TREE */, { inspectorId, plugin: this.plugin });\n  }\n  sendInspectorState(inspectorId) {\n    if (devtoolsState.highPerfModeEnabled) {\n      return;\n    }\n    this.hooks.callHook(\"sendInspectorState\" /* SEND_INSPECTOR_STATE */, { inspectorId, plugin: this.plugin });\n  }\n  selectInspectorNode(inspectorId, nodeId) {\n    this.hooks.callHook(\"customInspectorSelectNode\" /* CUSTOM_INSPECTOR_SELECT_NODE */, { inspectorId, nodeId, plugin: this.plugin });\n  }\n  visitComponentTree(payload) {\n    return this.hooks.callHook(\"visitComponentTree\" /* VISIT_COMPONENT_TREE */, payload);\n  }\n  // timeline\n  now() {\n    if (devtoolsState.highPerfModeEnabled) {\n      return 0;\n    }\n    return Date.now();\n  }\n  addTimelineLayer(options) {\n    this.hooks.callHook(\"timelineLayerAdded\" /* TIMELINE_LAYER_ADDED */, { options, plugin: this.plugin });\n  }\n  addTimelineEvent(options) {\n    if (devtoolsState.highPerfModeEnabled) {\n      return;\n    }\n    this.hooks.callHook(\"timelineEventAdded\" /* TIMELINE_EVENT_ADDED */, { options, plugin: this.plugin });\n  }\n  // settings\n  getSettings(pluginId) {\n    return getPluginSettings(pluginId != null ? pluginId : this.plugin.descriptor.id, this.plugin.descriptor.settings);\n  }\n  // utilities\n  getComponentInstances(app) {\n    return this.hooks.callHook(\"getComponentInstances\" /* GET_COMPONENT_INSTANCES */, { app });\n  }\n  getComponentBounds(instance) {\n    return this.hooks.callHook(\"getComponentBounds\" /* GET_COMPONENT_BOUNDS */, { instance });\n  }\n  getComponentName(instance) {\n    return this.hooks.callHook(\"getComponentName\" /* GET_COMPONENT_NAME */, { instance });\n  }\n  highlightElement(instance) {\n    const uid = instance.__VUE_DEVTOOLS_NEXT_UID__;\n    return this.hooks.callHook(\"componentHighlight\" /* COMPONENT_HIGHLIGHT */, { uid });\n  }\n  unhighlightElement() {\n    return this.hooks.callHook(\"componentUnhighlight\" /* COMPONENT_UNHIGHLIGHT */);\n  }\n};\n\n// src/api/index.ts\nvar DevToolsPluginAPI = DevToolsV6PluginAPI;\n\n// src/core/plugin/components.ts\ninit_esm_shims();\nimport { debounce as debounce4 } from \"perfect-debounce\";\n\n// src/core/component/state/index.ts\ninit_esm_shims();\n\n// src/core/component/state/process.ts\ninit_esm_shims();\nimport { camelize } from \"@vue/devtools-shared\";\n\n// src/core/component/state/constants.ts\ninit_esm_shims();\nvar vueBuiltins = /* @__PURE__ */ new Set([\n  \"nextTick\",\n  \"defineComponent\",\n  \"defineAsyncComponent\",\n  \"defineCustomElement\",\n  \"ref\",\n  \"computed\",\n  \"reactive\",\n  \"readonly\",\n  \"watchEffect\",\n  \"watchPostEffect\",\n  \"watchSyncEffect\",\n  \"watch\",\n  \"isRef\",\n  \"unref\",\n  \"toRef\",\n  \"toRefs\",\n  \"isProxy\",\n  \"isReactive\",\n  \"isReadonly\",\n  \"shallowRef\",\n  \"triggerRef\",\n  \"customRef\",\n  \"shallowReactive\",\n  \"shallowReadonly\",\n  \"toRaw\",\n  \"markRaw\",\n  \"effectScope\",\n  \"getCurrentScope\",\n  \"onScopeDispose\",\n  \"onMounted\",\n  \"onUpdated\",\n  \"onUnmounted\",\n  \"onBeforeMount\",\n  \"onBeforeUpdate\",\n  \"onBeforeUnmount\",\n  \"onErrorCaptured\",\n  \"onRenderTracked\",\n  \"onRenderTriggered\",\n  \"onActivated\",\n  \"onDeactivated\",\n  \"onServerPrefetch\",\n  \"provide\",\n  \"inject\",\n  \"h\",\n  \"mergeProps\",\n  \"cloneVNode\",\n  \"isVNode\",\n  \"resolveComponent\",\n  \"resolveDirective\",\n  \"withDirectives\",\n  \"withModifiers\"\n]);\nvar symbolRE = /^\\[native Symbol Symbol\\((.*)\\)\\]$/;\nvar rawTypeRE = /^\\[object (\\w+)\\]$/;\nvar specialTypeRE = /^\\[native (\\w+) (.*?)(<>(([\\s\\S])*))?\\]$/;\nvar fnTypeRE = /^(?:function|class) (\\w+)/;\nvar MAX_STRING_SIZE = 1e4;\nvar MAX_ARRAY_SIZE = 5e3;\nvar UNDEFINED = \"__vue_devtool_undefined__\";\nvar INFINITY = \"__vue_devtool_infinity__\";\nvar NEGATIVE_INFINITY = \"__vue_devtool_negative_infinity__\";\nvar NAN = \"__vue_devtool_nan__\";\nvar ESC = {\n  \"<\": \"&lt;\",\n  \">\": \"&gt;\",\n  '\"': \"&quot;\",\n  \"&\": \"&amp;\"\n};\n\n// src/core/component/state/util.ts\ninit_esm_shims();\n\n// src/core/component/state/is.ts\ninit_esm_shims();\nfunction isVueInstance(value) {\n  if (!ensurePropertyExists(value, \"_\")) {\n    return false;\n  }\n  if (!isPlainObject(value._)) {\n    return false;\n  }\n  return Object.keys(value._).includes(\"vnode\");\n}\nfunction isPlainObject(obj) {\n  return Object.prototype.toString.call(obj) === \"[object Object]\";\n}\nfunction isPrimitive(data) {\n  if (data == null)\n    return true;\n  const type = typeof data;\n  return type === \"string\" || type === \"number\" || type === \"boolean\";\n}\nfunction isRef2(raw) {\n  return !!raw.__v_isRef;\n}\nfunction isComputed(raw) {\n  return isRef2(raw) && !!raw.effect;\n}\nfunction isReactive2(raw) {\n  return !!raw.__v_isReactive;\n}\nfunction isReadOnly(raw) {\n  return !!raw.__v_isReadonly;\n}\n\n// src/core/component/state/util.ts\nvar tokenMap = {\n  [UNDEFINED]: \"undefined\",\n  [NAN]: \"NaN\",\n  [INFINITY]: \"Infinity\",\n  [NEGATIVE_INFINITY]: \"-Infinity\"\n};\nvar reversedTokenMap = Object.entries(tokenMap).reduce((acc, [key, value]) => {\n  acc[value] = key;\n  return acc;\n}, {});\nfunction internalStateTokenToString(value) {\n  if (value === null)\n    return \"null\";\n  return typeof value === \"string\" && tokenMap[value] || false;\n}\nfunction replaceTokenToString(value) {\n  const replaceRegex = new RegExp(`\"(${Object.keys(tokenMap).join(\"|\")})\"`, \"g\");\n  return value.replace(replaceRegex, (_, g1) => tokenMap[g1]);\n}\nfunction replaceStringToToken(value) {\n  const literalValue = reversedTokenMap[value.trim()];\n  if (literalValue)\n    return `\"${literalValue}\"`;\n  const replaceRegex = new RegExp(`:\\\\s*(${Object.keys(reversedTokenMap).join(\"|\")})`, \"g\");\n  return value.replace(replaceRegex, (_, g1) => `:\"${reversedTokenMap[g1]}\"`);\n}\nfunction getPropType(type) {\n  if (Array.isArray(type))\n    return type.map((t) => getPropType(t)).join(\" or \");\n  if (type == null)\n    return \"null\";\n  const match = type.toString().match(fnTypeRE);\n  return typeof type === \"function\" ? match && match[1] || \"any\" : \"any\";\n}\nfunction sanitize(data) {\n  if (!isPrimitive(data) && !Array.isArray(data) && !isPlainObject(data)) {\n    return Object.prototype.toString.call(data);\n  } else {\n    return data;\n  }\n}\nfunction getSetupStateType(raw) {\n  try {\n    return {\n      ref: isRef2(raw),\n      computed: isComputed(raw),\n      reactive: isReactive2(raw),\n      readonly: isReadOnly(raw)\n    };\n  } catch (e) {\n    return {\n      ref: false,\n      computed: false,\n      reactive: false,\n      readonly: false\n    };\n  }\n}\nfunction toRaw2(value) {\n  if (value == null ? void 0 : value.__v_raw)\n    return value.__v_raw;\n  return value;\n}\nfunction escape(s) {\n  return s.replace(/[<>\"&]/g, (s2) => {\n    return ESC[s2] || s2;\n  });\n}\n\n// src/core/component/state/process.ts\nfunction mergeOptions(to, from, instance) {\n  if (typeof from === \"function\")\n    from = from.options;\n  if (!from)\n    return to;\n  const { mixins, extends: extendsOptions } = from;\n  extendsOptions && mergeOptions(to, extendsOptions, instance);\n  mixins && mixins.forEach(\n    (m) => mergeOptions(to, m, instance)\n  );\n  for (const key of [\"computed\", \"inject\"]) {\n    if (Object.prototype.hasOwnProperty.call(from, key)) {\n      if (!to[key])\n        to[key] = from[key];\n      else\n        Object.assign(to[key], from[key]);\n    }\n  }\n  return to;\n}\nfunction resolveMergedOptions(instance) {\n  const raw = instance == null ? void 0 : instance.type;\n  if (!raw)\n    return {};\n  const { mixins, extends: extendsOptions } = raw;\n  const globalMixins = instance.appContext.mixins;\n  if (!globalMixins.length && !mixins && !extendsOptions)\n    return raw;\n  const options = {};\n  globalMixins.forEach((m) => mergeOptions(options, m, instance));\n  mergeOptions(options, raw, instance);\n  return options;\n}\nfunction processProps(instance) {\n  var _a25;\n  const props = [];\n  const propDefinitions = (_a25 = instance == null ? void 0 : instance.type) == null ? void 0 : _a25.props;\n  for (const key in instance == null ? void 0 : instance.props) {\n    const propDefinition = propDefinitions ? propDefinitions[key] : null;\n    const camelizeKey = camelize(key);\n    props.push({\n      type: \"props\",\n      key: camelizeKey,\n      value: returnError(() => instance.props[key]),\n      editable: true,\n      meta: propDefinition ? {\n        type: propDefinition.type ? getPropType(propDefinition.type) : \"any\",\n        required: !!propDefinition.required,\n        ...propDefinition.default ? {\n          default: propDefinition.default.toString()\n        } : {}\n      } : { type: \"invalid\" }\n    });\n  }\n  return props;\n}\nfunction processState(instance) {\n  const type = instance.type;\n  const props = type == null ? void 0 : type.props;\n  const getters = type.vuex && type.vuex.getters;\n  const computedDefs = type.computed;\n  const data = {\n    ...instance.data,\n    ...instance.renderContext\n  };\n  return Object.keys(data).filter((key) => !(props && key in props) && !(getters && key in getters) && !(computedDefs && key in computedDefs)).map((key) => ({\n    key,\n    type: \"data\",\n    value: returnError(() => data[key]),\n    editable: true\n  }));\n}\nfunction getStateTypeAndName(info) {\n  const stateType = info.computed ? \"computed\" : info.ref ? \"ref\" : info.reactive ? \"reactive\" : null;\n  const stateTypeName = stateType ? `${stateType.charAt(0).toUpperCase()}${stateType.slice(1)}` : null;\n  return {\n    stateType,\n    stateTypeName\n  };\n}\nfunction processSetupState(instance) {\n  const raw = instance.devtoolsRawSetupState || {};\n  return Object.keys(instance.setupState).filter((key) => !vueBuiltins.has(key) && key.split(/(?=[A-Z])/)[0] !== \"use\").map((key) => {\n    var _a25, _b25, _c, _d;\n    const value = returnError(() => toRaw2(instance.setupState[key]));\n    const accessError = value instanceof Error;\n    const rawData = raw[key];\n    let result;\n    let isOtherType = accessError || typeof value === \"function\" || ensurePropertyExists(value, \"render\") && typeof value.render === \"function\" || ensurePropertyExists(value, \"__asyncLoader\") && typeof value.__asyncLoader === \"function\" || typeof value === \"object\" && value && (\"setup\" in value || \"props\" in value) || /^v[A-Z]/.test(key);\n    if (rawData && !accessError) {\n      const info = getSetupStateType(rawData);\n      const { stateType, stateTypeName } = getStateTypeAndName(info);\n      const isState = info.ref || info.computed || info.reactive;\n      const raw2 = ensurePropertyExists(rawData, \"effect\") ? ((_b25 = (_a25 = rawData.effect) == null ? void 0 : _a25.raw) == null ? void 0 : _b25.toString()) || ((_d = (_c = rawData.effect) == null ? void 0 : _c.fn) == null ? void 0 : _d.toString()) : null;\n      if (stateType)\n        isOtherType = false;\n      result = {\n        ...stateType ? { stateType, stateTypeName } : {},\n        ...raw2 ? { raw: raw2 } : {},\n        editable: isState && !info.readonly\n      };\n    }\n    const type = isOtherType ? \"setup (other)\" : \"setup\";\n    return {\n      key,\n      value,\n      type,\n      // @ts-expect-error ignore\n      ...result\n    };\n  });\n}\nfunction processComputed(instance, mergedType) {\n  const type = mergedType;\n  const computed = [];\n  const defs = type.computed || {};\n  for (const key in defs) {\n    const def = defs[key];\n    const type2 = typeof def === \"function\" && def.vuex ? \"vuex bindings\" : \"computed\";\n    computed.push({\n      type: type2,\n      key,\n      value: returnError(() => {\n        var _a25;\n        return (_a25 = instance == null ? void 0 : instance.proxy) == null ? void 0 : _a25[key];\n      }),\n      editable: typeof def.set === \"function\"\n    });\n  }\n  return computed;\n}\nfunction processAttrs(instance) {\n  return Object.keys(instance.attrs).map((key) => ({\n    type: \"attrs\",\n    key,\n    value: returnError(() => instance.attrs[key])\n  }));\n}\nfunction processProvide(instance) {\n  return Reflect.ownKeys(instance.provides).map((key) => ({\n    type: \"provided\",\n    key: key.toString(),\n    value: returnError(() => instance.provides[key])\n  }));\n}\nfunction processInject(instance, mergedType) {\n  if (!(mergedType == null ? void 0 : mergedType.inject))\n    return [];\n  let keys = [];\n  let defaultValue;\n  if (Array.isArray(mergedType.inject)) {\n    keys = mergedType.inject.map((key) => ({\n      key,\n      originalKey: key\n    }));\n  } else {\n    keys = Reflect.ownKeys(mergedType.inject).map((key) => {\n      const value = mergedType.inject[key];\n      let originalKey;\n      if (typeof value === \"string\" || typeof value === \"symbol\") {\n        originalKey = value;\n      } else {\n        originalKey = value.from;\n        defaultValue = value.default;\n      }\n      return {\n        key,\n        originalKey\n      };\n    });\n  }\n  return keys.map(({ key, originalKey }) => ({\n    type: \"injected\",\n    key: originalKey && key !== originalKey ? `${originalKey.toString()} \\u279E ${key.toString()}` : key.toString(),\n    // eslint-disable-next-line no-prototype-builtins\n    value: returnError(() => instance.ctx.hasOwnProperty(key) ? instance.ctx[key] : instance.provides.hasOwnProperty(originalKey) ? instance.provides[originalKey] : defaultValue)\n  }));\n}\nfunction processRefs(instance) {\n  return Object.keys(instance.refs).map((key) => ({\n    type: \"template refs\",\n    key,\n    value: returnError(() => instance.refs[key])\n  }));\n}\nfunction processEventListeners(instance) {\n  var _a25, _b25;\n  const emitsDefinition = instance.type.emits;\n  const declaredEmits = Array.isArray(emitsDefinition) ? emitsDefinition : Object.keys(emitsDefinition != null ? emitsDefinition : {});\n  const keys = Object.keys((_b25 = (_a25 = instance == null ? void 0 : instance.vnode) == null ? void 0 : _a25.props) != null ? _b25 : {});\n  const result = [];\n  for (const key of keys) {\n    const [prefix, ...eventNameParts] = key.split(/(?=[A-Z])/);\n    if (prefix === \"on\") {\n      const eventName = eventNameParts.join(\"-\").toLowerCase();\n      const isDeclared = declaredEmits.includes(eventName);\n      result.push({\n        type: \"event listeners\",\n        key: eventName,\n        value: {\n          _custom: {\n            displayText: isDeclared ? \"\\u2705 Declared\" : \"\\u26A0\\uFE0F Not declared\",\n            key: isDeclared ? \"\\u2705 Declared\" : \"\\u26A0\\uFE0F Not declared\",\n            value: isDeclared ? \"\\u2705 Declared\" : \"\\u26A0\\uFE0F Not declared\",\n            tooltipText: !isDeclared ? `The event <code>${eventName}</code> is not declared in the <code>emits</code> option. It will leak into the component's attributes (<code>$attrs</code>).` : null\n          }\n        }\n      });\n    }\n  }\n  return result;\n}\nfunction processInstanceState(instance) {\n  const mergedType = resolveMergedOptions(instance);\n  return processProps(instance).concat(\n    processState(instance),\n    processSetupState(instance),\n    processComputed(instance, mergedType),\n    processAttrs(instance),\n    processProvide(instance),\n    processInject(instance, mergedType),\n    processRefs(instance),\n    processEventListeners(instance)\n  );\n}\n\n// src/core/component/state/index.ts\nfunction getInstanceState(params) {\n  var _a25;\n  const instance = getComponentInstance(activeAppRecord.value, params.instanceId);\n  const id = getUniqueComponentId(instance);\n  const name = getInstanceName(instance);\n  const file = (_a25 = instance == null ? void 0 : instance.type) == null ? void 0 : _a25.__file;\n  const state = processInstanceState(instance);\n  return {\n    id,\n    name,\n    file,\n    state,\n    instance\n  };\n}\n\n// src/core/component/tree/walker.ts\ninit_esm_shims();\n\n// src/core/component/tree/filter.ts\ninit_esm_shims();\nimport { classify as classify2, kebabize } from \"@vue/devtools-shared\";\nvar ComponentFilter = class {\n  constructor(filter) {\n    this.filter = filter || \"\";\n  }\n  /**\n   * Check if an instance is qualified.\n   *\n   * @param {Vue|Vnode} instance\n   * @return {boolean}\n   */\n  isQualified(instance) {\n    const name = getInstanceName(instance);\n    return classify2(name).toLowerCase().includes(this.filter) || kebabize(name).toLowerCase().includes(this.filter);\n  }\n};\nfunction createComponentFilter(filterText) {\n  return new ComponentFilter(filterText);\n}\n\n// src/core/component/tree/walker.ts\nvar ComponentWalker = class {\n  constructor(options) {\n    // Dedupe instances (Some instances may be both on a component and on a child abstract/functional component)\n    this.captureIds = /* @__PURE__ */ new Map();\n    const { filterText = \"\", maxDepth, recursively, api } = options;\n    this.componentFilter = createComponentFilter(filterText);\n    this.maxDepth = maxDepth;\n    this.recursively = recursively;\n    this.api = api;\n  }\n  getComponentTree(instance) {\n    this.captureIds = /* @__PURE__ */ new Map();\n    return this.findQualifiedChildren(instance, 0);\n  }\n  getComponentParents(instance) {\n    this.captureIds = /* @__PURE__ */ new Map();\n    const parents = [];\n    this.captureId(instance);\n    let parent = instance;\n    while (parent = parent.parent) {\n      this.captureId(parent);\n      parents.push(parent);\n    }\n    return parents;\n  }\n  captureId(instance) {\n    if (!instance)\n      return null;\n    const id = instance.__VUE_DEVTOOLS_NEXT_UID__ != null ? instance.__VUE_DEVTOOLS_NEXT_UID__ : getUniqueComponentId(instance);\n    instance.__VUE_DEVTOOLS_NEXT_UID__ = id;\n    if (this.captureIds.has(id))\n      return null;\n    else\n      this.captureIds.set(id, void 0);\n    this.mark(instance);\n    return id;\n  }\n  /**\n   * Capture the meta information of an instance. (recursive)\n   *\n   * @param {Vue} instance\n   * @return {object}\n   */\n  async capture(instance, depth) {\n    var _a25;\n    if (!instance)\n      return null;\n    const id = this.captureId(instance);\n    const name = getInstanceName(instance);\n    const children = this.getInternalInstanceChildren(instance.subTree).filter((child) => !isBeingDestroyed(child));\n    const parents = this.getComponentParents(instance) || [];\n    const inactive = !!instance.isDeactivated || parents.some((parent) => parent.isDeactivated);\n    const treeNode = {\n      uid: instance.uid,\n      id,\n      name,\n      renderKey: getRenderKey(instance.vnode ? instance.vnode.key : null),\n      inactive,\n      children: [],\n      isFragment: isFragment(instance),\n      tags: typeof instance.type !== \"function\" ? [] : [\n        {\n          label: \"functional\",\n          textColor: 5592405,\n          backgroundColor: 15658734\n        }\n      ],\n      autoOpen: this.recursively,\n      file: instance.type.__file || \"\"\n    };\n    if (depth < this.maxDepth || instance.type.__isKeepAlive || parents.some((parent) => parent.type.__isKeepAlive)) {\n      treeNode.children = await Promise.all(children.map((child) => this.capture(child, depth + 1)).filter(Boolean));\n    }\n    if (this.isKeepAlive(instance)) {\n      const cachedComponents = this.getKeepAliveCachedInstances(instance);\n      const childrenIds = children.map((child) => child.__VUE_DEVTOOLS_NEXT_UID__);\n      for (const cachedChild of cachedComponents) {\n        if (!childrenIds.includes(cachedChild.__VUE_DEVTOOLS_NEXT_UID__)) {\n          const node = await this.capture({ ...cachedChild, isDeactivated: true }, depth + 1);\n          if (node)\n            treeNode.children.push(node);\n        }\n      }\n    }\n    const rootElements = getRootElementsFromComponentInstance(instance);\n    const firstElement = rootElements[0];\n    if (firstElement == null ? void 0 : firstElement.parentElement) {\n      const parentInstance = instance.parent;\n      const parentRootElements = parentInstance ? getRootElementsFromComponentInstance(parentInstance) : [];\n      let el = firstElement;\n      const indexList = [];\n      do {\n        indexList.push(Array.from(el.parentElement.childNodes).indexOf(el));\n        el = el.parentElement;\n      } while (el.parentElement && parentRootElements.length && !parentRootElements.includes(el));\n      treeNode.domOrder = indexList.reverse();\n    } else {\n      treeNode.domOrder = [-1];\n    }\n    if ((_a25 = instance.suspense) == null ? void 0 : _a25.suspenseKey) {\n      treeNode.tags.push({\n        label: instance.suspense.suspenseKey,\n        backgroundColor: 14979812,\n        textColor: 16777215\n      });\n      this.mark(instance, true);\n    }\n    this.api.visitComponentTree({\n      treeNode,\n      componentInstance: instance,\n      app: instance.appContext.app,\n      filter: this.componentFilter.filter\n    });\n    return treeNode;\n  }\n  /**\n   * Find qualified children from a single instance.\n   * If the instance itself is qualified, just return itself.\n   * This is ok because [].concat works in both cases.\n   *\n   * @param {Vue|Vnode} instance\n   * @return {Vue|Array}\n   */\n  async findQualifiedChildren(instance, depth) {\n    var _a25;\n    if (this.componentFilter.isQualified(instance) && !((_a25 = instance.type.devtools) == null ? void 0 : _a25.hide)) {\n      return [await this.capture(instance, depth)];\n    } else if (instance.subTree) {\n      const list = this.isKeepAlive(instance) ? this.getKeepAliveCachedInstances(instance) : this.getInternalInstanceChildren(instance.subTree);\n      return this.findQualifiedChildrenFromList(list, depth);\n    } else {\n      return [];\n    }\n  }\n  /**\n   * Iterate through an array of instances and flatten it into\n   * an array of qualified instances. This is a depth-first\n   * traversal - e.g. if an instance is not matched, we will\n   * recursively go deeper until a qualified child is found.\n   *\n   * @param {Array} instances\n   * @return {Array}\n   */\n  async findQualifiedChildrenFromList(instances, depth) {\n    instances = instances.filter((child) => {\n      var _a25;\n      return !isBeingDestroyed(child) && !((_a25 = child.type.devtools) == null ? void 0 : _a25.hide);\n    });\n    if (!this.componentFilter.filter)\n      return Promise.all(instances.map((child) => this.capture(child, depth)));\n    else\n      return Array.prototype.concat.apply([], await Promise.all(instances.map((i) => this.findQualifiedChildren(i, depth))));\n  }\n  /**\n   * Get children from a component instance.\n   */\n  getInternalInstanceChildren(subTree, suspense = null) {\n    const list = [];\n    if (subTree) {\n      if (subTree.component) {\n        !suspense ? list.push(subTree.component) : list.push({ ...subTree.component, suspense });\n      } else if (subTree.suspense) {\n        const suspenseKey = !subTree.suspense.isInFallback ? \"suspense default\" : \"suspense fallback\";\n        list.push(...this.getInternalInstanceChildren(subTree.suspense.activeBranch, { ...subTree.suspense, suspenseKey }));\n      } else if (Array.isArray(subTree.children)) {\n        subTree.children.forEach((childSubTree) => {\n          if (childSubTree.component)\n            !suspense ? list.push(childSubTree.component) : list.push({ ...childSubTree.component, suspense });\n          else\n            list.push(...this.getInternalInstanceChildren(childSubTree, suspense));\n        });\n      }\n    }\n    return list.filter((child) => {\n      var _a25;\n      return !isBeingDestroyed(child) && !((_a25 = child.type.devtools) == null ? void 0 : _a25.hide);\n    });\n  }\n  /**\n   * Mark an instance as captured and store it in the instance map.\n   *\n   * @param {Vue} instance\n   */\n  mark(instance, force = false) {\n    const instanceMap = getAppRecord(instance).instanceMap;\n    if (force || !instanceMap.has(instance.__VUE_DEVTOOLS_NEXT_UID__)) {\n      instanceMap.set(instance.__VUE_DEVTOOLS_NEXT_UID__, instance);\n      activeAppRecord.value.instanceMap = instanceMap;\n    }\n  }\n  isKeepAlive(instance) {\n    return instance.type.__isKeepAlive && instance.__v_cache;\n  }\n  getKeepAliveCachedInstances(instance) {\n    return Array.from(instance.__v_cache.values()).map((vnode) => vnode.component).filter(Boolean);\n  }\n};\n\n// src/core/timeline/index.ts\ninit_esm_shims();\nimport { isBrowser as isBrowser2 } from \"@vue/devtools-shared\";\n\n// src/core/timeline/perf.ts\ninit_esm_shims();\nvar markEndQueue = /* @__PURE__ */ new Map();\nvar PERFORMANCE_EVENT_LAYER_ID = \"performance\";\nasync function performanceMarkStart(api, app, uid, vm, type, time) {\n  const appRecord = await getAppRecord(app);\n  if (!appRecord) {\n    return;\n  }\n  const componentName = getInstanceName(vm) || \"Unknown Component\";\n  const groupId = devtoolsState.perfUniqueGroupId++;\n  const groupKey = `${uid}-${type}`;\n  appRecord.perfGroupIds.set(groupKey, { groupId, time });\n  await api.addTimelineEvent({\n    layerId: PERFORMANCE_EVENT_LAYER_ID,\n    event: {\n      time: Date.now(),\n      data: {\n        component: componentName,\n        type,\n        measure: \"start\"\n      },\n      title: componentName,\n      subtitle: type,\n      groupId\n    }\n  });\n  if (markEndQueue.has(groupKey)) {\n    const {\n      app: app2,\n      uid: uid2,\n      instance,\n      type: type2,\n      time: time2\n    } = markEndQueue.get(groupKey);\n    markEndQueue.delete(groupKey);\n    await performanceMarkEnd(\n      api,\n      app2,\n      uid2,\n      instance,\n      type2,\n      time2\n    );\n  }\n}\nfunction performanceMarkEnd(api, app, uid, vm, type, time) {\n  const appRecord = getAppRecord(app);\n  if (!appRecord)\n    return;\n  const componentName = getInstanceName(vm) || \"Unknown Component\";\n  const groupKey = `${uid}-${type}`;\n  const groupInfo = appRecord.perfGroupIds.get(groupKey);\n  if (groupInfo) {\n    const groupId = groupInfo.groupId;\n    const startTime = groupInfo.time;\n    const duration = time - startTime;\n    api.addTimelineEvent({\n      layerId: PERFORMANCE_EVENT_LAYER_ID,\n      event: {\n        time: Date.now(),\n        data: {\n          component: componentName,\n          type,\n          measure: \"end\",\n          duration: {\n            _custom: {\n              type: \"Duration\",\n              value: duration,\n              display: `${duration} ms`\n            }\n          }\n        },\n        title: componentName,\n        subtitle: type,\n        groupId\n      }\n    });\n  } else {\n    markEndQueue.set(groupKey, { app, uid, instance: vm, type, time });\n  }\n}\n\n// src/core/timeline/index.ts\nvar COMPONENT_EVENT_LAYER_ID = \"component-event\";\nfunction setupBuiltinTimelineLayers(api) {\n  if (!isBrowser2)\n    return;\n  api.addTimelineLayer({\n    id: \"mouse\",\n    label: \"Mouse\",\n    color: 10768815\n  });\n  [\"mousedown\", \"mouseup\", \"click\", \"dblclick\"].forEach((eventType) => {\n    if (!devtoolsState.timelineLayersState.recordingState || !devtoolsState.timelineLayersState.mouseEventEnabled)\n      return;\n    window.addEventListener(eventType, async (event) => {\n      await api.addTimelineEvent({\n        layerId: \"mouse\",\n        event: {\n          time: Date.now(),\n          data: {\n            type: eventType,\n            x: event.clientX,\n            y: event.clientY\n          },\n          title: eventType\n        }\n      });\n    }, {\n      capture: true,\n      passive: true\n    });\n  });\n  api.addTimelineLayer({\n    id: \"keyboard\",\n    label: \"Keyboard\",\n    color: 8475055\n  });\n  [\"keyup\", \"keydown\", \"keypress\"].forEach((eventType) => {\n    window.addEventListener(eventType, async (event) => {\n      if (!devtoolsState.timelineLayersState.recordingState || !devtoolsState.timelineLayersState.keyboardEventEnabled)\n        return;\n      await api.addTimelineEvent({\n        layerId: \"keyboard\",\n        event: {\n          time: Date.now(),\n          data: {\n            type: eventType,\n            key: event.key,\n            ctrlKey: event.ctrlKey,\n            shiftKey: event.shiftKey,\n            altKey: event.altKey,\n            metaKey: event.metaKey\n          },\n          title: event.key\n        }\n      });\n    }, {\n      capture: true,\n      passive: true\n    });\n  });\n  api.addTimelineLayer({\n    id: COMPONENT_EVENT_LAYER_ID,\n    label: \"Component events\",\n    color: 5226637\n  });\n  hook.on.componentEmit(async (app, instance, event, params) => {\n    if (!devtoolsState.timelineLayersState.recordingState || !devtoolsState.timelineLayersState.componentEventEnabled)\n      return;\n    const appRecord = await getAppRecord(app);\n    if (!appRecord)\n      return;\n    const componentId = `${appRecord.id}:${instance.uid}`;\n    const componentName = getInstanceName(instance) || \"Unknown Component\";\n    api.addTimelineEvent({\n      layerId: COMPONENT_EVENT_LAYER_ID,\n      event: {\n        time: Date.now(),\n        data: {\n          component: {\n            _custom: {\n              type: \"component-definition\",\n              display: componentName\n            }\n          },\n          event,\n          params\n        },\n        title: event,\n        subtitle: `by ${componentName}`,\n        meta: {\n          componentId\n        }\n      }\n    });\n  });\n  api.addTimelineLayer({\n    id: \"performance\",\n    label: PERFORMANCE_EVENT_LAYER_ID,\n    color: 4307050\n  });\n  hook.on.perfStart((app, uid, vm, type, time) => {\n    if (!devtoolsState.timelineLayersState.recordingState || !devtoolsState.timelineLayersState.performanceEventEnabled)\n      return;\n    performanceMarkStart(api, app, uid, vm, type, time);\n  });\n  hook.on.perfEnd((app, uid, vm, type, time) => {\n    if (!devtoolsState.timelineLayersState.recordingState || !devtoolsState.timelineLayersState.performanceEventEnabled)\n      return;\n    performanceMarkEnd(api, app, uid, vm, type, time);\n  });\n}\n\n// src/core/vm/index.ts\ninit_esm_shims();\nvar MAX_$VM = 10;\nvar $vmQueue = [];\nfunction exposeInstanceToWindow(componentInstance) {\n  if (typeof window === \"undefined\")\n    return;\n  const win = window;\n  if (!componentInstance)\n    return;\n  win.$vm = componentInstance;\n  if ($vmQueue[0] !== componentInstance) {\n    if ($vmQueue.length >= MAX_$VM) {\n      $vmQueue.pop();\n    }\n    for (let i = $vmQueue.length; i > 0; i--) {\n      win[`$vm${i}`] = $vmQueue[i] = $vmQueue[i - 1];\n    }\n    win.$vm0 = $vmQueue[0] = componentInstance;\n  }\n}\n\n// src/core/plugin/components.ts\nvar INSPECTOR_ID = \"components\";\nfunction createComponentsDevToolsPlugin(app) {\n  const descriptor = {\n    id: INSPECTOR_ID,\n    label: \"Components\",\n    app\n  };\n  const setupFn = (api) => {\n    api.addInspector({\n      id: INSPECTOR_ID,\n      label: \"Components\",\n      treeFilterPlaceholder: \"Search components\"\n    });\n    setupBuiltinTimelineLayers(api);\n    api.on.getInspectorTree(async (payload) => {\n      if (payload.app === app && payload.inspectorId === INSPECTOR_ID) {\n        const instance = getComponentInstance(activeAppRecord.value, payload.instanceId);\n        if (instance) {\n          const walker2 = new ComponentWalker({\n            filterText: payload.filter,\n            // @TODO: should make this configurable?\n            maxDepth: 100,\n            recursively: false,\n            api\n          });\n          payload.rootNodes = await walker2.getComponentTree(instance);\n        }\n      }\n    });\n    api.on.getInspectorState(async (payload) => {\n      var _a25;\n      if (payload.app === app && payload.inspectorId === INSPECTOR_ID) {\n        const result = getInstanceState({\n          instanceId: payload.nodeId\n        });\n        const componentInstance = result.instance;\n        const app2 = (_a25 = result.instance) == null ? void 0 : _a25.appContext.app;\n        const _payload = {\n          componentInstance,\n          app: app2,\n          instanceData: result\n        };\n        devtoolsContext.hooks.callHookWith((callbacks) => {\n          callbacks.forEach((cb) => cb(_payload));\n        }, \"inspectComponent\" /* INSPECT_COMPONENT */);\n        payload.state = result;\n        exposeInstanceToWindow(componentInstance);\n      }\n    });\n    api.on.editInspectorState(async (payload) => {\n      if (payload.app === app && payload.inspectorId === INSPECTOR_ID) {\n        editState(payload);\n        await api.sendInspectorState(\"components\");\n      }\n    });\n    const debounceSendInspectorTree = debounce4(() => {\n      api.sendInspectorTree(INSPECTOR_ID);\n    }, 120);\n    const debounceSendInspectorState = debounce4(() => {\n      api.sendInspectorState(INSPECTOR_ID);\n    }, 120);\n    const componentAddedCleanup = hook.on.componentAdded(async (app2, uid, parentUid, component) => {\n      var _a25, _b25, _c;\n      if (devtoolsState.highPerfModeEnabled)\n        return;\n      if ((_c = (_b25 = (_a25 = app2 == null ? void 0 : app2._instance) == null ? void 0 : _a25.type) == null ? void 0 : _b25.devtools) == null ? void 0 : _c.hide)\n        return;\n      if (!app2 || typeof uid !== \"number\" && !uid || !component)\n        return;\n      const id = await getComponentId({\n        app: app2,\n        uid,\n        instance: component\n      });\n      const appRecord = await getAppRecord(app2);\n      if (component) {\n        if (component.__VUE_DEVTOOLS_NEXT_UID__ == null)\n          component.__VUE_DEVTOOLS_NEXT_UID__ = id;\n        if (!(appRecord == null ? void 0 : appRecord.instanceMap.has(id))) {\n          appRecord == null ? void 0 : appRecord.instanceMap.set(id, component);\n          if (activeAppRecord.value.id === (appRecord == null ? void 0 : appRecord.id))\n            activeAppRecord.value.instanceMap = appRecord.instanceMap;\n        }\n      }\n      if (!appRecord)\n        return;\n      debounceSendInspectorTree();\n    });\n    const componentUpdatedCleanup = hook.on.componentUpdated(async (app2, uid, parentUid, component) => {\n      var _a25, _b25, _c;\n      if (devtoolsState.highPerfModeEnabled)\n        return;\n      if ((_c = (_b25 = (_a25 = app2 == null ? void 0 : app2._instance) == null ? void 0 : _a25.type) == null ? void 0 : _b25.devtools) == null ? void 0 : _c.hide)\n        return;\n      if (!app2 || typeof uid !== \"number\" && !uid || !component)\n        return;\n      const id = await getComponentId({\n        app: app2,\n        uid,\n        instance: component\n      });\n      const appRecord = await getAppRecord(app2);\n      if (component) {\n        if (component.__VUE_DEVTOOLS_NEXT_UID__ == null)\n          component.__VUE_DEVTOOLS_NEXT_UID__ = id;\n        if (!(appRecord == null ? void 0 : appRecord.instanceMap.has(id))) {\n          appRecord == null ? void 0 : appRecord.instanceMap.set(id, component);\n          if (activeAppRecord.value.id === (appRecord == null ? void 0 : appRecord.id))\n            activeAppRecord.value.instanceMap = appRecord.instanceMap;\n        }\n      }\n      if (!appRecord)\n        return;\n      debounceSendInspectorTree();\n      debounceSendInspectorState();\n    });\n    const componentRemovedCleanup = hook.on.componentRemoved(async (app2, uid, parentUid, component) => {\n      var _a25, _b25, _c;\n      if (devtoolsState.highPerfModeEnabled)\n        return;\n      if ((_c = (_b25 = (_a25 = app2 == null ? void 0 : app2._instance) == null ? void 0 : _a25.type) == null ? void 0 : _b25.devtools) == null ? void 0 : _c.hide)\n        return;\n      if (!app2 || typeof uid !== \"number\" && !uid || !component)\n        return;\n      const appRecord = await getAppRecord(app2);\n      if (!appRecord)\n        return;\n      const id = await getComponentId({\n        app: app2,\n        uid,\n        instance: component\n      });\n      appRecord == null ? void 0 : appRecord.instanceMap.delete(id);\n      if (activeAppRecord.value.id === (appRecord == null ? void 0 : appRecord.id))\n        activeAppRecord.value.instanceMap = appRecord.instanceMap;\n      debounceSendInspectorTree();\n    });\n  };\n  return [descriptor, setupFn];\n}\n\n// src/core/plugin/index.ts\nvar _a12, _b12;\n(_b12 = (_a12 = target8).__VUE_DEVTOOLS_KIT__REGISTERED_PLUGIN_APPS__) != null ? _b12 : _a12.__VUE_DEVTOOLS_KIT__REGISTERED_PLUGIN_APPS__ = /* @__PURE__ */ new Set();\nfunction setupDevToolsPlugin(pluginDescriptor, setupFn) {\n  return hook.setupDevToolsPlugin(pluginDescriptor, setupFn);\n}\nfunction callDevToolsPluginSetupFn(plugin, app) {\n  const [pluginDescriptor, setupFn] = plugin;\n  if (pluginDescriptor.app !== app)\n    return;\n  const api = new DevToolsPluginAPI({\n    plugin: {\n      setupFn,\n      descriptor: pluginDescriptor\n    },\n    ctx: devtoolsContext\n  });\n  if (pluginDescriptor.packageName === \"vuex\") {\n    api.on.editInspectorState((payload) => {\n      api.sendInspectorState(payload.inspectorId);\n    });\n  }\n  setupFn(api);\n}\nfunction removeRegisteredPluginApp(app) {\n  target8.__VUE_DEVTOOLS_KIT__REGISTERED_PLUGIN_APPS__.delete(app);\n}\nfunction registerDevToolsPlugin(app, options) {\n  if (target8.__VUE_DEVTOOLS_KIT__REGISTERED_PLUGIN_APPS__.has(app)) {\n    return;\n  }\n  if (devtoolsState.highPerfModeEnabled && !(options == null ? void 0 : options.inspectingComponent)) {\n    return;\n  }\n  target8.__VUE_DEVTOOLS_KIT__REGISTERED_PLUGIN_APPS__.add(app);\n  devtoolsPluginBuffer.forEach((plugin) => {\n    callDevToolsPluginSetupFn(plugin, app);\n  });\n}\n\n// src/core/router/index.ts\ninit_esm_shims();\nimport { deepClone, target as global3 } from \"@vue/devtools-shared\";\nimport { debounce as debounce5 } from \"perfect-debounce\";\n\n// src/ctx/router.ts\ninit_esm_shims();\nimport { target as global2 } from \"@vue/devtools-shared\";\nvar ROUTER_KEY = \"__VUE_DEVTOOLS_ROUTER__\";\nvar ROUTER_INFO_KEY = \"__VUE_DEVTOOLS_ROUTER_INFO__\";\nvar _a13, _b13;\n(_b13 = (_a13 = global2)[ROUTER_INFO_KEY]) != null ? _b13 : _a13[ROUTER_INFO_KEY] = {\n  currentRoute: null,\n  routes: []\n};\nvar _a14, _b14;\n(_b14 = (_a14 = global2)[ROUTER_KEY]) != null ? _b14 : _a14[ROUTER_KEY] = {};\nvar devtoolsRouterInfo = new Proxy(global2[ROUTER_INFO_KEY], {\n  get(target22, property) {\n    return global2[ROUTER_INFO_KEY][property];\n  }\n});\nvar devtoolsRouter = new Proxy(global2[ROUTER_KEY], {\n  get(target22, property) {\n    if (property === \"value\") {\n      return global2[ROUTER_KEY];\n    }\n  }\n});\n\n// src/core/router/index.ts\nfunction getRoutes(router) {\n  const routesMap = /* @__PURE__ */ new Map();\n  return ((router == null ? void 0 : router.getRoutes()) || []).filter((i) => !routesMap.has(i.path) && routesMap.set(i.path, 1));\n}\nfunction filterRoutes(routes) {\n  return routes.map((item) => {\n    let { path, name, children, meta } = item;\n    if (children == null ? void 0 : children.length)\n      children = filterRoutes(children);\n    return {\n      path,\n      name,\n      children,\n      meta\n    };\n  });\n}\nfunction filterCurrentRoute(route) {\n  if (route) {\n    const { fullPath, hash, href, path, name, matched, params, query } = route;\n    return {\n      fullPath,\n      hash,\n      href,\n      path,\n      name,\n      params,\n      query,\n      matched: filterRoutes(matched)\n    };\n  }\n  return route;\n}\nfunction normalizeRouterInfo(appRecord, activeAppRecord2) {\n  function init() {\n    var _a25;\n    const router = (_a25 = appRecord.app) == null ? void 0 : _a25.config.globalProperties.$router;\n    const currentRoute = filterCurrentRoute(router == null ? void 0 : router.currentRoute.value);\n    const routes = filterRoutes(getRoutes(router));\n    const c = console.warn;\n    console.warn = () => {\n    };\n    global3[ROUTER_INFO_KEY] = {\n      currentRoute: currentRoute ? deepClone(currentRoute) : {},\n      routes: deepClone(routes)\n    };\n    global3[ROUTER_KEY] = router;\n    console.warn = c;\n  }\n  init();\n  hook.on.componentUpdated(debounce5(() => {\n    var _a25;\n    if (((_a25 = activeAppRecord2.value) == null ? void 0 : _a25.app) !== appRecord.app)\n      return;\n    init();\n    if (devtoolsState.highPerfModeEnabled)\n      return;\n    devtoolsContext.hooks.callHook(\"routerInfoUpdated\" /* ROUTER_INFO_UPDATED */, { state: global3[ROUTER_INFO_KEY] });\n  }, 200));\n}\n\n// src/ctx/api.ts\nfunction createDevToolsApi(hooks2) {\n  return {\n    // get inspector tree\n    async getInspectorTree(payload) {\n      const _payload = {\n        ...payload,\n        app: activeAppRecord.value.app,\n        rootNodes: []\n      };\n      await new Promise((resolve) => {\n        hooks2.callHookWith(async (callbacks) => {\n          await Promise.all(callbacks.map((cb) => cb(_payload)));\n          resolve();\n        }, \"getInspectorTree\" /* GET_INSPECTOR_TREE */);\n      });\n      return _payload.rootNodes;\n    },\n    // get inspector state\n    async getInspectorState(payload) {\n      const _payload = {\n        ...payload,\n        app: activeAppRecord.value.app,\n        state: null\n      };\n      const ctx = {\n        currentTab: `custom-inspector:${payload.inspectorId}`\n      };\n      await new Promise((resolve) => {\n        hooks2.callHookWith(async (callbacks) => {\n          await Promise.all(callbacks.map((cb) => cb(_payload, ctx)));\n          resolve();\n        }, \"getInspectorState\" /* GET_INSPECTOR_STATE */);\n      });\n      return _payload.state;\n    },\n    // edit inspector state\n    editInspectorState(payload) {\n      const stateEditor2 = new StateEditor();\n      const _payload = {\n        ...payload,\n        app: activeAppRecord.value.app,\n        set: (obj, path = payload.path, value = payload.state.value, cb) => {\n          stateEditor2.set(obj, path, value, cb || stateEditor2.createDefaultSetCallback(payload.state));\n        }\n      };\n      hooks2.callHookWith((callbacks) => {\n        callbacks.forEach((cb) => cb(_payload));\n      }, \"editInspectorState\" /* EDIT_INSPECTOR_STATE */);\n    },\n    // send inspector state\n    sendInspectorState(inspectorId) {\n      const inspector = getInspector(inspectorId);\n      hooks2.callHook(\"sendInspectorState\" /* SEND_INSPECTOR_STATE */, { inspectorId, plugin: {\n        descriptor: inspector.descriptor,\n        setupFn: () => ({})\n      } });\n    },\n    // inspect component inspector\n    inspectComponentInspector() {\n      return inspectComponentHighLighter();\n    },\n    // cancel inspect component inspector\n    cancelInspectComponentInspector() {\n      return cancelInspectComponentHighLighter();\n    },\n    // get component render code\n    getComponentRenderCode(id) {\n      const instance = getComponentInstance(activeAppRecord.value, id);\n      if (instance)\n        return !(typeof (instance == null ? void 0 : instance.type) === \"function\") ? instance.render.toString() : instance.type.toString();\n    },\n    // scroll to component\n    scrollToComponent(id) {\n      return scrollToComponent({ id });\n    },\n    // open in editor\n    openInEditor,\n    // get vue inspector\n    getVueInspector: getComponentInspector,\n    // toggle app\n    toggleApp(id, options) {\n      const appRecord = devtoolsAppRecords.value.find((record) => record.id === id);\n      if (appRecord) {\n        setActiveAppRecordId(id);\n        setActiveAppRecord(appRecord);\n        normalizeRouterInfo(appRecord, activeAppRecord);\n        callInspectorUpdatedHook();\n        registerDevToolsPlugin(appRecord.app, options);\n      }\n    },\n    // inspect dom\n    inspectDOM(instanceId) {\n      const instance = getComponentInstance(activeAppRecord.value, instanceId);\n      if (instance) {\n        const [el] = getRootElementsFromComponentInstance(instance);\n        if (el) {\n          target9.__VUE_DEVTOOLS_INSPECT_DOM_TARGET__ = el;\n        }\n      }\n    },\n    updatePluginSettings(pluginId, key, value) {\n      setPluginSettings(pluginId, key, value);\n    },\n    getPluginSettings(pluginId) {\n      return {\n        options: getPluginSettingsOptions(pluginId),\n        values: getPluginSettings(pluginId)\n      };\n    }\n  };\n}\n\n// src/ctx/env.ts\ninit_esm_shims();\nimport { target as target10 } from \"@vue/devtools-shared\";\nvar _a15, _b15;\n(_b15 = (_a15 = target10).__VUE_DEVTOOLS_ENV__) != null ? _b15 : _a15.__VUE_DEVTOOLS_ENV__ = {\n  vitePluginDetected: false\n};\nfunction getDevToolsEnv() {\n  return target10.__VUE_DEVTOOLS_ENV__;\n}\nfunction setDevToolsEnv(env) {\n  target10.__VUE_DEVTOOLS_ENV__ = {\n    ...target10.__VUE_DEVTOOLS_ENV__,\n    ...env\n  };\n}\n\n// src/ctx/index.ts\nvar hooks = createDevToolsCtxHooks();\nvar _a16, _b16;\n(_b16 = (_a16 = target11).__VUE_DEVTOOLS_KIT_CONTEXT__) != null ? _b16 : _a16.__VUE_DEVTOOLS_KIT_CONTEXT__ = {\n  hooks,\n  get state() {\n    return {\n      ...devtoolsState,\n      activeAppRecordId: activeAppRecord.id,\n      activeAppRecord: activeAppRecord.value,\n      appRecords: devtoolsAppRecords.value\n    };\n  },\n  api: createDevToolsApi(hooks)\n};\nvar devtoolsContext = target11.__VUE_DEVTOOLS_KIT_CONTEXT__;\n\n// src/core/app/index.ts\ninit_esm_shims();\nvar import_speakingurl = __toESM(require_speakingurl2(), 1);\nimport { isBrowser as isBrowser3, target as target12 } from \"@vue/devtools-shared\";\nvar _a17, _b17;\nvar appRecordInfo = (_b17 = (_a17 = target12).__VUE_DEVTOOLS_NEXT_APP_RECORD_INFO__) != null ? _b17 : _a17.__VUE_DEVTOOLS_NEXT_APP_RECORD_INFO__ = {\n  id: 0,\n  appIds: /* @__PURE__ */ new Set()\n};\nfunction getAppRecordName(app, fallbackName) {\n  var _a25;\n  return ((_a25 = app == null ? void 0 : app._component) == null ? void 0 : _a25.name) || `App ${fallbackName}`;\n}\nfunction getAppRootInstance(app) {\n  var _a25, _b25, _c, _d;\n  if (app._instance)\n    return app._instance;\n  else if ((_b25 = (_a25 = app._container) == null ? void 0 : _a25._vnode) == null ? void 0 : _b25.component)\n    return (_d = (_c = app._container) == null ? void 0 : _c._vnode) == null ? void 0 : _d.component;\n}\nfunction removeAppRecordId(app) {\n  const id = app.__VUE_DEVTOOLS_NEXT_APP_RECORD_ID__;\n  if (id != null) {\n    appRecordInfo.appIds.delete(id);\n    appRecordInfo.id--;\n  }\n}\nfunction getAppRecordId(app, defaultId) {\n  if (app.__VUE_DEVTOOLS_NEXT_APP_RECORD_ID__ != null)\n    return app.__VUE_DEVTOOLS_NEXT_APP_RECORD_ID__;\n  let id = defaultId != null ? defaultId : (appRecordInfo.id++).toString();\n  if (defaultId && appRecordInfo.appIds.has(id)) {\n    let count = 1;\n    while (appRecordInfo.appIds.has(`${defaultId}_${count}`))\n      count++;\n    id = `${defaultId}_${count}`;\n  }\n  appRecordInfo.appIds.add(id);\n  app.__VUE_DEVTOOLS_NEXT_APP_RECORD_ID__ = id;\n  return id;\n}\nfunction createAppRecord(app, types) {\n  var _a25, _b25;\n  const rootInstance = getAppRootInstance(app);\n  if (rootInstance) {\n    appRecordInfo.id++;\n    const name = getAppRecordName(app, appRecordInfo.id.toString());\n    const id = getAppRecordId(app, (0, import_speakingurl.default)(name));\n    const [el] = getRootElementsFromComponentInstance(rootInstance);\n    const record = {\n      id,\n      name,\n      types,\n      instanceMap: /* @__PURE__ */ new Map(),\n      perfGroupIds: /* @__PURE__ */ new Map(),\n      rootInstance,\n      iframe: isBrowser3 && document !== (el == null ? void 0 : el.ownerDocument) ? (_b25 = (_a25 = el == null ? void 0 : el.ownerDocument) == null ? void 0 : _a25.location) == null ? void 0 : _b25.pathname : void 0\n    };\n    app.__VUE_DEVTOOLS_NEXT_APP_RECORD__ = record;\n    const rootId = `${record.id}:root`;\n    record.instanceMap.set(rootId, record.rootInstance);\n    record.rootInstance.__VUE_DEVTOOLS_NEXT_UID__ = rootId;\n    return record;\n  } else {\n    return {};\n  }\n}\n\n// src/core/iframe/index.ts\ninit_esm_shims();\nfunction detectIframeApp(target22, inIframe = false) {\n  if (inIframe) {\n    let sendEventToParent2 = function(cb) {\n      try {\n        const hook3 = window.parent.__VUE_DEVTOOLS_GLOBAL_HOOK__;\n        if (hook3) {\n          cb(hook3);\n        }\n      } catch (e) {\n      }\n    };\n    var sendEventToParent = sendEventToParent2;\n    const hook2 = {\n      id: \"vue-devtools-next\",\n      devtoolsVersion: \"7.0\",\n      on: (event, cb) => {\n        sendEventToParent2((hook3) => {\n          hook3.on(event, cb);\n        });\n      },\n      once: (event, cb) => {\n        sendEventToParent2((hook3) => {\n          hook3.once(event, cb);\n        });\n      },\n      off: (event, cb) => {\n        sendEventToParent2((hook3) => {\n          hook3.off(event, cb);\n        });\n      },\n      emit: (event, ...payload) => {\n        sendEventToParent2((hook3) => {\n          hook3.emit(event, ...payload);\n        });\n      }\n    };\n    Object.defineProperty(target22, \"__VUE_DEVTOOLS_GLOBAL_HOOK__\", {\n      get() {\n        return hook2;\n      },\n      configurable: true\n    });\n  }\n  function injectVueHookToIframe(iframe) {\n    if (iframe.__vdevtools__injected) {\n      return;\n    }\n    try {\n      iframe.__vdevtools__injected = true;\n      const inject = () => {\n        try {\n          iframe.contentWindow.__VUE_DEVTOOLS_IFRAME__ = iframe;\n          const script = iframe.contentDocument.createElement(\"script\");\n          script.textContent = `;(${detectIframeApp.toString()})(window, true)`;\n          iframe.contentDocument.documentElement.appendChild(script);\n          script.parentNode.removeChild(script);\n        } catch (e) {\n        }\n      };\n      inject();\n      iframe.addEventListener(\"load\", () => inject());\n    } catch (e) {\n    }\n  }\n  function injectVueHookToIframes() {\n    if (typeof window === \"undefined\") {\n      return;\n    }\n    const iframes = Array.from(document.querySelectorAll(\"iframe:not([data-vue-devtools-ignore])\"));\n    for (const iframe of iframes) {\n      injectVueHookToIframe(iframe);\n    }\n  }\n  injectVueHookToIframes();\n  let iframeAppChecks = 0;\n  const iframeAppCheckTimer = setInterval(() => {\n    injectVueHookToIframes();\n    iframeAppChecks++;\n    if (iframeAppChecks >= 5) {\n      clearInterval(iframeAppCheckTimer);\n    }\n  }, 1e3);\n}\n\n// src/core/index.ts\nfunction initDevTools() {\n  var _a25;\n  detectIframeApp(target13);\n  updateDevToolsState({\n    vitePluginDetected: getDevToolsEnv().vitePluginDetected\n  });\n  const isDevToolsNext = ((_a25 = target13.__VUE_DEVTOOLS_GLOBAL_HOOK__) == null ? void 0 : _a25.id) === \"vue-devtools-next\";\n  if (target13.__VUE_DEVTOOLS_GLOBAL_HOOK__ && isDevToolsNext)\n    return;\n  const _devtoolsHook = createDevToolsHook();\n  if (target13.__VUE_DEVTOOLS_HOOK_REPLAY__) {\n    try {\n      target13.__VUE_DEVTOOLS_HOOK_REPLAY__.forEach((cb) => cb(_devtoolsHook));\n      target13.__VUE_DEVTOOLS_HOOK_REPLAY__ = [];\n    } catch (e) {\n      console.error(\"[vue-devtools] Error during hook replay\", e);\n    }\n  }\n  _devtoolsHook.once(\"init\", (Vue) => {\n    target13.__VUE_DEVTOOLS_VUE2_APP_DETECTED__ = true;\n    console.log(\"%c[_____Vue DevTools v7 log_____]\", \"color: red; font-bold: 600; font-size: 16px;\");\n    console.log(\"%cVue DevTools v7 detected in your Vue2 project. v7 only supports Vue3 and will not work.\", \"font-bold: 500; font-size: 14px;\");\n    const legacyChromeUrl = \"https://chromewebstore.google.com/detail/vuejs-devtools/iaajmlceplecbljialhhkmedjlpdblhp\";\n    const legacyFirefoxUrl = \"https://addons.mozilla.org/firefox/addon/vue-js-devtools-v6-legacy\";\n    console.log(`%cThe legacy version of chrome extension that supports both Vue 2 and Vue 3 has been moved to %c ${legacyChromeUrl}`, \"font-size: 14px;\", \"text-decoration: underline; cursor: pointer;font-size: 14px;\");\n    console.log(`%cThe legacy version of firefox extension that supports both Vue 2 and Vue 3 has been moved to %c ${legacyFirefoxUrl}`, \"font-size: 14px;\", \"text-decoration: underline; cursor: pointer;font-size: 14px;\");\n    console.log(\"%cPlease install and enable only the legacy version for your Vue2 app.\", \"font-bold: 500; font-size: 14px;\");\n    console.log(\"%c[_____Vue DevTools v7 log_____]\", \"color: red; font-bold: 600; font-size: 16px;\");\n  });\n  hook.on.setupDevtoolsPlugin((pluginDescriptor, setupFn) => {\n    var _a26;\n    addDevToolsPluginToBuffer(pluginDescriptor, setupFn);\n    const { app } = (_a26 = activeAppRecord) != null ? _a26 : {};\n    if (pluginDescriptor.settings) {\n      initPluginSettings(pluginDescriptor.id, pluginDescriptor.settings);\n    }\n    if (!app)\n      return;\n    callDevToolsPluginSetupFn([pluginDescriptor, setupFn], app);\n  });\n  onLegacyDevToolsPluginApiAvailable(() => {\n    const normalizedPluginBuffer = devtoolsPluginBuffer.filter(([item]) => item.id !== \"components\");\n    normalizedPluginBuffer.forEach(([pluginDescriptor, setupFn]) => {\n      _devtoolsHook.emit(\"devtools-plugin:setup\" /* SETUP_DEVTOOLS_PLUGIN */, pluginDescriptor, setupFn, { target: \"legacy\" });\n    });\n  });\n  hook.on.vueAppInit(async (app, version, types) => {\n    const appRecord = createAppRecord(app, types);\n    const normalizedAppRecord = {\n      ...appRecord,\n      app,\n      version\n    };\n    addDevToolsAppRecord(normalizedAppRecord);\n    if (devtoolsAppRecords.value.length === 1) {\n      setActiveAppRecord(normalizedAppRecord);\n      setActiveAppRecordId(normalizedAppRecord.id);\n      normalizeRouterInfo(normalizedAppRecord, activeAppRecord);\n      registerDevToolsPlugin(normalizedAppRecord.app);\n    }\n    setupDevToolsPlugin(...createComponentsDevToolsPlugin(normalizedAppRecord.app));\n    updateDevToolsState({\n      connected: true\n    });\n    _devtoolsHook.apps.push(app);\n  });\n  hook.on.vueAppUnmount(async (app) => {\n    const activeRecords = devtoolsAppRecords.value.filter((appRecord) => appRecord.app !== app);\n    if (activeRecords.length === 0) {\n      updateDevToolsState({\n        connected: false\n      });\n    }\n    removeDevToolsAppRecord(app);\n    removeAppRecordId(app);\n    if (activeAppRecord.value.app === app) {\n      setActiveAppRecord(activeRecords[0]);\n      devtoolsContext.hooks.callHook(\"sendActiveAppUpdatedToClient\" /* SEND_ACTIVE_APP_UNMOUNTED_TO_CLIENT */);\n    }\n    target13.__VUE_DEVTOOLS_GLOBAL_HOOK__.apps.splice(target13.__VUE_DEVTOOLS_GLOBAL_HOOK__.apps.indexOf(app), 1);\n    removeRegisteredPluginApp(app);\n  });\n  subscribeDevToolsHook(_devtoolsHook);\n  if (!target13.__VUE_DEVTOOLS_GLOBAL_HOOK__) {\n    Object.defineProperty(target13, \"__VUE_DEVTOOLS_GLOBAL_HOOK__\", {\n      get() {\n        return _devtoolsHook;\n      },\n      configurable: true\n    });\n  } else {\n    if (!isNuxtApp) {\n      Object.assign(__VUE_DEVTOOLS_GLOBAL_HOOK__, _devtoolsHook);\n    }\n  }\n}\nfunction onDevToolsClientConnected(fn) {\n  return new Promise((resolve) => {\n    if (devtoolsState.connected && devtoolsState.clientConnected) {\n      fn();\n      resolve();\n      return;\n    }\n    devtoolsContext.hooks.hook(\"devtoolsConnectedUpdated\" /* DEVTOOLS_CONNECTED_UPDATED */, ({ state }) => {\n      if (state.connected && state.clientConnected) {\n        fn();\n        resolve();\n      }\n    });\n  });\n}\n\n// src/core/high-perf-mode/index.ts\ninit_esm_shims();\nfunction toggleHighPerfMode(state) {\n  devtoolsState.highPerfModeEnabled = state != null ? state : !devtoolsState.highPerfModeEnabled;\n  if (!state && activeAppRecord.value) {\n    registerDevToolsPlugin(activeAppRecord.value.app);\n  }\n}\n\n// src/core/component/state/format.ts\ninit_esm_shims();\n\n// src/core/component/state/reviver.ts\ninit_esm_shims();\nimport { target as target14 } from \"@vue/devtools-shared\";\nfunction reviveSet(val) {\n  const result = /* @__PURE__ */ new Set();\n  const list = val._custom.value;\n  for (let i = 0; i < list.length; i++) {\n    const value = list[i];\n    result.add(revive(value));\n  }\n  return result;\n}\nfunction reviveMap(val) {\n  const result = /* @__PURE__ */ new Map();\n  const list = val._custom.value;\n  for (let i = 0; i < list.length; i++) {\n    const { key, value } = list[i];\n    result.set(key, revive(value));\n  }\n  return result;\n}\nfunction revive(val) {\n  if (val === UNDEFINED) {\n    return void 0;\n  } else if (val === INFINITY) {\n    return Number.POSITIVE_INFINITY;\n  } else if (val === NEGATIVE_INFINITY) {\n    return Number.NEGATIVE_INFINITY;\n  } else if (val === NAN) {\n    return Number.NaN;\n  } else if (val && val._custom) {\n    const { _custom: custom } = val;\n    if (custom.type === \"component\")\n      return activeAppRecord.value.instanceMap.get(custom.id);\n    else if (custom.type === \"map\")\n      return reviveMap(val);\n    else if (custom.type === \"set\")\n      return reviveSet(val);\n    else if (custom.type === \"bigint\")\n      return BigInt(custom.value);\n    else\n      return revive(custom.value);\n  } else if (symbolRE.test(val)) {\n    const [, string] = symbolRE.exec(val);\n    return Symbol.for(string);\n  } else if (specialTypeRE.test(val)) {\n    const [, type, string, , details] = specialTypeRE.exec(val);\n    const result = new target14[type](string);\n    if (type === \"Error\" && details)\n      result.stack = details;\n    return result;\n  } else {\n    return val;\n  }\n}\nfunction reviver(key, value) {\n  return revive(value);\n}\n\n// src/core/component/state/format.ts\nfunction getInspectorStateValueType(value, raw = true) {\n  const type = typeof value;\n  if (value == null || value === UNDEFINED || value === \"undefined\") {\n    return \"null\";\n  } else if (type === \"boolean\" || type === \"number\" || value === INFINITY || value === NEGATIVE_INFINITY || value === NAN) {\n    return \"literal\";\n  } else if (value == null ? void 0 : value._custom) {\n    if (raw || value._custom.display != null || value._custom.displayText != null)\n      return \"custom\";\n    else\n      return getInspectorStateValueType(value._custom.value);\n  } else if (typeof value === \"string\") {\n    const typeMatch = specialTypeRE.exec(value);\n    if (typeMatch) {\n      const [, type2] = typeMatch;\n      return `native ${type2}`;\n    } else {\n      return \"string\";\n    }\n  } else if (Array.isArray(value) || (value == null ? void 0 : value._isArray)) {\n    return \"array\";\n  } else if (isPlainObject(value)) {\n    return \"plain-object\";\n  } else {\n    return \"unknown\";\n  }\n}\nfunction formatInspectorStateValue(value, quotes = false, options) {\n  var _a25, _b25, _c;\n  const { customClass } = options != null ? options : {};\n  let result;\n  const type = getInspectorStateValueType(value, false);\n  if (type !== \"custom\" && (value == null ? void 0 : value._custom))\n    value = value._custom.value;\n  if (result = internalStateTokenToString(value)) {\n    return result;\n  } else if (type === \"custom\") {\n    const nestedName = ((_a25 = value._custom.value) == null ? void 0 : _a25._custom) && formatInspectorStateValue(value._custom.value, quotes, options);\n    return nestedName || value._custom.displayText || value._custom.display;\n  } else if (type === \"array\") {\n    return `Array[${value.length}]`;\n  } else if (type === \"plain-object\") {\n    return `Object${Object.keys(value).length ? \"\" : \" (empty)\"}`;\n  } else if (type == null ? void 0 : type.includes(\"native\")) {\n    return escape((_b25 = specialTypeRE.exec(value)) == null ? void 0 : _b25[2]);\n  } else if (typeof value === \"string\") {\n    const typeMatch = value.match(rawTypeRE);\n    if (typeMatch) {\n      value = escapeString(typeMatch[1]);\n    } else if (quotes) {\n      value = `<span>\"</span>${(customClass == null ? void 0 : customClass.string) ? `<span class=${customClass.string}>${escapeString(value)}</span>` : escapeString(value)}<span>\"</span>`;\n    } else {\n      value = (customClass == null ? void 0 : customClass.string) ? `<span class=\"${(_c = customClass == null ? void 0 : customClass.string) != null ? _c : \"\"}\">${escapeString(value)}</span>` : escapeString(value);\n    }\n  }\n  return value;\n}\nfunction escapeString(value) {\n  return escape(value).replace(/ /g, \"&nbsp;\").replace(/\\n/g, \"<span>\\\\n</span>\");\n}\nfunction getRaw(value) {\n  var _a25, _b25, _c;\n  let customType;\n  const isCustom = getInspectorStateValueType(value) === \"custom\";\n  let inherit = {};\n  if (isCustom) {\n    const data = value;\n    const customValue = (_a25 = data._custom) == null ? void 0 : _a25.value;\n    const currentCustomType = (_b25 = data._custom) == null ? void 0 : _b25.type;\n    const nestedCustom = typeof customValue === \"object\" && customValue !== null && \"_custom\" in customValue ? getRaw(customValue) : { inherit: void 0, value: void 0, customType: void 0 };\n    inherit = nestedCustom.inherit || ((_c = data._custom) == null ? void 0 : _c.fields) || {};\n    value = nestedCustom.value || customValue;\n    customType = nestedCustom.customType || currentCustomType;\n  }\n  if (value && value._isArray)\n    value = value.items;\n  return { value, inherit, customType };\n}\nfunction toEdit(value, customType) {\n  if (customType === \"bigint\")\n    return value;\n  if (customType === \"date\")\n    return value;\n  return replaceTokenToString(JSON.stringify(value));\n}\nfunction toSubmit(value, customType) {\n  if (customType === \"bigint\")\n    return BigInt(value);\n  if (customType === \"date\")\n    return new Date(value);\n  return JSON.parse(replaceStringToToken(value), reviver);\n}\n\n// src/core/devtools-client/detected.ts\ninit_esm_shims();\nimport { target as target15 } from \"@vue/devtools-shared\";\nfunction updateDevToolsClientDetected(params) {\n  devtoolsState.devtoolsClientDetected = {\n    ...devtoolsState.devtoolsClientDetected,\n    ...params\n  };\n  const devtoolsClientVisible = Object.values(devtoolsState.devtoolsClientDetected).some(Boolean);\n  toggleHighPerfMode(!devtoolsClientVisible);\n}\nvar _a18, _b18;\n(_b18 = (_a18 = target15).__VUE_DEVTOOLS_UPDATE_CLIENT_DETECTED__) != null ? _b18 : _a18.__VUE_DEVTOOLS_UPDATE_CLIENT_DETECTED__ = updateDevToolsClientDetected;\n\n// src/messaging/index.ts\ninit_esm_shims();\nimport { target as target21 } from \"@vue/devtools-shared\";\nimport { createBirpc, createBirpcGroup } from \"birpc\";\n\n// src/messaging/presets/index.ts\ninit_esm_shims();\n\n// src/messaging/presets/broadcast-channel/index.ts\ninit_esm_shims();\n\n// ../../node_modules/.pnpm/superjson@2.2.2/node_modules/superjson/dist/index.js\ninit_esm_shims();\n\n// ../../node_modules/.pnpm/superjson@2.2.2/node_modules/superjson/dist/class-registry.js\ninit_esm_shims();\n\n// ../../node_modules/.pnpm/superjson@2.2.2/node_modules/superjson/dist/registry.js\ninit_esm_shims();\n\n// ../../node_modules/.pnpm/superjson@2.2.2/node_modules/superjson/dist/double-indexed-kv.js\ninit_esm_shims();\nvar DoubleIndexedKV = class {\n  constructor() {\n    this.keyToValue = /* @__PURE__ */ new Map();\n    this.valueToKey = /* @__PURE__ */ new Map();\n  }\n  set(key, value) {\n    this.keyToValue.set(key, value);\n    this.valueToKey.set(value, key);\n  }\n  getByKey(key) {\n    return this.keyToValue.get(key);\n  }\n  getByValue(value) {\n    return this.valueToKey.get(value);\n  }\n  clear() {\n    this.keyToValue.clear();\n    this.valueToKey.clear();\n  }\n};\n\n// ../../node_modules/.pnpm/superjson@2.2.2/node_modules/superjson/dist/registry.js\nvar Registry = class {\n  constructor(generateIdentifier) {\n    this.generateIdentifier = generateIdentifier;\n    this.kv = new DoubleIndexedKV();\n  }\n  register(value, identifier) {\n    if (this.kv.getByValue(value)) {\n      return;\n    }\n    if (!identifier) {\n      identifier = this.generateIdentifier(value);\n    }\n    this.kv.set(identifier, value);\n  }\n  clear() {\n    this.kv.clear();\n  }\n  getIdentifier(value) {\n    return this.kv.getByValue(value);\n  }\n  getValue(identifier) {\n    return this.kv.getByKey(identifier);\n  }\n};\n\n// ../../node_modules/.pnpm/superjson@2.2.2/node_modules/superjson/dist/class-registry.js\nvar ClassRegistry = class extends Registry {\n  constructor() {\n    super((c) => c.name);\n    this.classToAllowedProps = /* @__PURE__ */ new Map();\n  }\n  register(value, options) {\n    if (typeof options === \"object\") {\n      if (options.allowProps) {\n        this.classToAllowedProps.set(value, options.allowProps);\n      }\n      super.register(value, options.identifier);\n    } else {\n      super.register(value, options);\n    }\n  }\n  getAllowedProps(value) {\n    return this.classToAllowedProps.get(value);\n  }\n};\n\n// ../../node_modules/.pnpm/superjson@2.2.2/node_modules/superjson/dist/custom-transformer-registry.js\ninit_esm_shims();\n\n// ../../node_modules/.pnpm/superjson@2.2.2/node_modules/superjson/dist/util.js\ninit_esm_shims();\nfunction valuesOfObj(record) {\n  if (\"values\" in Object) {\n    return Object.values(record);\n  }\n  const values = [];\n  for (const key in record) {\n    if (record.hasOwnProperty(key)) {\n      values.push(record[key]);\n    }\n  }\n  return values;\n}\nfunction find(record, predicate) {\n  const values = valuesOfObj(record);\n  if (\"find\" in values) {\n    return values.find(predicate);\n  }\n  const valuesNotNever = values;\n  for (let i = 0; i < valuesNotNever.length; i++) {\n    const value = valuesNotNever[i];\n    if (predicate(value)) {\n      return value;\n    }\n  }\n  return void 0;\n}\nfunction forEach(record, run) {\n  Object.entries(record).forEach(([key, value]) => run(value, key));\n}\nfunction includes(arr, value) {\n  return arr.indexOf(value) !== -1;\n}\nfunction findArr(record, predicate) {\n  for (let i = 0; i < record.length; i++) {\n    const value = record[i];\n    if (predicate(value)) {\n      return value;\n    }\n  }\n  return void 0;\n}\n\n// ../../node_modules/.pnpm/superjson@2.2.2/node_modules/superjson/dist/custom-transformer-registry.js\nvar CustomTransformerRegistry = class {\n  constructor() {\n    this.transfomers = {};\n  }\n  register(transformer) {\n    this.transfomers[transformer.name] = transformer;\n  }\n  findApplicable(v) {\n    return find(this.transfomers, (transformer) => transformer.isApplicable(v));\n  }\n  findByName(name) {\n    return this.transfomers[name];\n  }\n};\n\n// ../../node_modules/.pnpm/superjson@2.2.2/node_modules/superjson/dist/plainer.js\ninit_esm_shims();\n\n// ../../node_modules/.pnpm/superjson@2.2.2/node_modules/superjson/dist/is.js\ninit_esm_shims();\nvar getType = (payload) => Object.prototype.toString.call(payload).slice(8, -1);\nvar isUndefined = (payload) => typeof payload === \"undefined\";\nvar isNull = (payload) => payload === null;\nvar isPlainObject2 = (payload) => {\n  if (typeof payload !== \"object\" || payload === null)\n    return false;\n  if (payload === Object.prototype)\n    return false;\n  if (Object.getPrototypeOf(payload) === null)\n    return true;\n  return Object.getPrototypeOf(payload) === Object.prototype;\n};\nvar isEmptyObject = (payload) => isPlainObject2(payload) && Object.keys(payload).length === 0;\nvar isArray = (payload) => Array.isArray(payload);\nvar isString = (payload) => typeof payload === \"string\";\nvar isNumber = (payload) => typeof payload === \"number\" && !isNaN(payload);\nvar isBoolean = (payload) => typeof payload === \"boolean\";\nvar isRegExp = (payload) => payload instanceof RegExp;\nvar isMap = (payload) => payload instanceof Map;\nvar isSet = (payload) => payload instanceof Set;\nvar isSymbol = (payload) => getType(payload) === \"Symbol\";\nvar isDate = (payload) => payload instanceof Date && !isNaN(payload.valueOf());\nvar isError = (payload) => payload instanceof Error;\nvar isNaNValue = (payload) => typeof payload === \"number\" && isNaN(payload);\nvar isPrimitive2 = (payload) => isBoolean(payload) || isNull(payload) || isUndefined(payload) || isNumber(payload) || isString(payload) || isSymbol(payload);\nvar isBigint = (payload) => typeof payload === \"bigint\";\nvar isInfinite = (payload) => payload === Infinity || payload === -Infinity;\nvar isTypedArray = (payload) => ArrayBuffer.isView(payload) && !(payload instanceof DataView);\nvar isURL = (payload) => payload instanceof URL;\n\n// ../../node_modules/.pnpm/superjson@2.2.2/node_modules/superjson/dist/pathstringifier.js\ninit_esm_shims();\nvar escapeKey = (key) => key.replace(/\\./g, \"\\\\.\");\nvar stringifyPath = (path) => path.map(String).map(escapeKey).join(\".\");\nvar parsePath = (string) => {\n  const result = [];\n  let segment = \"\";\n  for (let i = 0; i < string.length; i++) {\n    let char = string.charAt(i);\n    const isEscapedDot = char === \"\\\\\" && string.charAt(i + 1) === \".\";\n    if (isEscapedDot) {\n      segment += \".\";\n      i++;\n      continue;\n    }\n    const isEndOfSegment = char === \".\";\n    if (isEndOfSegment) {\n      result.push(segment);\n      segment = \"\";\n      continue;\n    }\n    segment += char;\n  }\n  const lastSegment = segment;\n  result.push(lastSegment);\n  return result;\n};\n\n// ../../node_modules/.pnpm/superjson@2.2.2/node_modules/superjson/dist/transformer.js\ninit_esm_shims();\nfunction simpleTransformation(isApplicable, annotation, transform, untransform) {\n  return {\n    isApplicable,\n    annotation,\n    transform,\n    untransform\n  };\n}\nvar simpleRules = [\n  simpleTransformation(isUndefined, \"undefined\", () => null, () => void 0),\n  simpleTransformation(isBigint, \"bigint\", (v) => v.toString(), (v) => {\n    if (typeof BigInt !== \"undefined\") {\n      return BigInt(v);\n    }\n    console.error(\"Please add a BigInt polyfill.\");\n    return v;\n  }),\n  simpleTransformation(isDate, \"Date\", (v) => v.toISOString(), (v) => new Date(v)),\n  simpleTransformation(isError, \"Error\", (v, superJson) => {\n    const baseError = {\n      name: v.name,\n      message: v.message\n    };\n    superJson.allowedErrorProps.forEach((prop) => {\n      baseError[prop] = v[prop];\n    });\n    return baseError;\n  }, (v, superJson) => {\n    const e = new Error(v.message);\n    e.name = v.name;\n    e.stack = v.stack;\n    superJson.allowedErrorProps.forEach((prop) => {\n      e[prop] = v[prop];\n    });\n    return e;\n  }),\n  simpleTransformation(isRegExp, \"regexp\", (v) => \"\" + v, (regex) => {\n    const body = regex.slice(1, regex.lastIndexOf(\"/\"));\n    const flags = regex.slice(regex.lastIndexOf(\"/\") + 1);\n    return new RegExp(body, flags);\n  }),\n  simpleTransformation(\n    isSet,\n    \"set\",\n    // (sets only exist in es6+)\n    // eslint-disable-next-line es5/no-es6-methods\n    (v) => [...v.values()],\n    (v) => new Set(v)\n  ),\n  simpleTransformation(isMap, \"map\", (v) => [...v.entries()], (v) => new Map(v)),\n  simpleTransformation((v) => isNaNValue(v) || isInfinite(v), \"number\", (v) => {\n    if (isNaNValue(v)) {\n      return \"NaN\";\n    }\n    if (v > 0) {\n      return \"Infinity\";\n    } else {\n      return \"-Infinity\";\n    }\n  }, Number),\n  simpleTransformation((v) => v === 0 && 1 / v === -Infinity, \"number\", () => {\n    return \"-0\";\n  }, Number),\n  simpleTransformation(isURL, \"URL\", (v) => v.toString(), (v) => new URL(v))\n];\nfunction compositeTransformation(isApplicable, annotation, transform, untransform) {\n  return {\n    isApplicable,\n    annotation,\n    transform,\n    untransform\n  };\n}\nvar symbolRule = compositeTransformation((s, superJson) => {\n  if (isSymbol(s)) {\n    const isRegistered = !!superJson.symbolRegistry.getIdentifier(s);\n    return isRegistered;\n  }\n  return false;\n}, (s, superJson) => {\n  const identifier = superJson.symbolRegistry.getIdentifier(s);\n  return [\"symbol\", identifier];\n}, (v) => v.description, (_, a, superJson) => {\n  const value = superJson.symbolRegistry.getValue(a[1]);\n  if (!value) {\n    throw new Error(\"Trying to deserialize unknown symbol\");\n  }\n  return value;\n});\nvar constructorToName = [\n  Int8Array,\n  Uint8Array,\n  Int16Array,\n  Uint16Array,\n  Int32Array,\n  Uint32Array,\n  Float32Array,\n  Float64Array,\n  Uint8ClampedArray\n].reduce((obj, ctor) => {\n  obj[ctor.name] = ctor;\n  return obj;\n}, {});\nvar typedArrayRule = compositeTransformation(isTypedArray, (v) => [\"typed-array\", v.constructor.name], (v) => [...v], (v, a) => {\n  const ctor = constructorToName[a[1]];\n  if (!ctor) {\n    throw new Error(\"Trying to deserialize unknown typed array\");\n  }\n  return new ctor(v);\n});\nfunction isInstanceOfRegisteredClass(potentialClass, superJson) {\n  if (potentialClass == null ? void 0 : potentialClass.constructor) {\n    const isRegistered = !!superJson.classRegistry.getIdentifier(potentialClass.constructor);\n    return isRegistered;\n  }\n  return false;\n}\nvar classRule = compositeTransformation(isInstanceOfRegisteredClass, (clazz, superJson) => {\n  const identifier = superJson.classRegistry.getIdentifier(clazz.constructor);\n  return [\"class\", identifier];\n}, (clazz, superJson) => {\n  const allowedProps = superJson.classRegistry.getAllowedProps(clazz.constructor);\n  if (!allowedProps) {\n    return { ...clazz };\n  }\n  const result = {};\n  allowedProps.forEach((prop) => {\n    result[prop] = clazz[prop];\n  });\n  return result;\n}, (v, a, superJson) => {\n  const clazz = superJson.classRegistry.getValue(a[1]);\n  if (!clazz) {\n    throw new Error(`Trying to deserialize unknown class '${a[1]}' - check https://github.com/blitz-js/superjson/issues/116#issuecomment-773996564`);\n  }\n  return Object.assign(Object.create(clazz.prototype), v);\n});\nvar customRule = compositeTransformation((value, superJson) => {\n  return !!superJson.customTransformerRegistry.findApplicable(value);\n}, (value, superJson) => {\n  const transformer = superJson.customTransformerRegistry.findApplicable(value);\n  return [\"custom\", transformer.name];\n}, (value, superJson) => {\n  const transformer = superJson.customTransformerRegistry.findApplicable(value);\n  return transformer.serialize(value);\n}, (v, a, superJson) => {\n  const transformer = superJson.customTransformerRegistry.findByName(a[1]);\n  if (!transformer) {\n    throw new Error(\"Trying to deserialize unknown custom value\");\n  }\n  return transformer.deserialize(v);\n});\nvar compositeRules = [classRule, symbolRule, customRule, typedArrayRule];\nvar transformValue = (value, superJson) => {\n  const applicableCompositeRule = findArr(compositeRules, (rule) => rule.isApplicable(value, superJson));\n  if (applicableCompositeRule) {\n    return {\n      value: applicableCompositeRule.transform(value, superJson),\n      type: applicableCompositeRule.annotation(value, superJson)\n    };\n  }\n  const applicableSimpleRule = findArr(simpleRules, (rule) => rule.isApplicable(value, superJson));\n  if (applicableSimpleRule) {\n    return {\n      value: applicableSimpleRule.transform(value, superJson),\n      type: applicableSimpleRule.annotation\n    };\n  }\n  return void 0;\n};\nvar simpleRulesByAnnotation = {};\nsimpleRules.forEach((rule) => {\n  simpleRulesByAnnotation[rule.annotation] = rule;\n});\nvar untransformValue = (json, type, superJson) => {\n  if (isArray(type)) {\n    switch (type[0]) {\n      case \"symbol\":\n        return symbolRule.untransform(json, type, superJson);\n      case \"class\":\n        return classRule.untransform(json, type, superJson);\n      case \"custom\":\n        return customRule.untransform(json, type, superJson);\n      case \"typed-array\":\n        return typedArrayRule.untransform(json, type, superJson);\n      default:\n        throw new Error(\"Unknown transformation: \" + type);\n    }\n  } else {\n    const transformation = simpleRulesByAnnotation[type];\n    if (!transformation) {\n      throw new Error(\"Unknown transformation: \" + type);\n    }\n    return transformation.untransform(json, superJson);\n  }\n};\n\n// ../../node_modules/.pnpm/superjson@2.2.2/node_modules/superjson/dist/accessDeep.js\ninit_esm_shims();\nvar getNthKey = (value, n) => {\n  if (n > value.size)\n    throw new Error(\"index out of bounds\");\n  const keys = value.keys();\n  while (n > 0) {\n    keys.next();\n    n--;\n  }\n  return keys.next().value;\n};\nfunction validatePath(path) {\n  if (includes(path, \"__proto__\")) {\n    throw new Error(\"__proto__ is not allowed as a property\");\n  }\n  if (includes(path, \"prototype\")) {\n    throw new Error(\"prototype is not allowed as a property\");\n  }\n  if (includes(path, \"constructor\")) {\n    throw new Error(\"constructor is not allowed as a property\");\n  }\n}\nvar getDeep = (object, path) => {\n  validatePath(path);\n  for (let i = 0; i < path.length; i++) {\n    const key = path[i];\n    if (isSet(object)) {\n      object = getNthKey(object, +key);\n    } else if (isMap(object)) {\n      const row = +key;\n      const type = +path[++i] === 0 ? \"key\" : \"value\";\n      const keyOfRow = getNthKey(object, row);\n      switch (type) {\n        case \"key\":\n          object = keyOfRow;\n          break;\n        case \"value\":\n          object = object.get(keyOfRow);\n          break;\n      }\n    } else {\n      object = object[key];\n    }\n  }\n  return object;\n};\nvar setDeep = (object, path, mapper) => {\n  validatePath(path);\n  if (path.length === 0) {\n    return mapper(object);\n  }\n  let parent = object;\n  for (let i = 0; i < path.length - 1; i++) {\n    const key = path[i];\n    if (isArray(parent)) {\n      const index = +key;\n      parent = parent[index];\n    } else if (isPlainObject2(parent)) {\n      parent = parent[key];\n    } else if (isSet(parent)) {\n      const row = +key;\n      parent = getNthKey(parent, row);\n    } else if (isMap(parent)) {\n      const isEnd = i === path.length - 2;\n      if (isEnd) {\n        break;\n      }\n      const row = +key;\n      const type = +path[++i] === 0 ? \"key\" : \"value\";\n      const keyOfRow = getNthKey(parent, row);\n      switch (type) {\n        case \"key\":\n          parent = keyOfRow;\n          break;\n        case \"value\":\n          parent = parent.get(keyOfRow);\n          break;\n      }\n    }\n  }\n  const lastKey = path[path.length - 1];\n  if (isArray(parent)) {\n    parent[+lastKey] = mapper(parent[+lastKey]);\n  } else if (isPlainObject2(parent)) {\n    parent[lastKey] = mapper(parent[lastKey]);\n  }\n  if (isSet(parent)) {\n    const oldValue = getNthKey(parent, +lastKey);\n    const newValue = mapper(oldValue);\n    if (oldValue !== newValue) {\n      parent.delete(oldValue);\n      parent.add(newValue);\n    }\n  }\n  if (isMap(parent)) {\n    const row = +path[path.length - 2];\n    const keyToRow = getNthKey(parent, row);\n    const type = +lastKey === 0 ? \"key\" : \"value\";\n    switch (type) {\n      case \"key\": {\n        const newKey = mapper(keyToRow);\n        parent.set(newKey, parent.get(keyToRow));\n        if (newKey !== keyToRow) {\n          parent.delete(keyToRow);\n        }\n        break;\n      }\n      case \"value\": {\n        parent.set(keyToRow, mapper(parent.get(keyToRow)));\n        break;\n      }\n    }\n  }\n  return object;\n};\n\n// ../../node_modules/.pnpm/superjson@2.2.2/node_modules/superjson/dist/plainer.js\nfunction traverse(tree, walker2, origin = []) {\n  if (!tree) {\n    return;\n  }\n  if (!isArray(tree)) {\n    forEach(tree, (subtree, key) => traverse(subtree, walker2, [...origin, ...parsePath(key)]));\n    return;\n  }\n  const [nodeValue, children] = tree;\n  if (children) {\n    forEach(children, (child, key) => {\n      traverse(child, walker2, [...origin, ...parsePath(key)]);\n    });\n  }\n  walker2(nodeValue, origin);\n}\nfunction applyValueAnnotations(plain, annotations, superJson) {\n  traverse(annotations, (type, path) => {\n    plain = setDeep(plain, path, (v) => untransformValue(v, type, superJson));\n  });\n  return plain;\n}\nfunction applyReferentialEqualityAnnotations(plain, annotations) {\n  function apply(identicalPaths, path) {\n    const object = getDeep(plain, parsePath(path));\n    identicalPaths.map(parsePath).forEach((identicalObjectPath) => {\n      plain = setDeep(plain, identicalObjectPath, () => object);\n    });\n  }\n  if (isArray(annotations)) {\n    const [root, other] = annotations;\n    root.forEach((identicalPath) => {\n      plain = setDeep(plain, parsePath(identicalPath), () => plain);\n    });\n    if (other) {\n      forEach(other, apply);\n    }\n  } else {\n    forEach(annotations, apply);\n  }\n  return plain;\n}\nvar isDeep = (object, superJson) => isPlainObject2(object) || isArray(object) || isMap(object) || isSet(object) || isInstanceOfRegisteredClass(object, superJson);\nfunction addIdentity(object, path, identities) {\n  const existingSet = identities.get(object);\n  if (existingSet) {\n    existingSet.push(path);\n  } else {\n    identities.set(object, [path]);\n  }\n}\nfunction generateReferentialEqualityAnnotations(identitites, dedupe) {\n  const result = {};\n  let rootEqualityPaths = void 0;\n  identitites.forEach((paths) => {\n    if (paths.length <= 1) {\n      return;\n    }\n    if (!dedupe) {\n      paths = paths.map((path) => path.map(String)).sort((a, b) => a.length - b.length);\n    }\n    const [representativePath, ...identicalPaths] = paths;\n    if (representativePath.length === 0) {\n      rootEqualityPaths = identicalPaths.map(stringifyPath);\n    } else {\n      result[stringifyPath(representativePath)] = identicalPaths.map(stringifyPath);\n    }\n  });\n  if (rootEqualityPaths) {\n    if (isEmptyObject(result)) {\n      return [rootEqualityPaths];\n    } else {\n      return [rootEqualityPaths, result];\n    }\n  } else {\n    return isEmptyObject(result) ? void 0 : result;\n  }\n}\nvar walker = (object, identities, superJson, dedupe, path = [], objectsInThisPath = [], seenObjects = /* @__PURE__ */ new Map()) => {\n  var _a25;\n  const primitive = isPrimitive2(object);\n  if (!primitive) {\n    addIdentity(object, path, identities);\n    const seen = seenObjects.get(object);\n    if (seen) {\n      return dedupe ? {\n        transformedValue: null\n      } : seen;\n    }\n  }\n  if (!isDeep(object, superJson)) {\n    const transformed2 = transformValue(object, superJson);\n    const result2 = transformed2 ? {\n      transformedValue: transformed2.value,\n      annotations: [transformed2.type]\n    } : {\n      transformedValue: object\n    };\n    if (!primitive) {\n      seenObjects.set(object, result2);\n    }\n    return result2;\n  }\n  if (includes(objectsInThisPath, object)) {\n    return {\n      transformedValue: null\n    };\n  }\n  const transformationResult = transformValue(object, superJson);\n  const transformed = (_a25 = transformationResult == null ? void 0 : transformationResult.value) != null ? _a25 : object;\n  const transformedValue = isArray(transformed) ? [] : {};\n  const innerAnnotations = {};\n  forEach(transformed, (value, index) => {\n    if (index === \"__proto__\" || index === \"constructor\" || index === \"prototype\") {\n      throw new Error(`Detected property ${index}. This is a prototype pollution risk, please remove it from your object.`);\n    }\n    const recursiveResult = walker(value, identities, superJson, dedupe, [...path, index], [...objectsInThisPath, object], seenObjects);\n    transformedValue[index] = recursiveResult.transformedValue;\n    if (isArray(recursiveResult.annotations)) {\n      innerAnnotations[index] = recursiveResult.annotations;\n    } else if (isPlainObject2(recursiveResult.annotations)) {\n      forEach(recursiveResult.annotations, (tree, key) => {\n        innerAnnotations[escapeKey(index) + \".\" + key] = tree;\n      });\n    }\n  });\n  const result = isEmptyObject(innerAnnotations) ? {\n    transformedValue,\n    annotations: !!transformationResult ? [transformationResult.type] : void 0\n  } : {\n    transformedValue,\n    annotations: !!transformationResult ? [transformationResult.type, innerAnnotations] : innerAnnotations\n  };\n  if (!primitive) {\n    seenObjects.set(object, result);\n  }\n  return result;\n};\n\n// ../../node_modules/.pnpm/copy-anything@3.0.5/node_modules/copy-anything/dist/index.js\ninit_esm_shims();\n\n// ../../node_modules/.pnpm/is-what@4.1.16/node_modules/is-what/dist/index.js\ninit_esm_shims();\nfunction getType2(payload) {\n  return Object.prototype.toString.call(payload).slice(8, -1);\n}\nfunction isArray2(payload) {\n  return getType2(payload) === \"Array\";\n}\nfunction isPlainObject3(payload) {\n  if (getType2(payload) !== \"Object\")\n    return false;\n  const prototype = Object.getPrototypeOf(payload);\n  return !!prototype && prototype.constructor === Object && prototype === Object.prototype;\n}\nfunction isNull2(payload) {\n  return getType2(payload) === \"Null\";\n}\nfunction isOneOf(a, b, c, d, e) {\n  return (value) => a(value) || b(value) || !!c && c(value) || !!d && d(value) || !!e && e(value);\n}\nfunction isUndefined2(payload) {\n  return getType2(payload) === \"Undefined\";\n}\nvar isNullOrUndefined = isOneOf(isNull2, isUndefined2);\n\n// ../../node_modules/.pnpm/copy-anything@3.0.5/node_modules/copy-anything/dist/index.js\nfunction assignProp(carry, key, newVal, originalObject, includeNonenumerable) {\n  const propType = {}.propertyIsEnumerable.call(originalObject, key) ? \"enumerable\" : \"nonenumerable\";\n  if (propType === \"enumerable\")\n    carry[key] = newVal;\n  if (includeNonenumerable && propType === \"nonenumerable\") {\n    Object.defineProperty(carry, key, {\n      value: newVal,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    });\n  }\n}\nfunction copy(target22, options = {}) {\n  if (isArray2(target22)) {\n    return target22.map((item) => copy(item, options));\n  }\n  if (!isPlainObject3(target22)) {\n    return target22;\n  }\n  const props = Object.getOwnPropertyNames(target22);\n  const symbols = Object.getOwnPropertySymbols(target22);\n  return [...props, ...symbols].reduce((carry, key) => {\n    if (isArray2(options.props) && !options.props.includes(key)) {\n      return carry;\n    }\n    const val = target22[key];\n    const newVal = copy(val, options);\n    assignProp(carry, key, newVal, target22, options.nonenumerable);\n    return carry;\n  }, {});\n}\n\n// ../../node_modules/.pnpm/superjson@2.2.2/node_modules/superjson/dist/index.js\nvar SuperJSON = class {\n  /**\n   * @param dedupeReferentialEqualities  If true, SuperJSON will make sure only one instance of referentially equal objects are serialized and the rest are replaced with `null`.\n   */\n  constructor({ dedupe = false } = {}) {\n    this.classRegistry = new ClassRegistry();\n    this.symbolRegistry = new Registry((s) => {\n      var _a25;\n      return (_a25 = s.description) != null ? _a25 : \"\";\n    });\n    this.customTransformerRegistry = new CustomTransformerRegistry();\n    this.allowedErrorProps = [];\n    this.dedupe = dedupe;\n  }\n  serialize(object) {\n    const identities = /* @__PURE__ */ new Map();\n    const output = walker(object, identities, this, this.dedupe);\n    const res = {\n      json: output.transformedValue\n    };\n    if (output.annotations) {\n      res.meta = {\n        ...res.meta,\n        values: output.annotations\n      };\n    }\n    const equalityAnnotations = generateReferentialEqualityAnnotations(identities, this.dedupe);\n    if (equalityAnnotations) {\n      res.meta = {\n        ...res.meta,\n        referentialEqualities: equalityAnnotations\n      };\n    }\n    return res;\n  }\n  deserialize(payload) {\n    const { json, meta } = payload;\n    let result = copy(json);\n    if (meta == null ? void 0 : meta.values) {\n      result = applyValueAnnotations(result, meta.values, this);\n    }\n    if (meta == null ? void 0 : meta.referentialEqualities) {\n      result = applyReferentialEqualityAnnotations(result, meta.referentialEqualities);\n    }\n    return result;\n  }\n  stringify(object) {\n    return JSON.stringify(this.serialize(object));\n  }\n  parse(string) {\n    return this.deserialize(JSON.parse(string));\n  }\n  registerClass(v, options) {\n    this.classRegistry.register(v, options);\n  }\n  registerSymbol(v, identifier) {\n    this.symbolRegistry.register(v, identifier);\n  }\n  registerCustom(transformer, name) {\n    this.customTransformerRegistry.register({\n      name,\n      ...transformer\n    });\n  }\n  allowErrorProps(...props) {\n    this.allowedErrorProps.push(...props);\n  }\n};\nSuperJSON.defaultInstance = new SuperJSON();\nSuperJSON.serialize = SuperJSON.defaultInstance.serialize.bind(SuperJSON.defaultInstance);\nSuperJSON.deserialize = SuperJSON.defaultInstance.deserialize.bind(SuperJSON.defaultInstance);\nSuperJSON.stringify = SuperJSON.defaultInstance.stringify.bind(SuperJSON.defaultInstance);\nSuperJSON.parse = SuperJSON.defaultInstance.parse.bind(SuperJSON.defaultInstance);\nSuperJSON.registerClass = SuperJSON.defaultInstance.registerClass.bind(SuperJSON.defaultInstance);\nSuperJSON.registerSymbol = SuperJSON.defaultInstance.registerSymbol.bind(SuperJSON.defaultInstance);\nSuperJSON.registerCustom = SuperJSON.defaultInstance.registerCustom.bind(SuperJSON.defaultInstance);\nSuperJSON.allowErrorProps = SuperJSON.defaultInstance.allowErrorProps.bind(SuperJSON.defaultInstance);\nvar serialize = SuperJSON.serialize;\nvar deserialize = SuperJSON.deserialize;\nvar stringify = SuperJSON.stringify;\nvar parse = SuperJSON.parse;\nvar registerClass = SuperJSON.registerClass;\nvar registerCustom = SuperJSON.registerCustom;\nvar registerSymbol = SuperJSON.registerSymbol;\nvar allowErrorProps = SuperJSON.allowErrorProps;\n\n// src/messaging/presets/broadcast-channel/context.ts\ninit_esm_shims();\nvar __DEVTOOLS_KIT_BROADCAST_MESSAGING_EVENT_KEY = \"__devtools-kit-broadcast-messaging-event-key__\";\n\n// src/messaging/presets/broadcast-channel/index.ts\nvar BROADCAST_CHANNEL_NAME = \"__devtools-kit:broadcast-channel__\";\nfunction createBroadcastChannel() {\n  const channel = new BroadcastChannel(BROADCAST_CHANNEL_NAME);\n  return {\n    post: (data) => {\n      channel.postMessage(SuperJSON.stringify({\n        event: __DEVTOOLS_KIT_BROADCAST_MESSAGING_EVENT_KEY,\n        data\n      }));\n    },\n    on: (handler) => {\n      channel.onmessage = (event) => {\n        const parsed = SuperJSON.parse(event.data);\n        if (parsed.event === __DEVTOOLS_KIT_BROADCAST_MESSAGING_EVENT_KEY) {\n          handler(parsed.data);\n        }\n      };\n    }\n  };\n}\n\n// src/messaging/presets/electron/index.ts\ninit_esm_shims();\n\n// src/messaging/presets/electron/client.ts\ninit_esm_shims();\n\n// src/messaging/presets/electron/context.ts\ninit_esm_shims();\nimport { target as target16 } from \"@vue/devtools-shared\";\nvar __ELECTRON_CLIENT_CONTEXT__ = \"electron:client-context\";\nvar __ELECTRON_RPOXY_CONTEXT__ = \"electron:proxy-context\";\nvar __ELECTRON_SERVER_CONTEXT__ = \"electron:server-context\";\nvar __DEVTOOLS_KIT_ELECTRON_MESSAGING_EVENT_KEY__ = {\n  // client\n  CLIENT_TO_PROXY: \"client->proxy\",\n  // on: proxy->client\n  // proxy\n  PROXY_TO_CLIENT: \"proxy->client\",\n  // on: server->proxy\n  PROXY_TO_SERVER: \"proxy->server\",\n  // on: client->proxy\n  // server\n  SERVER_TO_PROXY: \"server->proxy\"\n  // on: proxy->server\n};\nfunction getElectronClientContext() {\n  return target16[__ELECTRON_CLIENT_CONTEXT__];\n}\nfunction setElectronClientContext(context) {\n  target16[__ELECTRON_CLIENT_CONTEXT__] = context;\n}\nfunction getElectronProxyContext() {\n  return target16[__ELECTRON_RPOXY_CONTEXT__];\n}\nfunction setElectronProxyContext(context) {\n  target16[__ELECTRON_RPOXY_CONTEXT__] = context;\n}\nfunction getElectronServerContext() {\n  return target16[__ELECTRON_SERVER_CONTEXT__];\n}\nfunction setElectronServerContext(context) {\n  target16[__ELECTRON_SERVER_CONTEXT__] = context;\n}\n\n// src/messaging/presets/electron/client.ts\nfunction createElectronClientChannel() {\n  const socket = getElectronClientContext();\n  return {\n    post: (data) => {\n      socket.emit(__DEVTOOLS_KIT_ELECTRON_MESSAGING_EVENT_KEY__.CLIENT_TO_PROXY, SuperJSON.stringify(data));\n    },\n    on: (handler) => {\n      socket.on(__DEVTOOLS_KIT_ELECTRON_MESSAGING_EVENT_KEY__.PROXY_TO_CLIENT, (e) => {\n        handler(SuperJSON.parse(e));\n      });\n    }\n  };\n}\n\n// src/messaging/presets/electron/proxy.ts\ninit_esm_shims();\nfunction createElectronProxyChannel() {\n  const socket = getElectronProxyContext();\n  return {\n    post: (data) => {\n    },\n    on: (handler) => {\n      socket.on(__DEVTOOLS_KIT_ELECTRON_MESSAGING_EVENT_KEY__.SERVER_TO_PROXY, (data) => {\n        socket.broadcast.emit(__DEVTOOLS_KIT_ELECTRON_MESSAGING_EVENT_KEY__.PROXY_TO_CLIENT, data);\n      });\n      socket.on(__DEVTOOLS_KIT_ELECTRON_MESSAGING_EVENT_KEY__.CLIENT_TO_PROXY, (data) => {\n        socket.broadcast.emit(__DEVTOOLS_KIT_ELECTRON_MESSAGING_EVENT_KEY__.PROXY_TO_SERVER, data);\n      });\n    }\n  };\n}\n\n// src/messaging/presets/electron/server.ts\ninit_esm_shims();\nfunction createElectronServerChannel() {\n  const socket = getElectronServerContext();\n  return {\n    post: (data) => {\n      socket.emit(__DEVTOOLS_KIT_ELECTRON_MESSAGING_EVENT_KEY__.SERVER_TO_PROXY, SuperJSON.stringify(data));\n    },\n    on: (handler) => {\n      socket.on(__DEVTOOLS_KIT_ELECTRON_MESSAGING_EVENT_KEY__.PROXY_TO_SERVER, (data) => {\n        handler(SuperJSON.parse(data));\n      });\n    }\n  };\n}\n\n// src/messaging/presets/extension/index.ts\ninit_esm_shims();\n\n// src/messaging/presets/extension/client.ts\ninit_esm_shims();\n\n// src/messaging/presets/extension/context.ts\ninit_esm_shims();\nimport { target as target17 } from \"@vue/devtools-shared\";\nvar __EXTENSION_CLIENT_CONTEXT__ = \"electron:client-context\";\nvar __DEVTOOLS_KIT_EXTENSION_MESSAGING_EVENT_KEY__ = {\n  // client\n  CLIENT_TO_PROXY: \"client->proxy\",\n  // on: proxy->client\n  // proxy\n  PROXY_TO_CLIENT: \"proxy->client\",\n  // on: server->proxy\n  PROXY_TO_SERVER: \"proxy->server\",\n  // on: client->proxy\n  // server\n  SERVER_TO_PROXY: \"server->proxy\"\n  // on: proxy->server\n};\nfunction getExtensionClientContext() {\n  return target17[__EXTENSION_CLIENT_CONTEXT__];\n}\nfunction setExtensionClientContext(context) {\n  target17[__EXTENSION_CLIENT_CONTEXT__] = context;\n}\n\n// src/messaging/presets/extension/client.ts\nfunction createExtensionClientChannel() {\n  let disconnected = false;\n  let port = null;\n  let reconnectTimer = null;\n  let onMessageHandler = null;\n  function connect() {\n    try {\n      clearTimeout(reconnectTimer);\n      port = chrome.runtime.connect({\n        name: `${chrome.devtools.inspectedWindow.tabId}`\n      });\n      setExtensionClientContext(port);\n      disconnected = false;\n      port == null ? void 0 : port.onMessage.addListener(onMessageHandler);\n      port.onDisconnect.addListener(() => {\n        disconnected = true;\n        port == null ? void 0 : port.onMessage.removeListener(onMessageHandler);\n        reconnectTimer = setTimeout(connect, 1e3);\n      });\n    } catch (e) {\n      disconnected = true;\n    }\n  }\n  connect();\n  return {\n    post: (data) => {\n      if (disconnected) {\n        return;\n      }\n      port == null ? void 0 : port.postMessage(SuperJSON.stringify(data));\n    },\n    on: (handler) => {\n      onMessageHandler = (data) => {\n        if (disconnected) {\n          return;\n        }\n        handler(SuperJSON.parse(data));\n      };\n      port == null ? void 0 : port.onMessage.addListener(onMessageHandler);\n    }\n  };\n}\n\n// src/messaging/presets/extension/proxy.ts\ninit_esm_shims();\nfunction createExtensionProxyChannel() {\n  const port = chrome.runtime.connect({\n    name: \"content-script\"\n  });\n  function sendMessageToUserApp(payload) {\n    window.postMessage({\n      source: __DEVTOOLS_KIT_EXTENSION_MESSAGING_EVENT_KEY__.PROXY_TO_SERVER,\n      payload\n    }, \"*\");\n  }\n  function sendMessageToDevToolsClient(e) {\n    if (e.data && e.data.source === __DEVTOOLS_KIT_EXTENSION_MESSAGING_EVENT_KEY__.SERVER_TO_PROXY) {\n      try {\n        port.postMessage(e.data.payload);\n      } catch (e2) {\n      }\n    }\n  }\n  port.onMessage.addListener(sendMessageToUserApp);\n  window.addEventListener(\"message\", sendMessageToDevToolsClient);\n  port.onDisconnect.addListener(() => {\n    window.removeEventListener(\"message\", sendMessageToDevToolsClient);\n    sendMessageToUserApp(SuperJSON.stringify({\n      event: \"shutdown\"\n    }));\n  });\n  sendMessageToUserApp(SuperJSON.stringify({\n    event: \"init\"\n  }));\n  return {\n    post: (data) => {\n    },\n    on: (handler) => {\n    }\n  };\n}\n\n// src/messaging/presets/extension/server.ts\ninit_esm_shims();\nfunction createExtensionServerChannel() {\n  return {\n    post: (data) => {\n      window.postMessage({\n        source: __DEVTOOLS_KIT_EXTENSION_MESSAGING_EVENT_KEY__.SERVER_TO_PROXY,\n        payload: SuperJSON.stringify(data)\n      }, \"*\");\n    },\n    on: (handler) => {\n      const listener = (event) => {\n        if (event.data.source === __DEVTOOLS_KIT_EXTENSION_MESSAGING_EVENT_KEY__.PROXY_TO_SERVER && event.data.payload) {\n          handler(SuperJSON.parse(event.data.payload));\n        }\n      };\n      window.addEventListener(\"message\", listener);\n      return () => {\n        window.removeEventListener(\"message\", listener);\n      };\n    }\n  };\n}\n\n// src/messaging/presets/iframe/index.ts\ninit_esm_shims();\n\n// src/messaging/presets/iframe/client.ts\ninit_esm_shims();\nimport { isBrowser as isBrowser4 } from \"@vue/devtools-shared\";\n\n// src/messaging/presets/iframe/context.ts\ninit_esm_shims();\nimport { target as target18 } from \"@vue/devtools-shared\";\nvar __DEVTOOLS_KIT_IFRAME_MESSAGING_EVENT_KEY = \"__devtools-kit-iframe-messaging-event-key__\";\nvar __IFRAME_SERVER_CONTEXT__ = \"iframe:server-context\";\nfunction getIframeServerContext() {\n  return target18[__IFRAME_SERVER_CONTEXT__];\n}\nfunction setIframeServerContext(context) {\n  target18[__IFRAME_SERVER_CONTEXT__] = context;\n}\n\n// src/messaging/presets/iframe/client.ts\nfunction createIframeClientChannel() {\n  if (!isBrowser4) {\n    return {\n      post: (data) => {\n      },\n      on: (handler) => {\n      }\n    };\n  }\n  return {\n    post: (data) => window.parent.postMessage(SuperJSON.stringify({\n      event: __DEVTOOLS_KIT_IFRAME_MESSAGING_EVENT_KEY,\n      data\n    }), \"*\"),\n    on: (handler) => window.addEventListener(\"message\", (event) => {\n      try {\n        const parsed = SuperJSON.parse(event.data);\n        if (event.source === window.parent && parsed.event === __DEVTOOLS_KIT_IFRAME_MESSAGING_EVENT_KEY) {\n          handler(parsed.data);\n        }\n      } catch (e) {\n      }\n    })\n  };\n}\n\n// src/messaging/presets/iframe/server.ts\ninit_esm_shims();\nimport { isBrowser as isBrowser5 } from \"@vue/devtools-shared\";\nfunction createIframeServerChannel() {\n  if (!isBrowser5) {\n    return {\n      post: (data) => {\n      },\n      on: (handler) => {\n      }\n    };\n  }\n  return {\n    post: (data) => {\n      var _a25;\n      const iframe = getIframeServerContext();\n      (_a25 = iframe == null ? void 0 : iframe.contentWindow) == null ? void 0 : _a25.postMessage(SuperJSON.stringify({\n        event: __DEVTOOLS_KIT_IFRAME_MESSAGING_EVENT_KEY,\n        data\n      }), \"*\");\n    },\n    on: (handler) => {\n      window.addEventListener(\"message\", (event) => {\n        const iframe = getIframeServerContext();\n        try {\n          const parsed = SuperJSON.parse(event.data);\n          if (event.source === (iframe == null ? void 0 : iframe.contentWindow) && parsed.event === __DEVTOOLS_KIT_IFRAME_MESSAGING_EVENT_KEY) {\n            handler(parsed.data);\n          }\n        } catch (e) {\n        }\n      });\n    }\n  };\n}\n\n// src/messaging/presets/vite/index.ts\ninit_esm_shims();\n\n// src/messaging/presets/vite/client.ts\ninit_esm_shims();\n\n// src/messaging/presets/vite/context.ts\ninit_esm_shims();\nimport { target as target19 } from \"@vue/devtools-shared\";\nvar __DEVTOOLS_KIT_VITE_MESSAGING_EVENT_KEY = \"__devtools-kit-vite-messaging-event-key__\";\nvar __VITE_CLIENT_CONTEXT__ = \"vite:client-context\";\nvar __VITE_SERVER_CONTEXT__ = \"vite:server-context\";\nfunction getViteClientContext() {\n  return target19[__VITE_CLIENT_CONTEXT__];\n}\nfunction setViteClientContext(context) {\n  target19[__VITE_CLIENT_CONTEXT__] = context;\n}\nfunction getViteServerContext() {\n  return target19[__VITE_SERVER_CONTEXT__];\n}\nfunction setViteServerContext(context) {\n  target19[__VITE_SERVER_CONTEXT__] = context;\n}\n\n// src/messaging/presets/vite/client.ts\nfunction createViteClientChannel() {\n  const client = getViteClientContext();\n  return {\n    post: (data) => {\n      client == null ? void 0 : client.send(__DEVTOOLS_KIT_VITE_MESSAGING_EVENT_KEY, SuperJSON.stringify(data));\n    },\n    on: (handler) => {\n      client == null ? void 0 : client.on(__DEVTOOLS_KIT_VITE_MESSAGING_EVENT_KEY, (event) => {\n        handler(SuperJSON.parse(event));\n      });\n    }\n  };\n}\n\n// src/messaging/presets/vite/server.ts\ninit_esm_shims();\nfunction createViteServerChannel() {\n  var _a25;\n  const viteServer = getViteServerContext();\n  const ws = (_a25 = viteServer.hot) != null ? _a25 : viteServer.ws;\n  return {\n    post: (data) => ws == null ? void 0 : ws.send(__DEVTOOLS_KIT_VITE_MESSAGING_EVENT_KEY, SuperJSON.stringify(data)),\n    on: (handler) => ws == null ? void 0 : ws.on(__DEVTOOLS_KIT_VITE_MESSAGING_EVENT_KEY, (event) => {\n      handler(SuperJSON.parse(event));\n    })\n  };\n}\n\n// src/messaging/presets/ws/index.ts\ninit_esm_shims();\n\n// src/messaging/presets/ws/client.ts\ninit_esm_shims();\n\n// src/messaging/presets/ws/context.ts\ninit_esm_shims();\nimport { target as target20 } from \"@vue/devtools-shared\";\n\n// src/messaging/presets/ws/server.ts\ninit_esm_shims();\n\n// src/messaging/index.ts\nvar _a19, _b19;\n(_b19 = (_a19 = target21).__VUE_DEVTOOLS_KIT_MESSAGE_CHANNELS__) != null ? _b19 : _a19.__VUE_DEVTOOLS_KIT_MESSAGE_CHANNELS__ = [];\nvar _a20, _b20;\n(_b20 = (_a20 = target21).__VUE_DEVTOOLS_KIT_RPC_CLIENT__) != null ? _b20 : _a20.__VUE_DEVTOOLS_KIT_RPC_CLIENT__ = null;\nvar _a21, _b21;\n(_b21 = (_a21 = target21).__VUE_DEVTOOLS_KIT_RPC_SERVER__) != null ? _b21 : _a21.__VUE_DEVTOOLS_KIT_RPC_SERVER__ = null;\nvar _a22, _b22;\n(_b22 = (_a22 = target21).__VUE_DEVTOOLS_KIT_VITE_RPC_CLIENT__) != null ? _b22 : _a22.__VUE_DEVTOOLS_KIT_VITE_RPC_CLIENT__ = null;\nvar _a23, _b23;\n(_b23 = (_a23 = target21).__VUE_DEVTOOLS_KIT_VITE_RPC_SERVER__) != null ? _b23 : _a23.__VUE_DEVTOOLS_KIT_VITE_RPC_SERVER__ = null;\nvar _a24, _b24;\n(_b24 = (_a24 = target21).__VUE_DEVTOOLS_KIT_BROADCAST_RPC_SERVER__) != null ? _b24 : _a24.__VUE_DEVTOOLS_KIT_BROADCAST_RPC_SERVER__ = null;\nfunction setRpcClientToGlobal(rpc) {\n  target21.__VUE_DEVTOOLS_KIT_RPC_CLIENT__ = rpc;\n}\nfunction setRpcServerToGlobal(rpc) {\n  target21.__VUE_DEVTOOLS_KIT_RPC_SERVER__ = rpc;\n}\nfunction getRpcClient() {\n  return target21.__VUE_DEVTOOLS_KIT_RPC_CLIENT__;\n}\nfunction getRpcServer() {\n  return target21.__VUE_DEVTOOLS_KIT_RPC_SERVER__;\n}\nfunction setViteRpcClientToGlobal(rpc) {\n  target21.__VUE_DEVTOOLS_KIT_VITE_RPC_CLIENT__ = rpc;\n}\nfunction setViteRpcServerToGlobal(rpc) {\n  target21.__VUE_DEVTOOLS_KIT_VITE_RPC_SERVER__ = rpc;\n}\nfunction getViteRpcClient() {\n  return target21.__VUE_DEVTOOLS_KIT_VITE_RPC_CLIENT__;\n}\nfunction getViteRpcServer() {\n  return target21.__VUE_DEVTOOLS_KIT_VITE_RPC_SERVER__;\n}\nfunction getChannel(preset, host = \"client\") {\n  const channel = {\n    iframe: {\n      client: createIframeClientChannel,\n      server: createIframeServerChannel\n    }[host],\n    electron: {\n      client: createElectronClientChannel,\n      proxy: createElectronProxyChannel,\n      server: createElectronServerChannel\n    }[host],\n    vite: {\n      client: createViteClientChannel,\n      server: createViteServerChannel\n    }[host],\n    broadcast: {\n      client: createBroadcastChannel,\n      server: createBroadcastChannel\n    }[host],\n    extension: {\n      client: createExtensionClientChannel,\n      proxy: createExtensionProxyChannel,\n      server: createExtensionServerChannel\n    }[host]\n  }[preset];\n  return channel();\n}\nfunction createRpcClient(functions, options = {}) {\n  const { channel: _channel, options: _options, preset } = options;\n  const channel = preset ? getChannel(preset) : _channel;\n  const rpc = createBirpc(functions, {\n    ..._options,\n    ...channel,\n    timeout: -1\n  });\n  if (preset === \"vite\") {\n    setViteRpcClientToGlobal(rpc);\n    return;\n  }\n  setRpcClientToGlobal(rpc);\n  return rpc;\n}\nfunction createRpcServer(functions, options = {}) {\n  const { channel: _channel, options: _options, preset } = options;\n  const channel = preset ? getChannel(preset, \"server\") : _channel;\n  const rpcServer = getRpcServer();\n  if (!rpcServer) {\n    const group = createBirpcGroup(functions, [channel], {\n      ..._options,\n      timeout: -1\n    });\n    if (preset === \"vite\") {\n      setViteRpcServerToGlobal(group);\n      return;\n    }\n    setRpcServerToGlobal(group);\n  } else {\n    rpcServer.updateChannels((channels) => {\n      channels.push(channel);\n    });\n  }\n}\nfunction createRpcProxy(options = {}) {\n  const { channel: _channel, options: _options, preset } = options;\n  const channel = preset ? getChannel(preset, \"proxy\") : _channel;\n  return createBirpc({}, {\n    ..._options,\n    ...channel,\n    timeout: -1\n  });\n}\n\n// src/shared/index.ts\ninit_esm_shims();\n\n// src/shared/env.ts\ninit_esm_shims();\n\n// src/shared/time.ts\ninit_esm_shims();\n\n// src/shared/util.ts\ninit_esm_shims();\n\n// src/core/component/state/replacer.ts\ninit_esm_shims();\n\n// src/core/component/state/custom.ts\ninit_esm_shims();\nfunction getFunctionDetails(func) {\n  let string = \"\";\n  let matches = null;\n  try {\n    string = Function.prototype.toString.call(func);\n    matches = String.prototype.match.call(string, /\\([\\s\\S]*?\\)/);\n  } catch (e) {\n  }\n  const match = matches && matches[0];\n  const args = typeof match === \"string\" ? match : \"(?)\";\n  const name = typeof func.name === \"string\" ? func.name : \"\";\n  return {\n    _custom: {\n      type: \"function\",\n      displayText: `<span style=\"opacity:.8;margin-right:5px;\">function</span> <span style=\"white-space:nowrap;\">${escape(name)}${args}</span>`,\n      tooltipText: string.trim() ? `<pre>${string}</pre>` : null\n    }\n  };\n}\nfunction getBigIntDetails(val) {\n  const stringifiedBigInt = BigInt.prototype.toString.call(val);\n  return {\n    _custom: {\n      type: \"bigint\",\n      displayText: `BigInt(${stringifiedBigInt})`,\n      value: stringifiedBigInt\n    }\n  };\n}\nfunction getDateDetails(val) {\n  const date = new Date(val.getTime());\n  date.setMinutes(date.getMinutes() - date.getTimezoneOffset());\n  return {\n    _custom: {\n      type: \"date\",\n      displayText: Date.prototype.toString.call(val),\n      value: date.toISOString().slice(0, -1)\n    }\n  };\n}\nfunction getMapDetails(val) {\n  const list = Object.fromEntries(val);\n  return {\n    _custom: {\n      type: \"map\",\n      displayText: \"Map\",\n      value: list,\n      readOnly: true,\n      fields: {\n        abstract: true\n      }\n    }\n  };\n}\nfunction getSetDetails(val) {\n  const list = Array.from(val);\n  return {\n    _custom: {\n      type: \"set\",\n      displayText: `Set[${list.length}]`,\n      value: list,\n      readOnly: true\n    }\n  };\n}\nfunction getCaughtGetters(store) {\n  const getters = {};\n  const origGetters = store.getters || {};\n  const keys = Object.keys(origGetters);\n  for (let i = 0; i < keys.length; i++) {\n    const key = keys[i];\n    Object.defineProperty(getters, key, {\n      enumerable: true,\n      get: () => {\n        try {\n          return origGetters[key];\n        } catch (e) {\n          return e;\n        }\n      }\n    });\n  }\n  return getters;\n}\nfunction reduceStateList(list) {\n  if (!list.length)\n    return void 0;\n  return list.reduce((map, item) => {\n    const key = item.type || \"data\";\n    const obj = map[key] = map[key] || {};\n    obj[item.key] = item.value;\n    return map;\n  }, {});\n}\nfunction namedNodeMapToObject(map) {\n  const result = {};\n  const l = map.length;\n  for (let i = 0; i < l; i++) {\n    const node = map.item(i);\n    result[node.name] = node.value;\n  }\n  return result;\n}\nfunction getStoreDetails(store) {\n  return {\n    _custom: {\n      type: \"store\",\n      displayText: \"Store\",\n      value: {\n        state: store.state,\n        getters: getCaughtGetters(store)\n      },\n      fields: {\n        abstract: true\n      }\n    }\n  };\n}\nfunction getRouterDetails(router) {\n  return {\n    _custom: {\n      type: \"router\",\n      displayText: \"VueRouter\",\n      value: {\n        options: router.options,\n        currentRoute: router.currentRoute\n      },\n      fields: {\n        abstract: true\n      }\n    }\n  };\n}\nfunction getInstanceDetails(instance) {\n  if (instance._)\n    instance = instance._;\n  const state = processInstanceState(instance);\n  return {\n    _custom: {\n      type: \"component\",\n      id: instance.__VUE_DEVTOOLS_NEXT_UID__,\n      displayText: getInstanceName(instance),\n      tooltipText: \"Component instance\",\n      value: reduceStateList(state),\n      fields: {\n        abstract: true\n      }\n    }\n  };\n}\nfunction getComponentDefinitionDetails(definition) {\n  let display = getComponentName(definition);\n  if (display) {\n    if (definition.name && definition.__file)\n      display += ` <span>(${definition.__file})</span>`;\n  } else {\n    display = \"<i>Unknown Component</i>\";\n  }\n  return {\n    _custom: {\n      type: \"component-definition\",\n      displayText: display,\n      tooltipText: \"Component definition\",\n      ...definition.__file ? {\n        file: definition.__file\n      } : {}\n    }\n  };\n}\nfunction getHTMLElementDetails(value) {\n  try {\n    return {\n      _custom: {\n        type: \"HTMLElement\",\n        displayText: `<span class=\"opacity-30\">&lt;</span><span class=\"text-blue-500\">${value.tagName.toLowerCase()}</span><span class=\"opacity-30\">&gt;</span>`,\n        value: namedNodeMapToObject(value.attributes)\n      }\n    };\n  } catch (e) {\n    return {\n      _custom: {\n        type: \"HTMLElement\",\n        displayText: `<span class=\"text-blue-500\">${String(value)}</span>`\n      }\n    };\n  }\n}\nfunction tryGetRefValue(ref) {\n  if (ensurePropertyExists(ref, \"_value\", true)) {\n    return ref._value;\n  }\n  if (ensurePropertyExists(ref, \"value\", true)) {\n    return ref.value;\n  }\n}\nfunction getObjectDetails(object) {\n  var _a25, _b25, _c, _d;\n  const info = getSetupStateType(object);\n  const isState = info.ref || info.computed || info.reactive;\n  if (isState) {\n    const stateTypeName = info.computed ? \"Computed\" : info.ref ? \"Ref\" : info.reactive ? \"Reactive\" : null;\n    const value = toRaw2(info.reactive ? object : tryGetRefValue(object));\n    const raw = ensurePropertyExists(object, \"effect\") ? ((_b25 = (_a25 = object.effect) == null ? void 0 : _a25.raw) == null ? void 0 : _b25.toString()) || ((_d = (_c = object.effect) == null ? void 0 : _c.fn) == null ? void 0 : _d.toString()) : null;\n    return {\n      _custom: {\n        type: stateTypeName == null ? void 0 : stateTypeName.toLowerCase(),\n        stateTypeName,\n        value,\n        ...raw ? { tooltipText: `<span class=\"font-mono\">${raw}</span>` } : {}\n      }\n    };\n  }\n  if (ensurePropertyExists(object, \"__asyncLoader\") && typeof object.__asyncLoader === \"function\") {\n    return {\n      _custom: {\n        type: \"component-definition\",\n        display: \"Async component definition\"\n      }\n    };\n  }\n}\n\n// src/core/component/state/replacer.ts\nfunction stringifyReplacer(key, _value, depth, seenInstance) {\n  var _a25;\n  if (key === \"compilerOptions\")\n    return;\n  const val = this[key];\n  const type = typeof val;\n  if (Array.isArray(val)) {\n    const l = val.length;\n    if (l > MAX_ARRAY_SIZE) {\n      return {\n        _isArray: true,\n        length: l,\n        items: val.slice(0, MAX_ARRAY_SIZE)\n      };\n    }\n    return val;\n  } else if (typeof val === \"string\") {\n    if (val.length > MAX_STRING_SIZE)\n      return `${val.substring(0, MAX_STRING_SIZE)}... (${val.length} total length)`;\n    else\n      return val;\n  } else if (type === \"undefined\") {\n    return UNDEFINED;\n  } else if (val === Number.POSITIVE_INFINITY) {\n    return INFINITY;\n  } else if (val === Number.NEGATIVE_INFINITY) {\n    return NEGATIVE_INFINITY;\n  } else if (typeof val === \"function\") {\n    return getFunctionDetails(val);\n  } else if (type === \"symbol\") {\n    return `[native Symbol ${Symbol.prototype.toString.call(val)}]`;\n  } else if (typeof val === \"bigint\") {\n    return getBigIntDetails(val);\n  } else if (val !== null && typeof val === \"object\") {\n    const proto = Object.prototype.toString.call(val);\n    if (proto === \"[object Map]\") {\n      return getMapDetails(val);\n    } else if (proto === \"[object Set]\") {\n      return getSetDetails(val);\n    } else if (proto === \"[object RegExp]\") {\n      return `[native RegExp ${RegExp.prototype.toString.call(val)}]`;\n    } else if (proto === \"[object Date]\") {\n      return getDateDetails(val);\n    } else if (proto === \"[object Error]\") {\n      return `[native Error ${val.message}<>${val.stack}]`;\n    } else if (ensurePropertyExists(val, \"state\", true) && ensurePropertyExists(val, \"_vm\", true)) {\n      return getStoreDetails(val);\n    } else if (val.constructor && val.constructor.name === \"VueRouter\") {\n      return getRouterDetails(val);\n    } else if (isVueInstance(val)) {\n      const componentVal = getInstanceDetails(val);\n      const parentInstanceDepth = seenInstance == null ? void 0 : seenInstance.get(val);\n      if (parentInstanceDepth && parentInstanceDepth < depth) {\n        return `[[CircularRef]] <${componentVal._custom.displayText}>`;\n      }\n      seenInstance == null ? void 0 : seenInstance.set(val, depth);\n      return componentVal;\n    } else if (ensurePropertyExists(val, \"render\", true) && typeof val.render === \"function\") {\n      return getComponentDefinitionDetails(val);\n    } else if (val.constructor && val.constructor.name === \"VNode\") {\n      return `[native VNode <${val.tag}>]`;\n    } else if (typeof HTMLElement !== \"undefined\" && val instanceof HTMLElement) {\n      return getHTMLElementDetails(val);\n    } else if (((_a25 = val.constructor) == null ? void 0 : _a25.name) === \"Store\" && \"_wrappedGetters\" in val) {\n      return \"[object Store]\";\n    } else if (ensurePropertyExists(val, \"currentRoute\", true)) {\n      return \"[object Router]\";\n    }\n    const customDetails = getObjectDetails(val);\n    if (customDetails != null)\n      return customDetails;\n  } else if (Number.isNaN(val)) {\n    return NAN;\n  }\n  return sanitize(val);\n}\n\n// src/shared/transfer.ts\ninit_esm_shims();\nvar MAX_SERIALIZED_SIZE = 2 * 1024 * 1024;\nfunction isObject(_data, proto) {\n  return proto === \"[object Object]\";\n}\nfunction isArray3(_data, proto) {\n  return proto === \"[object Array]\";\n}\nfunction isVueReactiveLinkNode(node) {\n  var _a25;\n  const constructorName = (_a25 = node == null ? void 0 : node.constructor) == null ? void 0 : _a25.name;\n  return constructorName === \"Dep\" && \"activeLink\" in node || constructorName === \"Link\" && \"dep\" in node;\n}\nfunction encode(data, replacer, list, seen, depth = 0, seenVueInstance = /* @__PURE__ */ new Map()) {\n  let stored;\n  let key;\n  let value;\n  let i;\n  let l;\n  const seenIndex = seen.get(data);\n  if (seenIndex != null)\n    return seenIndex;\n  const index = list.length;\n  const proto = Object.prototype.toString.call(data);\n  if (isObject(data, proto)) {\n    if (isVueReactiveLinkNode(data)) {\n      return index;\n    }\n    stored = {};\n    seen.set(data, index);\n    list.push(stored);\n    const keys = Object.keys(data);\n    for (i = 0, l = keys.length; i < l; i++) {\n      key = keys[i];\n      if (key === \"compilerOptions\")\n        return index;\n      value = data[key];\n      const isVm = value != null && isObject(value, Object.prototype.toString.call(data)) && isVueInstance(value);\n      try {\n        if (replacer) {\n          value = replacer.call(data, key, value, depth, seenVueInstance);\n        }\n      } catch (e) {\n        value = e;\n      }\n      stored[key] = encode(value, replacer, list, seen, depth + 1, seenVueInstance);\n      if (isVm) {\n        seenVueInstance.delete(value);\n      }\n    }\n  } else if (isArray3(data, proto)) {\n    stored = [];\n    seen.set(data, index);\n    list.push(stored);\n    for (i = 0, l = data.length; i < l; i++) {\n      try {\n        value = data[i];\n        if (replacer)\n          value = replacer.call(data, i, value, depth, seenVueInstance);\n      } catch (e) {\n        value = e;\n      }\n      stored[i] = encode(value, replacer, list, seen, depth + 1, seenVueInstance);\n    }\n  } else {\n    list.push(data);\n  }\n  return index;\n}\nfunction decode(list, reviver2 = null) {\n  let i = list.length;\n  let j, k, data, key, value, proto;\n  while (i--) {\n    data = list[i];\n    proto = Object.prototype.toString.call(data);\n    if (proto === \"[object Object]\") {\n      const keys = Object.keys(data);\n      for (j = 0, k = keys.length; j < k; j++) {\n        key = keys[j];\n        value = list[data[key]];\n        if (reviver2)\n          value = reviver2.call(data, key, value);\n        data[key] = value;\n      }\n    } else if (proto === \"[object Array]\") {\n      for (j = 0, k = data.length; j < k; j++) {\n        value = list[data[j]];\n        if (reviver2)\n          value = reviver2.call(data, j, value);\n        data[j] = value;\n      }\n    }\n  }\n}\nfunction stringifyCircularAutoChunks(data, replacer = null, space = null) {\n  let result;\n  try {\n    result = arguments.length === 1 ? JSON.stringify(data) : JSON.stringify(data, (k, v) => {\n      var _a25;\n      return (_a25 = replacer == null ? void 0 : replacer(k, v)) == null ? void 0 : _a25.call(this);\n    }, space);\n  } catch (e) {\n    result = stringifyStrictCircularAutoChunks(data, replacer, space);\n  }\n  if (result.length > MAX_SERIALIZED_SIZE) {\n    const chunkCount = Math.ceil(result.length / MAX_SERIALIZED_SIZE);\n    const chunks = [];\n    for (let i = 0; i < chunkCount; i++)\n      chunks.push(result.slice(i * MAX_SERIALIZED_SIZE, (i + 1) * MAX_SERIALIZED_SIZE));\n    return chunks;\n  }\n  return result;\n}\nfunction stringifyStrictCircularAutoChunks(data, replacer = null, space = null) {\n  const list = [];\n  encode(data, replacer, list, /* @__PURE__ */ new Map());\n  return space ? ` ${JSON.stringify(list, null, space)}` : ` ${JSON.stringify(list)}`;\n}\nfunction parseCircularAutoChunks(data, reviver2 = null) {\n  if (Array.isArray(data))\n    data = data.join(\"\");\n  const hasCircular = /^\\s/.test(data);\n  if (!hasCircular) {\n    return arguments.length === 1 ? JSON.parse(data) : JSON.parse(data, reviver2);\n  } else {\n    const list = JSON.parse(data);\n    decode(list, reviver2);\n    return list[0];\n  }\n}\n\n// src/shared/util.ts\nfunction stringify2(data) {\n  return stringifyCircularAutoChunks(data, stringifyReplacer);\n}\nfunction parse2(data, revive2 = false) {\n  if (data == void 0)\n    return {};\n  return revive2 ? parseCircularAutoChunks(data, reviver) : parseCircularAutoChunks(data);\n}\n\n// src/index.ts\nvar devtools = {\n  hook,\n  init: () => {\n    initDevTools();\n  },\n  get ctx() {\n    return devtoolsContext;\n  },\n  get api() {\n    return devtoolsContext.api;\n  }\n};\nexport {\n  DevToolsContextHookKeys,\n  DevToolsMessagingHookKeys,\n  DevToolsV6PluginAPIHookKeys,\n  INFINITY,\n  NAN,\n  NEGATIVE_INFINITY,\n  ROUTER_INFO_KEY,\n  ROUTER_KEY,\n  UNDEFINED,\n  activeAppRecord,\n  addCustomCommand,\n  addCustomTab,\n  addDevToolsAppRecord,\n  addDevToolsPluginToBuffer,\n  addInspector,\n  callConnectedUpdatedHook,\n  callDevToolsPluginSetupFn,\n  callInspectorUpdatedHook,\n  callStateUpdatedHook,\n  createComponentsDevToolsPlugin,\n  createDevToolsApi,\n  createDevToolsCtxHooks,\n  createRpcClient,\n  createRpcProxy,\n  createRpcServer,\n  devtools,\n  devtoolsAppRecords,\n  devtoolsContext,\n  devtoolsInspector,\n  devtoolsPluginBuffer,\n  devtoolsRouter,\n  devtoolsRouterInfo,\n  devtoolsState,\n  escape,\n  formatInspectorStateValue,\n  getActiveInspectors,\n  getDevToolsEnv,\n  getExtensionClientContext,\n  getInspector,\n  getInspectorActions,\n  getInspectorInfo,\n  getInspectorNodeActions,\n  getInspectorStateValueType,\n  getRaw,\n  getRpcClient,\n  getRpcServer,\n  getViteRpcClient,\n  getViteRpcServer,\n  initDevTools,\n  isPlainObject,\n  onDevToolsClientConnected,\n  onDevToolsConnected,\n  parse2 as parse,\n  registerDevToolsPlugin,\n  removeCustomCommand,\n  removeDevToolsAppRecord,\n  removeRegisteredPluginApp,\n  resetDevToolsState,\n  setActiveAppRecord,\n  setActiveAppRecordId,\n  setDevToolsEnv,\n  setElectronClientContext,\n  setElectronProxyContext,\n  setElectronServerContext,\n  setExtensionClientContext,\n  setIframeServerContext,\n  setOpenInEditorBaseUrl,\n  setRpcServerToGlobal,\n  setViteClientContext,\n  setViteRpcClientToGlobal,\n  setViteRpcServerToGlobal,\n  setViteServerContext,\n  setupDevToolsPlugin,\n  stringify2 as stringify,\n  toEdit,\n  toSubmit,\n  toggleClientConnected,\n  toggleComponentInspectorEnabled,\n  toggleHighPerfMode,\n  updateDevToolsClientDetected,\n  updateDevToolsState,\n  updateTimelineLayersState\n};\n","/*!\n * pinia v3.0.4\n * (c) 2025 Eduardo San Martin Morote\n * @license MIT\n */\nimport { hasInjectionContext, inject, toRaw, watch, unref, markRaw, effectScope, ref, isRef, isReactive, getCurrentScope, onScopeDispose, getCurrentInstance, reactive, toRef, nextTick, computed, toRefs } from 'vue';\nimport { setupDevtoolsPlugin } from '@vue/devtools-api';\n\nconst IS_CLIENT = typeof window !== 'undefined';\n\n/**\n * setActivePinia must be called to handle SSR at the top of functions like\n * `fetch`, `setup`, `serverPrefetch` and others\n */\nlet activePinia;\n/**\n * Sets or unsets the active pinia. Used in SSR and internally when calling\n * actions and getters\n *\n * @param pinia - Pinia instance\n */\n// @ts-expect-error: cannot constrain the type of the return\nconst setActivePinia = (pinia) => (activePinia = pinia);\n/**\n * Get the currently active pinia if there is any.\n */\nconst getActivePinia = (process.env.NODE_ENV !== 'production')\n    ? () => {\n        const pinia = hasInjectionContext() && inject(piniaSymbol);\n        if (!pinia && !IS_CLIENT) {\n            console.error(`[🍍]: Pinia instance not found in context. This falls back to the global activePinia which exposes you to cross-request pollution on the server. Most of the time, it means you are calling \"useStore()\" in the wrong place.\\n` +\n                `Read https://vuejs.org/guide/reusability/composables.html to learn more`);\n        }\n        return pinia || activePinia;\n    }\n    : () => (hasInjectionContext() && inject(piniaSymbol)) || activePinia;\nconst piniaSymbol = ((process.env.NODE_ENV !== 'production') ? Symbol('pinia') : /* istanbul ignore next */ Symbol());\n\nfunction isPlainObject(\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\no) {\n    return (o &&\n        typeof o === 'object' &&\n        Object.prototype.toString.call(o) === '[object Object]' &&\n        typeof o.toJSON !== 'function');\n}\n// type DeepReadonly<T> = { readonly [P in keyof T]: DeepReadonly<T[P]> }\n// TODO: can we change these to numbers?\n/**\n * Possible types for SubscriptionCallback\n */\nvar MutationType;\n(function (MutationType) {\n    /**\n     * Direct mutation of the state:\n     *\n     * - `store.name = 'new name'`\n     * - `store.$state.name = 'new name'`\n     * - `store.list.push('new item')`\n     */\n    MutationType[\"direct\"] = \"direct\";\n    /**\n     * Mutated the state with `$patch` and an object\n     *\n     * - `store.$patch({ name: 'newName' })`\n     */\n    MutationType[\"patchObject\"] = \"patch object\";\n    /**\n     * Mutated the state with `$patch` and a function\n     *\n     * - `store.$patch(state => state.name = 'newName')`\n     */\n    MutationType[\"patchFunction\"] = \"patch function\";\n    // maybe reset? for $state = {} and $reset\n})(MutationType || (MutationType = {}));\n\n/*\n * FileSaver.js A saveAs() FileSaver implementation.\n *\n * Originally by Eli Grey, adapted as an ESM module by Eduardo San Martin\n * Morote.\n *\n * License : MIT\n */\n// The one and only way of getting global scope in all environments\n// https://stackoverflow.com/q/3277182/1008999\nconst _global = /*#__PURE__*/ (() => typeof window === 'object' && window.window === window\n    ? window\n    : typeof self === 'object' && self.self === self\n        ? self\n        : typeof global === 'object' && global.global === global\n            ? global\n            : typeof globalThis === 'object'\n                ? globalThis\n                : { HTMLElement: null })();\nfunction bom(blob, { autoBom = false } = {}) {\n    // prepend BOM for UTF-8 XML and text/* types (including HTML)\n    // note: your browser will automatically convert UTF-16 U+FEFF to EF BB BF\n    if (autoBom &&\n        /^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(blob.type)) {\n        return new Blob([String.fromCharCode(0xfeff), blob], { type: blob.type });\n    }\n    return blob;\n}\nfunction download(url, name, opts) {\n    const xhr = new XMLHttpRequest();\n    xhr.open('GET', url);\n    xhr.responseType = 'blob';\n    xhr.onload = function () {\n        saveAs(xhr.response, name, opts);\n    };\n    xhr.onerror = function () {\n        console.error('could not download file');\n    };\n    xhr.send();\n}\nfunction corsEnabled(url) {\n    const xhr = new XMLHttpRequest();\n    // use sync to avoid popup blocker\n    xhr.open('HEAD', url, false);\n    try {\n        xhr.send();\n    }\n    catch (e) { }\n    return xhr.status >= 200 && xhr.status <= 299;\n}\n// `a.click()` doesn't work for all browsers (#465)\nfunction click(node) {\n    try {\n        node.dispatchEvent(new MouseEvent('click'));\n    }\n    catch (e) {\n        const evt = new MouseEvent('click', {\n            bubbles: true,\n            cancelable: true,\n            view: window,\n            detail: 0,\n            screenX: 80,\n            screenY: 20,\n            clientX: 80,\n            clientY: 20,\n            ctrlKey: false,\n            altKey: false,\n            shiftKey: false,\n            metaKey: false,\n            button: 0,\n            relatedTarget: null,\n        });\n        node.dispatchEvent(evt);\n    }\n}\nconst _navigator = typeof navigator === 'object' ? navigator : { userAgent: '' };\n// Detect WebView inside a native macOS app by ruling out all browsers\n// We just need to check for 'Safari' because all other browsers (besides Firefox) include that too\n// https://www.whatismybrowser.com/guides/the-latest-user-agent/macos\nconst isMacOSWebView = /*#__PURE__*/ (() => /Macintosh/.test(_navigator.userAgent) &&\n    /AppleWebKit/.test(_navigator.userAgent) &&\n    !/Safari/.test(_navigator.userAgent))();\nconst saveAs = !IS_CLIENT\n    ? () => { } // noop\n    : // Use download attribute first if possible (#193 Lumia mobile) unless this is a macOS WebView or mini program\n        typeof HTMLAnchorElement !== 'undefined' &&\n            'download' in HTMLAnchorElement.prototype &&\n            !isMacOSWebView\n            ? downloadSaveAs\n            : // Use msSaveOrOpenBlob as a second approach\n                'msSaveOrOpenBlob' in _navigator\n                    ? msSaveAs\n                    : // Fallback to using FileReader and a popup\n                        fileSaverSaveAs;\nfunction downloadSaveAs(blob, name = 'download', opts) {\n    const a = document.createElement('a');\n    a.download = name;\n    a.rel = 'noopener'; // tabnabbing\n    // TODO: detect chrome extensions & packaged apps\n    // a.target = '_blank'\n    if (typeof blob === 'string') {\n        // Support regular links\n        a.href = blob;\n        if (a.origin !== location.origin) {\n            if (corsEnabled(a.href)) {\n                download(blob, name, opts);\n            }\n            else {\n                a.target = '_blank';\n                click(a);\n            }\n        }\n        else {\n            click(a);\n        }\n    }\n    else {\n        // Support blobs\n        a.href = URL.createObjectURL(blob);\n        setTimeout(function () {\n            URL.revokeObjectURL(a.href);\n        }, 4e4); // 40s\n        setTimeout(function () {\n            click(a);\n        }, 0);\n    }\n}\nfunction msSaveAs(blob, name = 'download', opts) {\n    if (typeof blob === 'string') {\n        if (corsEnabled(blob)) {\n            download(blob, name, opts);\n        }\n        else {\n            const a = document.createElement('a');\n            a.href = blob;\n            a.target = '_blank';\n            setTimeout(function () {\n                click(a);\n            });\n        }\n    }\n    else {\n        // @ts-ignore: works on windows\n        navigator.msSaveOrOpenBlob(bom(blob, opts), name);\n    }\n}\nfunction fileSaverSaveAs(blob, name, opts, popup) {\n    // Open a popup immediately do go around popup blocker\n    // Mostly only available on user interaction and the fileReader is async so...\n    popup = popup || open('', '_blank');\n    if (popup) {\n        popup.document.title = popup.document.body.innerText = 'downloading...';\n    }\n    if (typeof blob === 'string')\n        return download(blob, name, opts);\n    const force = blob.type === 'application/octet-stream';\n    const isSafari = /constructor/i.test(String(_global.HTMLElement)) || 'safari' in _global;\n    const isChromeIOS = /CriOS\\/[\\d]+/.test(navigator.userAgent);\n    if ((isChromeIOS || (force && isSafari) || isMacOSWebView) &&\n        typeof FileReader !== 'undefined') {\n        // Safari doesn't allow downloading of blob URLs\n        const reader = new FileReader();\n        reader.onloadend = function () {\n            let url = reader.result;\n            if (typeof url !== 'string') {\n                popup = null;\n                throw new Error('Wrong reader.result type');\n            }\n            url = isChromeIOS\n                ? url\n                : url.replace(/^data:[^;]*;/, 'data:attachment/file;');\n            if (popup) {\n                popup.location.href = url;\n            }\n            else {\n                location.assign(url);\n            }\n            popup = null; // reverse-tabnabbing #460\n        };\n        reader.readAsDataURL(blob);\n    }\n    else {\n        const url = URL.createObjectURL(blob);\n        if (popup)\n            popup.location.assign(url);\n        else\n            location.href = url;\n        popup = null; // reverse-tabnabbing #460\n        setTimeout(function () {\n            URL.revokeObjectURL(url);\n        }, 4e4); // 40s\n    }\n}\n\n/**\n * Shows a toast or console.log\n *\n * @param message - message to log\n * @param type - different color of the tooltip\n */\nfunction toastMessage(message, type) {\n    const piniaMessage = '🍍 ' + message;\n    if (typeof __VUE_DEVTOOLS_TOAST__ === 'function') {\n        // No longer available :(\n        __VUE_DEVTOOLS_TOAST__(piniaMessage, type);\n    }\n    else if (type === 'error') {\n        console.error(piniaMessage);\n    }\n    else if (type === 'warn') {\n        console.warn(piniaMessage);\n    }\n    else {\n        console.log(piniaMessage);\n    }\n}\nfunction isPinia(o) {\n    return '_a' in o && 'install' in o;\n}\n\n/**\n * This file contain devtools actions, they are not Pinia actions.\n */\n// ---\nfunction checkClipboardAccess() {\n    if (!('clipboard' in navigator)) {\n        toastMessage(`Your browser doesn't support the Clipboard API`, 'error');\n        return true;\n    }\n}\nfunction checkNotFocusedError(error) {\n    if (error instanceof Error &&\n        error.message.toLowerCase().includes('document is not focused')) {\n        toastMessage('You need to activate the \"Emulate a focused page\" setting in the \"Rendering\" panel of devtools.', 'warn');\n        return true;\n    }\n    return false;\n}\nasync function actionGlobalCopyState(pinia) {\n    if (checkClipboardAccess())\n        return;\n    try {\n        await navigator.clipboard.writeText(JSON.stringify(pinia.state.value));\n        toastMessage('Global state copied to clipboard.');\n    }\n    catch (error) {\n        if (checkNotFocusedError(error))\n            return;\n        toastMessage(`Failed to serialize the state. Check the console for more details.`, 'error');\n        console.error(error);\n    }\n}\nasync function actionGlobalPasteState(pinia) {\n    if (checkClipboardAccess())\n        return;\n    try {\n        loadStoresState(pinia, JSON.parse(await navigator.clipboard.readText()));\n        toastMessage('Global state pasted from clipboard.');\n    }\n    catch (error) {\n        if (checkNotFocusedError(error))\n            return;\n        toastMessage(`Failed to deserialize the state from clipboard. Check the console for more details.`, 'error');\n        console.error(error);\n    }\n}\nasync function actionGlobalSaveState(pinia) {\n    try {\n        saveAs(new Blob([JSON.stringify(pinia.state.value)], {\n            type: 'text/plain;charset=utf-8',\n        }), 'pinia-state.json');\n    }\n    catch (error) {\n        toastMessage(`Failed to export the state as JSON. Check the console for more details.`, 'error');\n        console.error(error);\n    }\n}\nlet fileInput;\nfunction getFileOpener() {\n    if (!fileInput) {\n        fileInput = document.createElement('input');\n        fileInput.type = 'file';\n        fileInput.accept = '.json';\n    }\n    function openFile() {\n        return new Promise((resolve, reject) => {\n            fileInput.onchange = async () => {\n                const files = fileInput.files;\n                if (!files)\n                    return resolve(null);\n                const file = files.item(0);\n                if (!file)\n                    return resolve(null);\n                return resolve({ text: await file.text(), file });\n            };\n            // @ts-ignore: TODO: changed from 4.3 to 4.4\n            fileInput.oncancel = () => resolve(null);\n            fileInput.onerror = reject;\n            fileInput.click();\n        });\n    }\n    return openFile;\n}\nasync function actionGlobalOpenStateFile(pinia) {\n    try {\n        const open = getFileOpener();\n        const result = await open();\n        if (!result)\n            return;\n        const { text, file } = result;\n        loadStoresState(pinia, JSON.parse(text));\n        toastMessage(`Global state imported from \"${file.name}\".`);\n    }\n    catch (error) {\n        toastMessage(`Failed to import the state from JSON. Check the console for more details.`, 'error');\n        console.error(error);\n    }\n}\nfunction loadStoresState(pinia, state) {\n    for (const key in state) {\n        const storeState = pinia.state.value[key];\n        // store is already instantiated, patch it\n        if (storeState) {\n            Object.assign(storeState, state[key]);\n        }\n        else {\n            // store is not instantiated, set the initial state\n            pinia.state.value[key] = state[key];\n        }\n    }\n}\n\nfunction formatDisplay(display) {\n    return {\n        _custom: {\n            display,\n        },\n    };\n}\nconst PINIA_ROOT_LABEL = '🍍 Pinia (root)';\nconst PINIA_ROOT_ID = '_root';\nfunction formatStoreForInspectorTree(store) {\n    return isPinia(store)\n        ? {\n            id: PINIA_ROOT_ID,\n            label: PINIA_ROOT_LABEL,\n        }\n        : {\n            id: store.$id,\n            label: store.$id,\n        };\n}\nfunction formatStoreForInspectorState(store) {\n    if (isPinia(store)) {\n        const storeNames = Array.from(store._s.keys());\n        const storeMap = store._s;\n        const state = {\n            state: storeNames.map((storeId) => ({\n                editable: true,\n                key: storeId,\n                value: store.state.value[storeId],\n            })),\n            getters: storeNames\n                .filter((id) => storeMap.get(id)._getters)\n                .map((id) => {\n                const store = storeMap.get(id);\n                return {\n                    editable: false,\n                    key: id,\n                    value: store._getters.reduce((getters, key) => {\n                        getters[key] = store[key];\n                        return getters;\n                    }, {}),\n                };\n            }),\n        };\n        return state;\n    }\n    const state = {\n        state: Object.keys(store.$state).map((key) => ({\n            editable: true,\n            key,\n            value: store.$state[key],\n        })),\n    };\n    // avoid adding empty getters\n    if (store._getters && store._getters.length) {\n        state.getters = store._getters.map((getterName) => ({\n            editable: false,\n            key: getterName,\n            value: store[getterName],\n        }));\n    }\n    if (store._customProperties.size) {\n        state.customProperties = Array.from(store._customProperties).map((key) => ({\n            editable: true,\n            key,\n            value: store[key],\n        }));\n    }\n    return state;\n}\nfunction formatEventData(events) {\n    if (!events)\n        return {};\n    if (Array.isArray(events)) {\n        // TODO: handle add and delete for arrays and objects\n        return events.reduce((data, event) => {\n            data.keys.push(event.key);\n            data.operations.push(event.type);\n            data.oldValue[event.key] = event.oldValue;\n            data.newValue[event.key] = event.newValue;\n            return data;\n        }, {\n            oldValue: {},\n            keys: [],\n            operations: [],\n            newValue: {},\n        });\n    }\n    else {\n        return {\n            operation: formatDisplay(events.type),\n            key: formatDisplay(events.key),\n            oldValue: events.oldValue,\n            newValue: events.newValue,\n        };\n    }\n}\nfunction formatMutationType(type) {\n    switch (type) {\n        case MutationType.direct:\n            return 'mutation';\n        case MutationType.patchFunction:\n            return '$patch';\n        case MutationType.patchObject:\n            return '$patch';\n        default:\n            return 'unknown';\n    }\n}\n\n// timeline can be paused when directly changing the state\nlet isTimelineActive = true;\nconst componentStateTypes = [];\nconst MUTATIONS_LAYER_ID = 'pinia:mutations';\nconst INSPECTOR_ID = 'pinia';\nconst { assign: assign$1 } = Object;\n/**\n * Gets the displayed name of a store in devtools\n *\n * @param id - id of the store\n * @returns a formatted string\n */\nconst getStoreType = (id) => '🍍 ' + id;\n/**\n * Add the pinia plugin without any store. Allows displaying a Pinia plugin tab\n * as soon as it is added to the application.\n *\n * @param app - Vue application\n * @param pinia - pinia instance\n */\nfunction registerPiniaDevtools(app, pinia) {\n    setupDevtoolsPlugin({\n        id: 'dev.esm.pinia',\n        label: 'Pinia 🍍',\n        logo: 'https://pinia.vuejs.org/logo.svg',\n        packageName: 'pinia',\n        homepage: 'https://pinia.vuejs.org',\n        componentStateTypes,\n        app,\n    }, (api) => {\n        if (typeof api.now !== 'function') {\n            toastMessage('You seem to be using an outdated version of Vue Devtools. Are you still using the Beta release instead of the stable one? You can find the links at https://devtools.vuejs.org/guide/installation.html.');\n        }\n        api.addTimelineLayer({\n            id: MUTATIONS_LAYER_ID,\n            label: `Pinia 🍍`,\n            color: 0xe5df88,\n        });\n        api.addInspector({\n            id: INSPECTOR_ID,\n            label: 'Pinia 🍍',\n            icon: 'storage',\n            treeFilterPlaceholder: 'Search stores',\n            actions: [\n                {\n                    icon: 'content_copy',\n                    action: () => {\n                        actionGlobalCopyState(pinia);\n                    },\n                    tooltip: 'Serialize and copy the state',\n                },\n                {\n                    icon: 'content_paste',\n                    action: async () => {\n                        await actionGlobalPasteState(pinia);\n                        api.sendInspectorTree(INSPECTOR_ID);\n                        api.sendInspectorState(INSPECTOR_ID);\n                    },\n                    tooltip: 'Replace the state with the content of your clipboard',\n                },\n                {\n                    icon: 'save',\n                    action: () => {\n                        actionGlobalSaveState(pinia);\n                    },\n                    tooltip: 'Save the state as a JSON file',\n                },\n                {\n                    icon: 'folder_open',\n                    action: async () => {\n                        await actionGlobalOpenStateFile(pinia);\n                        api.sendInspectorTree(INSPECTOR_ID);\n                        api.sendInspectorState(INSPECTOR_ID);\n                    },\n                    tooltip: 'Import the state from a JSON file',\n                },\n            ],\n            nodeActions: [\n                {\n                    icon: 'restore',\n                    tooltip: 'Reset the state (with \"$reset\")',\n                    action: (nodeId) => {\n                        const store = pinia._s.get(nodeId);\n                        if (!store) {\n                            toastMessage(`Cannot reset \"${nodeId}\" store because it wasn't found.`, 'warn');\n                        }\n                        else if (typeof store.$reset !== 'function') {\n                            toastMessage(`Cannot reset \"${nodeId}\" store because it doesn't have a \"$reset\" method implemented.`, 'warn');\n                        }\n                        else {\n                            store.$reset();\n                            toastMessage(`Store \"${nodeId}\" reset.`);\n                        }\n                    },\n                },\n            ],\n        });\n        api.on.inspectComponent((payload) => {\n            const proxy = (payload.componentInstance &&\n                payload.componentInstance.proxy);\n            if (proxy && proxy._pStores) {\n                const piniaStores = payload.componentInstance.proxy._pStores;\n                Object.values(piniaStores).forEach((store) => {\n                    payload.instanceData.state.push({\n                        type: getStoreType(store.$id),\n                        key: 'state',\n                        editable: true,\n                        value: store._isOptionsAPI\n                            ? {\n                                _custom: {\n                                    value: toRaw(store.$state),\n                                    actions: [\n                                        {\n                                            icon: 'restore',\n                                            tooltip: 'Reset the state of this store',\n                                            action: () => store.$reset(),\n                                        },\n                                    ],\n                                },\n                            }\n                            : // NOTE: workaround to unwrap transferred refs\n                                Object.keys(store.$state).reduce((state, key) => {\n                                    state[key] = store.$state[key];\n                                    return state;\n                                }, {}),\n                    });\n                    if (store._getters && store._getters.length) {\n                        payload.instanceData.state.push({\n                            type: getStoreType(store.$id),\n                            key: 'getters',\n                            editable: false,\n                            value: store._getters.reduce((getters, key) => {\n                                try {\n                                    getters[key] = store[key];\n                                }\n                                catch (error) {\n                                    // @ts-expect-error: we just want to show it in devtools\n                                    getters[key] = error;\n                                }\n                                return getters;\n                            }, {}),\n                        });\n                    }\n                });\n            }\n        });\n        api.on.getInspectorTree((payload) => {\n            if (payload.app === app && payload.inspectorId === INSPECTOR_ID) {\n                let stores = [pinia];\n                stores = stores.concat(Array.from(pinia._s.values()));\n                payload.rootNodes = (payload.filter\n                    ? stores.filter((store) => '$id' in store\n                        ? store.$id\n                            .toLowerCase()\n                            .includes(payload.filter.toLowerCase())\n                        : PINIA_ROOT_LABEL.toLowerCase().includes(payload.filter.toLowerCase()))\n                    : stores).map(formatStoreForInspectorTree);\n            }\n        });\n        // Expose pinia instance as $pinia to window\n        globalThis.$pinia = pinia;\n        api.on.getInspectorState((payload) => {\n            if (payload.app === app && payload.inspectorId === INSPECTOR_ID) {\n                const inspectedStore = payload.nodeId === PINIA_ROOT_ID\n                    ? pinia\n                    : pinia._s.get(payload.nodeId);\n                if (!inspectedStore) {\n                    // this could be the selected store restored for a different project\n                    // so it's better not to say anything here\n                    return;\n                }\n                if (inspectedStore) {\n                    // Expose selected store as $store to window\n                    if (payload.nodeId !== PINIA_ROOT_ID)\n                        globalThis.$store = toRaw(inspectedStore);\n                    payload.state = formatStoreForInspectorState(inspectedStore);\n                }\n            }\n        });\n        api.on.editInspectorState((payload) => {\n            if (payload.app === app && payload.inspectorId === INSPECTOR_ID) {\n                const inspectedStore = payload.nodeId === PINIA_ROOT_ID\n                    ? pinia\n                    : pinia._s.get(payload.nodeId);\n                if (!inspectedStore) {\n                    return toastMessage(`store \"${payload.nodeId}\" not found`, 'error');\n                }\n                const { path } = payload;\n                if (!isPinia(inspectedStore)) {\n                    // access only the state\n                    if (path.length !== 1 ||\n                        !inspectedStore._customProperties.has(path[0]) ||\n                        path[0] in inspectedStore.$state) {\n                        path.unshift('$state');\n                    }\n                }\n                else {\n                    // Root access, we can omit the `.value` because the devtools API does it for us\n                    path.unshift('state');\n                }\n                isTimelineActive = false;\n                payload.set(inspectedStore, path, payload.state.value);\n                isTimelineActive = true;\n            }\n        });\n        api.on.editComponentState((payload) => {\n            if (payload.type.startsWith('🍍')) {\n                const storeId = payload.type.replace(/^🍍\\s*/, '');\n                const store = pinia._s.get(storeId);\n                if (!store) {\n                    return toastMessage(`store \"${storeId}\" not found`, 'error');\n                }\n                const { path } = payload;\n                if (path[0] !== 'state') {\n                    return toastMessage(`Invalid path for store \"${storeId}\":\\n${path}\\nOnly state can be modified.`);\n                }\n                // rewrite the first entry to be able to directly set the state as\n                // well as any other path\n                path[0] = '$state';\n                isTimelineActive = false;\n                payload.set(store, path, payload.state.value);\n                isTimelineActive = true;\n            }\n        });\n    });\n}\nfunction addStoreToDevtools(app, store) {\n    if (!componentStateTypes.includes(getStoreType(store.$id))) {\n        componentStateTypes.push(getStoreType(store.$id));\n    }\n    setupDevtoolsPlugin({\n        id: 'dev.esm.pinia',\n        label: 'Pinia 🍍',\n        logo: 'https://pinia.vuejs.org/logo.svg',\n        packageName: 'pinia',\n        homepage: 'https://pinia.vuejs.org',\n        componentStateTypes,\n        app,\n        settings: {\n            logStoreChanges: {\n                label: 'Notify about new/deleted stores',\n                type: 'boolean',\n                defaultValue: true,\n            },\n            // useEmojis: {\n            //   label: 'Use emojis in messages ⚡️',\n            //   type: 'boolean',\n            //   defaultValue: true,\n            // },\n        },\n    }, (api) => {\n        // gracefully handle errors\n        const now = typeof api.now === 'function' ? api.now.bind(api) : Date.now;\n        store.$onAction(({ after, onError, name, args }) => {\n            const groupId = runningActionId++;\n            api.addTimelineEvent({\n                layerId: MUTATIONS_LAYER_ID,\n                event: {\n                    time: now(),\n                    title: '🛫 ' + name,\n                    subtitle: 'start',\n                    data: {\n                        store: formatDisplay(store.$id),\n                        action: formatDisplay(name),\n                        args,\n                    },\n                    groupId,\n                },\n            });\n            after((result) => {\n                activeAction = undefined;\n                api.addTimelineEvent({\n                    layerId: MUTATIONS_LAYER_ID,\n                    event: {\n                        time: now(),\n                        title: '🛬 ' + name,\n                        subtitle: 'end',\n                        data: {\n                            store: formatDisplay(store.$id),\n                            action: formatDisplay(name),\n                            args,\n                            result,\n                        },\n                        groupId,\n                    },\n                });\n            });\n            onError((error) => {\n                activeAction = undefined;\n                api.addTimelineEvent({\n                    layerId: MUTATIONS_LAYER_ID,\n                    event: {\n                        time: now(),\n                        logType: 'error',\n                        title: '💥 ' + name,\n                        subtitle: 'end',\n                        data: {\n                            store: formatDisplay(store.$id),\n                            action: formatDisplay(name),\n                            args,\n                            error,\n                        },\n                        groupId,\n                    },\n                });\n            });\n        }, true);\n        store._customProperties.forEach((name) => {\n            watch(() => unref(store[name]), (newValue, oldValue) => {\n                api.notifyComponentUpdate();\n                api.sendInspectorState(INSPECTOR_ID);\n                if (isTimelineActive) {\n                    api.addTimelineEvent({\n                        layerId: MUTATIONS_LAYER_ID,\n                        event: {\n                            time: now(),\n                            title: 'Change',\n                            subtitle: name,\n                            data: {\n                                newValue,\n                                oldValue,\n                            },\n                            groupId: activeAction,\n                        },\n                    });\n                }\n            }, { deep: true });\n        });\n        store.$subscribe(({ events, type }, state) => {\n            api.notifyComponentUpdate();\n            api.sendInspectorState(INSPECTOR_ID);\n            if (!isTimelineActive)\n                return;\n            // rootStore.state[store.id] = state\n            const eventData = {\n                time: now(),\n                title: formatMutationType(type),\n                data: assign$1({ store: formatDisplay(store.$id) }, formatEventData(events)),\n                groupId: activeAction,\n            };\n            if (type === MutationType.patchFunction) {\n                eventData.subtitle = '⤵️';\n            }\n            else if (type === MutationType.patchObject) {\n                eventData.subtitle = '🧩';\n            }\n            else if (events && !Array.isArray(events)) {\n                eventData.subtitle = events.type;\n            }\n            if (events) {\n                eventData.data['rawEvent(s)'] = {\n                    _custom: {\n                        display: 'DebuggerEvent',\n                        type: 'object',\n                        tooltip: 'raw DebuggerEvent[]',\n                        value: events,\n                    },\n                };\n            }\n            api.addTimelineEvent({\n                layerId: MUTATIONS_LAYER_ID,\n                event: eventData,\n            });\n        }, { detached: true, flush: 'sync' });\n        const hotUpdate = store._hotUpdate;\n        store._hotUpdate = markRaw((newStore) => {\n            hotUpdate(newStore);\n            api.addTimelineEvent({\n                layerId: MUTATIONS_LAYER_ID,\n                event: {\n                    time: now(),\n                    title: '🔥 ' + store.$id,\n                    subtitle: 'HMR update',\n                    data: {\n                        store: formatDisplay(store.$id),\n                        info: formatDisplay(`HMR update`),\n                    },\n                },\n            });\n            // update the devtools too\n            api.notifyComponentUpdate();\n            api.sendInspectorTree(INSPECTOR_ID);\n            api.sendInspectorState(INSPECTOR_ID);\n        });\n        const { $dispose } = store;\n        store.$dispose = () => {\n            $dispose();\n            api.notifyComponentUpdate();\n            api.sendInspectorTree(INSPECTOR_ID);\n            api.sendInspectorState(INSPECTOR_ID);\n            api.getSettings().logStoreChanges &&\n                toastMessage(`Disposed \"${store.$id}\" store 🗑`);\n        };\n        // trigger an update so it can display new registered stores\n        api.notifyComponentUpdate();\n        api.sendInspectorTree(INSPECTOR_ID);\n        api.sendInspectorState(INSPECTOR_ID);\n        api.getSettings().logStoreChanges &&\n            toastMessage(`\"${store.$id}\" store installed 🆕`);\n    });\n}\nlet runningActionId = 0;\nlet activeAction;\n/**\n * Patches a store to enable action grouping in devtools by wrapping the store with a Proxy that is passed as the\n * context of all actions, allowing us to set `runningAction` on each access and effectively associating any state\n * mutation to the action.\n *\n * @param store - store to patch\n * @param actionNames - list of actionst to patch\n */\nfunction patchActionForGrouping(store, actionNames, wrapWithProxy) {\n    // original actions of the store as they are given by pinia. We are going to override them\n    const actions = actionNames.reduce((storeActions, actionName) => {\n        // use toRaw to avoid tracking #541\n        storeActions[actionName] = toRaw(store)[actionName];\n        return storeActions;\n    }, {});\n    for (const actionName in actions) {\n        store[actionName] = function () {\n            // the running action id is incremented in a before action hook\n            const _actionId = runningActionId;\n            const trackedStore = wrapWithProxy\n                ? new Proxy(store, {\n                    get(...args) {\n                        activeAction = _actionId;\n                        return Reflect.get(...args);\n                    },\n                    set(...args) {\n                        activeAction = _actionId;\n                        return Reflect.set(...args);\n                    },\n                })\n                : store;\n            // For Setup Stores we need https://github.com/tc39/proposal-async-context\n            activeAction = _actionId;\n            const retValue = actions[actionName].apply(trackedStore, arguments);\n            // this is safer as async actions in Setup Stores would associate mutations done outside of the action\n            activeAction = undefined;\n            return retValue;\n        };\n    }\n}\n/**\n * pinia.use(devtoolsPlugin)\n */\nfunction devtoolsPlugin({ app, store, options }) {\n    // HMR module\n    if (store.$id.startsWith('__hot:')) {\n        return;\n    }\n    // detect option api vs setup api\n    store._isOptionsAPI = !!options.state;\n    // Do not overwrite actions mocked by @pinia/testing (#2298)\n    if (!store._p._testing) {\n        patchActionForGrouping(store, Object.keys(options.actions), store._isOptionsAPI);\n        // Upgrade the HMR to also update the new actions\n        const originalHotUpdate = store._hotUpdate;\n        toRaw(store)._hotUpdate = function (newStore) {\n            originalHotUpdate.apply(this, arguments);\n            patchActionForGrouping(store, Object.keys(newStore._hmrPayload.actions), !!store._isOptionsAPI);\n        };\n    }\n    addStoreToDevtools(app, \n    // FIXME: is there a way to allow the assignment from Store<Id, S, G, A> to StoreGeneric?\n    store);\n}\n\n/**\n * Creates a Pinia instance to be used by the application\n */\nfunction createPinia() {\n    const scope = effectScope(true);\n    // NOTE: here we could check the window object for a state and directly set it\n    // if there is anything like it with Vue 3 SSR\n    const state = scope.run(() => ref({}));\n    let _p = [];\n    // plugins added before calling app.use(pinia)\n    let toBeInstalled = [];\n    const pinia = markRaw({\n        install(app) {\n            // this allows calling useStore() outside of a component setup after\n            // installing pinia's plugin\n            setActivePinia(pinia);\n            pinia._a = app;\n            app.provide(piniaSymbol, pinia);\n            app.config.globalProperties.$pinia = pinia;\n            /* istanbul ignore else */\n            if ((((process.env.NODE_ENV !== 'production') || (typeof __VUE_PROD_DEVTOOLS__ !== 'undefined' && __VUE_PROD_DEVTOOLS__)) && !(process.env.NODE_ENV === 'test')) && IS_CLIENT) {\n                registerPiniaDevtools(app, pinia);\n            }\n            toBeInstalled.forEach((plugin) => _p.push(plugin));\n            toBeInstalled = [];\n        },\n        use(plugin) {\n            if (!this._a) {\n                toBeInstalled.push(plugin);\n            }\n            else {\n                _p.push(plugin);\n            }\n            return this;\n        },\n        _p,\n        // it's actually undefined here\n        // @ts-expect-error\n        _a: null,\n        _e: scope,\n        _s: new Map(),\n        state,\n    });\n    // pinia devtools rely on dev only features so they cannot be forced unless\n    // the dev build of Vue is used. Avoid old browsers like IE11.\n    if ((((process.env.NODE_ENV !== 'production') || (typeof __VUE_PROD_DEVTOOLS__ !== 'undefined' && __VUE_PROD_DEVTOOLS__)) && !(process.env.NODE_ENV === 'test')) && IS_CLIENT && typeof Proxy !== 'undefined') {\n        pinia.use(devtoolsPlugin);\n    }\n    return pinia;\n}\n/**\n * Dispose a Pinia instance by stopping its effectScope and removing the state, plugins and stores. This is mostly\n * useful in tests, with both a testing pinia or a regular pinia and in applications that use multiple pinia instances.\n * Once disposed, the pinia instance cannot be used anymore.\n *\n * @param pinia - pinia instance\n */\nfunction disposePinia(pinia) {\n    pinia._e.stop();\n    pinia._s.clear();\n    pinia._p.splice(0);\n    pinia.state.value = {};\n    // @ts-expect-error: non valid\n    pinia._a = null;\n}\n\n/**\n * Checks if a function is a `StoreDefinition`.\n *\n * @param fn - object to test\n * @returns true if `fn` is a StoreDefinition\n */\nconst isUseStore = (fn) => {\n    return typeof fn === 'function' && typeof fn.$id === 'string';\n};\n/**\n * Mutates in place `newState` with `oldState` to _hot update_ it. It will\n * remove any key not existing in `newState` and recursively merge plain\n * objects.\n *\n * @param newState - new state object to be patched\n * @param oldState - old state that should be used to patch newState\n * @returns - newState\n */\nfunction patchObject(newState, oldState) {\n    // no need to go through symbols because they cannot be serialized anyway\n    for (const key in oldState) {\n        const subPatch = oldState[key];\n        // skip the whole sub tree\n        if (!(key in newState)) {\n            continue;\n        }\n        const targetValue = newState[key];\n        if (isPlainObject(targetValue) &&\n            isPlainObject(subPatch) &&\n            !isRef(subPatch) &&\n            !isReactive(subPatch)) {\n            newState[key] = patchObject(targetValue, subPatch);\n        }\n        else {\n            // objects are either a bit more complex (e.g. refs) or primitives, so we\n            // just set the whole thing\n            newState[key] = subPatch;\n        }\n    }\n    return newState;\n}\n/**\n * Creates an _accept_ function to pass to `import.meta.hot` in Vite applications.\n *\n * @example\n * ```js\n * const useUser = defineStore(...)\n * if (import.meta.hot) {\n *   import.meta.hot.accept(acceptHMRUpdate(useUser, import.meta.hot))\n * }\n * ```\n *\n * @param initialUseStore - return of the defineStore to hot update\n * @param hot - `import.meta.hot`\n */\nfunction acceptHMRUpdate(initialUseStore, hot) {\n    // strip as much as possible from iife.prod\n    if (!(process.env.NODE_ENV !== 'production')) {\n        return () => { };\n    }\n    return (newModule) => {\n        const pinia = hot.data.pinia || initialUseStore._pinia;\n        if (!pinia) {\n            // this store is still not used\n            return;\n        }\n        // preserve the pinia instance across loads\n        hot.data.pinia = pinia;\n        // console.log('got data', newStore)\n        for (const exportName in newModule) {\n            const useStore = newModule[exportName];\n            // console.log('checking for', exportName)\n            if (isUseStore(useStore) && pinia._s.has(useStore.$id)) {\n                // console.log('Accepting update for', useStore.$id)\n                const id = useStore.$id;\n                if (id !== initialUseStore.$id) {\n                    console.warn(`The id of the store changed from \"${initialUseStore.$id}\" to \"${id}\". Reloading.`);\n                    // return import.meta.hot.invalidate()\n                    return hot.invalidate();\n                }\n                const existingStore = pinia._s.get(id);\n                if (!existingStore) {\n                    console.log(`[Pinia]: skipping hmr because store doesn't exist yet`);\n                    return;\n                }\n                useStore(pinia, existingStore);\n            }\n        }\n    };\n}\n\nconst noop = () => { };\nfunction addSubscription(subscriptions, callback, detached, onCleanup = noop) {\n    subscriptions.add(callback);\n    const removeSubscription = () => {\n        const isDel = subscriptions.delete(callback);\n        isDel && onCleanup();\n    };\n    if (!detached && getCurrentScope()) {\n        onScopeDispose(removeSubscription);\n    }\n    return removeSubscription;\n}\nfunction triggerSubscriptions(subscriptions, ...args) {\n    subscriptions.forEach((callback) => {\n        callback(...args);\n    });\n}\n\nconst fallbackRunWithContext = (fn) => fn();\n/**\n * Marks a function as an action for `$onAction`\n * @internal\n */\nconst ACTION_MARKER = Symbol();\n/**\n * Action name symbol. Allows to add a name to an action after defining it\n * @internal\n */\nconst ACTION_NAME = Symbol();\nfunction mergeReactiveObjects(target, patchToApply) {\n    // Handle Map instances\n    if (target instanceof Map && patchToApply instanceof Map) {\n        patchToApply.forEach((value, key) => target.set(key, value));\n    }\n    else if (target instanceof Set && patchToApply instanceof Set) {\n        // Handle Set instances\n        patchToApply.forEach(target.add, target);\n    }\n    // no need to go through symbols because they cannot be serialized anyway\n    for (const key in patchToApply) {\n        if (!patchToApply.hasOwnProperty(key))\n            continue;\n        const subPatch = patchToApply[key];\n        const targetValue = target[key];\n        if (isPlainObject(targetValue) &&\n            isPlainObject(subPatch) &&\n            target.hasOwnProperty(key) &&\n            !isRef(subPatch) &&\n            !isReactive(subPatch)) {\n            // NOTE: here I wanted to warn about inconsistent types but it's not possible because in setup stores one might\n            // start the value of a property as a certain type e.g. a Map, and then for some reason, during SSR, change that\n            // to `undefined`. When trying to hydrate, we want to override the Map with `undefined`.\n            target[key] = mergeReactiveObjects(targetValue, subPatch);\n        }\n        else {\n            // @ts-expect-error: subPatch is a valid value\n            target[key] = subPatch;\n        }\n    }\n    return target;\n}\nconst skipHydrateSymbol = (process.env.NODE_ENV !== 'production')\n    ? Symbol('pinia:skipHydration')\n    : /* istanbul ignore next */ Symbol();\n/**\n * Tells Pinia to skip the hydration process of a given object. This is useful in setup stores (only) when you return a\n * stateful object in the store but it isn't really state. e.g. returning a router instance in a setup store.\n *\n * @param obj - target object\n * @returns obj\n */\nfunction skipHydrate(obj) {\n    return Object.defineProperty(obj, skipHydrateSymbol, {});\n}\n/**\n * Returns whether a value should be hydrated\n *\n * @param obj - target variable\n * @returns true if `obj` should be hydrated\n */\nfunction shouldHydrate(obj) {\n    return (!isPlainObject(obj) ||\n        !Object.prototype.hasOwnProperty.call(obj, skipHydrateSymbol));\n}\nconst { assign } = Object;\nfunction isComputed(o) {\n    return !!(isRef(o) && o.effect);\n}\nfunction createOptionsStore(id, options, pinia, hot) {\n    const { state, actions, getters } = options;\n    const initialState = pinia.state.value[id];\n    let store;\n    function setup() {\n        if (!initialState && (!(process.env.NODE_ENV !== 'production') || !hot)) {\n            /* istanbul ignore if */\n            pinia.state.value[id] = state ? state() : {};\n        }\n        // avoid creating a state in pinia.state.value\n        const localState = (process.env.NODE_ENV !== 'production') && hot\n            ? // use ref() to unwrap refs inside state TODO: check if this is still necessary\n                toRefs(ref(state ? state() : {}).value)\n            : toRefs(pinia.state.value[id]);\n        return assign(localState, actions, Object.keys(getters || {}).reduce((computedGetters, name) => {\n            if ((process.env.NODE_ENV !== 'production') && name in localState) {\n                console.warn(`[🍍]: A getter cannot have the same name as another state property. Rename one of them. Found with \"${name}\" in store \"${id}\".`);\n            }\n            computedGetters[name] = markRaw(computed(() => {\n                setActivePinia(pinia);\n                // it was created just before\n                const store = pinia._s.get(id);\n                // allow cross using stores\n                // @ts-expect-error\n                // return getters![name].call(context, context)\n                // TODO: avoid reading the getter while assigning with a global variable\n                return getters[name].call(store, store);\n            }));\n            return computedGetters;\n        }, {}));\n    }\n    store = createSetupStore(id, setup, options, pinia, hot, true);\n    return store;\n}\nfunction createSetupStore($id, setup, options = {}, pinia, hot, isOptionsStore) {\n    let scope;\n    const optionsForPlugin = assign({ actions: {} }, options);\n    /* istanbul ignore if */\n    if ((process.env.NODE_ENV !== 'production') && !pinia._e.active) {\n        throw new Error('Pinia destroyed');\n    }\n    // watcher options for $subscribe\n    const $subscribeOptions = { deep: true };\n    /* istanbul ignore else */\n    if ((process.env.NODE_ENV !== 'production')) {\n        $subscribeOptions.onTrigger = (event) => {\n            /* istanbul ignore else */\n            if (isListening) {\n                debuggerEvents = event;\n                // avoid triggering this while the store is being built and the state is being set in pinia\n            }\n            else if (isListening == false && !store._hotUpdating) {\n                // let patch send all the events together later\n                /* istanbul ignore else */\n                if (Array.isArray(debuggerEvents)) {\n                    debuggerEvents.push(event);\n                }\n                else {\n                    console.error('🍍 debuggerEvents should be an array. This is most likely an internal Pinia bug.');\n                }\n            }\n        };\n    }\n    // internal state\n    let isListening; // set to true at the end\n    let isSyncListening; // set to true at the end\n    let subscriptions = new Set();\n    let actionSubscriptions = new Set();\n    let debuggerEvents;\n    const initialState = pinia.state.value[$id];\n    // avoid setting the state for option stores if it is set\n    // by the setup\n    if (!isOptionsStore && !initialState && (!(process.env.NODE_ENV !== 'production') || !hot)) {\n        /* istanbul ignore if */\n        pinia.state.value[$id] = {};\n    }\n    const hotState = ref({});\n    // avoid triggering too many listeners\n    // https://github.com/vuejs/pinia/issues/1129\n    let activeListener;\n    function $patch(partialStateOrMutator) {\n        let subscriptionMutation;\n        isListening = isSyncListening = false;\n        // reset the debugger events since patches are sync\n        /* istanbul ignore else */\n        if ((process.env.NODE_ENV !== 'production')) {\n            debuggerEvents = [];\n        }\n        if (typeof partialStateOrMutator === 'function') {\n            partialStateOrMutator(pinia.state.value[$id]);\n            subscriptionMutation = {\n                type: MutationType.patchFunction,\n                storeId: $id,\n                events: debuggerEvents,\n            };\n        }\n        else {\n            mergeReactiveObjects(pinia.state.value[$id], partialStateOrMutator);\n            subscriptionMutation = {\n                type: MutationType.patchObject,\n                payload: partialStateOrMutator,\n                storeId: $id,\n                events: debuggerEvents,\n            };\n        }\n        const myListenerId = (activeListener = Symbol());\n        nextTick().then(() => {\n            if (activeListener === myListenerId) {\n                isListening = true;\n            }\n        });\n        isSyncListening = true;\n        // because we paused the watcher, we need to manually call the subscriptions\n        triggerSubscriptions(subscriptions, subscriptionMutation, pinia.state.value[$id]);\n    }\n    const $reset = isOptionsStore\n        ? function $reset() {\n            const { state } = options;\n            const newState = state ? state() : {};\n            // we use a patch to group all changes into one single subscription\n            this.$patch(($state) => {\n                // @ts-expect-error: FIXME: shouldn't error?\n                assign($state, newState);\n            });\n        }\n        : /* istanbul ignore next */\n            (process.env.NODE_ENV !== 'production')\n                ? () => {\n                    throw new Error(`🍍: Store \"${$id}\" is built using the setup syntax and does not implement $reset().`);\n                }\n                : noop;\n    function $dispose() {\n        scope.stop();\n        subscriptions.clear();\n        actionSubscriptions.clear();\n        pinia._s.delete($id);\n    }\n    /**\n     * Helper that wraps function so it can be tracked with $onAction\n     * @param fn - action to wrap\n     * @param name - name of the action\n     */\n    const action = (fn, name = '') => {\n        if (ACTION_MARKER in fn) {\n            fn[ACTION_NAME] = name;\n            return fn;\n        }\n        const wrappedAction = function () {\n            setActivePinia(pinia);\n            const args = Array.from(arguments);\n            const afterCallbackSet = new Set();\n            const onErrorCallbackSet = new Set();\n            function after(callback) {\n                afterCallbackSet.add(callback);\n            }\n            function onError(callback) {\n                onErrorCallbackSet.add(callback);\n            }\n            // @ts-expect-error\n            triggerSubscriptions(actionSubscriptions, {\n                args,\n                name: wrappedAction[ACTION_NAME],\n                store,\n                after,\n                onError,\n            });\n            let ret;\n            try {\n                ret = fn.apply(this && this.$id === $id ? this : store, args);\n                // handle sync errors\n            }\n            catch (error) {\n                triggerSubscriptions(onErrorCallbackSet, error);\n                throw error;\n            }\n            if (ret instanceof Promise) {\n                return ret\n                    .then((value) => {\n                    triggerSubscriptions(afterCallbackSet, value);\n                    return value;\n                })\n                    .catch((error) => {\n                    triggerSubscriptions(onErrorCallbackSet, error);\n                    return Promise.reject(error);\n                });\n            }\n            // trigger after callbacks\n            triggerSubscriptions(afterCallbackSet, ret);\n            return ret;\n        };\n        wrappedAction[ACTION_MARKER] = true;\n        wrappedAction[ACTION_NAME] = name; // will be set later\n        // @ts-expect-error: we are intentionally limiting the returned type to just Fn\n        // because all the added properties are internals that are exposed through `$onAction()` only\n        return wrappedAction;\n    };\n    const _hmrPayload = /*#__PURE__*/ markRaw({\n        actions: {},\n        getters: {},\n        state: [],\n        hotState,\n    });\n    const partialStore = {\n        _p: pinia,\n        // _s: scope,\n        $id,\n        $onAction: addSubscription.bind(null, actionSubscriptions),\n        $patch,\n        $reset,\n        $subscribe(callback, options = {}) {\n            const removeSubscription = addSubscription(subscriptions, callback, options.detached, () => stopWatcher());\n            const stopWatcher = scope.run(() => watch(() => pinia.state.value[$id], (state) => {\n                if (options.flush === 'sync' ? isSyncListening : isListening) {\n                    callback({\n                        storeId: $id,\n                        type: MutationType.direct,\n                        events: debuggerEvents,\n                    }, state);\n                }\n            }, assign({}, $subscribeOptions, options)));\n            return removeSubscription;\n        },\n        $dispose,\n    };\n    const store = reactive((process.env.NODE_ENV !== 'production') || ((((process.env.NODE_ENV !== 'production') || (typeof __VUE_PROD_DEVTOOLS__ !== 'undefined' && __VUE_PROD_DEVTOOLS__)) && !(process.env.NODE_ENV === 'test')) && IS_CLIENT)\n        ? assign({\n            _hmrPayload,\n            _customProperties: markRaw(new Set()), // devtools custom properties\n        }, partialStore\n        // must be added later\n        // setupStore\n        )\n        : partialStore);\n    // store the partial store now so the setup of stores can instantiate each other before they are finished without\n    // creating infinite loops.\n    pinia._s.set($id, store);\n    const runWithContext = (pinia._a && pinia._a.runWithContext) || fallbackRunWithContext;\n    // TODO: idea create skipSerialize that marks properties as non serializable and they are skipped\n    const setupStore = runWithContext(() => pinia._e.run(() => (scope = effectScope()).run(() => setup({ action }))));\n    // overwrite existing actions to support $onAction\n    for (const key in setupStore) {\n        const prop = setupStore[key];\n        if ((isRef(prop) && !isComputed(prop)) || isReactive(prop)) {\n            // mark it as a piece of state to be serialized\n            if ((process.env.NODE_ENV !== 'production') && hot) {\n                hotState.value[key] = toRef(setupStore, key);\n                // createOptionStore directly sets the state in pinia.state.value so we\n                // can just skip that\n            }\n            else if (!isOptionsStore) {\n                // in setup stores we must hydrate the state and sync pinia state tree with the refs the user just created\n                if (initialState && shouldHydrate(prop)) {\n                    if (isRef(prop)) {\n                        prop.value = initialState[key];\n                    }\n                    else {\n                        // probably a reactive object, lets recursively assign\n                        // @ts-expect-error: prop is unknown\n                        mergeReactiveObjects(prop, initialState[key]);\n                    }\n                }\n                // transfer the ref to the pinia state to keep everything in sync\n                pinia.state.value[$id][key] = prop;\n            }\n            /* istanbul ignore else */\n            if ((process.env.NODE_ENV !== 'production')) {\n                _hmrPayload.state.push(key);\n            }\n            // action\n        }\n        else if (typeof prop === 'function') {\n            const actionValue = (process.env.NODE_ENV !== 'production') && hot ? prop : action(prop, key);\n            // this a hot module replacement store because the hotUpdate method needs\n            // to do it with the right context\n            // @ts-expect-error\n            setupStore[key] = actionValue;\n            /* istanbul ignore else */\n            if ((process.env.NODE_ENV !== 'production')) {\n                _hmrPayload.actions[key] = prop;\n            }\n            // list actions so they can be used in plugins\n            // @ts-expect-error\n            optionsForPlugin.actions[key] = prop;\n        }\n        else if ((process.env.NODE_ENV !== 'production')) {\n            // add getters for devtools\n            if (isComputed(prop)) {\n                _hmrPayload.getters[key] = isOptionsStore\n                    ? // @ts-expect-error\n                        options.getters[key]\n                    : prop;\n                if (IS_CLIENT) {\n                    const getters = setupStore._getters ||\n                        // @ts-expect-error: same\n                        (setupStore._getters = markRaw([]));\n                    getters.push(key);\n                }\n            }\n        }\n    }\n    // add the state, getters, and action properties\n    /* istanbul ignore if */\n    assign(store, setupStore);\n    // allows retrieving reactive objects with `storeToRefs()`. Must be called after assigning to the reactive object.\n    // Make `storeToRefs()` work with `reactive()` #799\n    assign(toRaw(store), setupStore);\n    // use this instead of a computed with setter to be able to create it anywhere\n    // without linking the computed lifespan to wherever the store is first\n    // created.\n    Object.defineProperty(store, '$state', {\n        get: () => ((process.env.NODE_ENV !== 'production') && hot ? hotState.value : pinia.state.value[$id]),\n        set: (state) => {\n            /* istanbul ignore if */\n            if ((process.env.NODE_ENV !== 'production') && hot) {\n                throw new Error('cannot set hotState');\n            }\n            $patch(($state) => {\n                // @ts-expect-error: FIXME: shouldn't error?\n                assign($state, state);\n            });\n        },\n    });\n    // add the hotUpdate before plugins to allow them to override it\n    /* istanbul ignore else */\n    if ((process.env.NODE_ENV !== 'production')) {\n        store._hotUpdate = markRaw((newStore) => {\n            store._hotUpdating = true;\n            newStore._hmrPayload.state.forEach((stateKey) => {\n                if (stateKey in store.$state) {\n                    const newStateTarget = newStore.$state[stateKey];\n                    const oldStateSource = store.$state[stateKey];\n                    if (typeof newStateTarget === 'object' &&\n                        isPlainObject(newStateTarget) &&\n                        isPlainObject(oldStateSource)) {\n                        patchObject(newStateTarget, oldStateSource);\n                    }\n                    else {\n                        // transfer the ref\n                        newStore.$state[stateKey] = oldStateSource;\n                    }\n                }\n                // patch direct access properties to allow store.stateProperty to work as\n                // store.$state.stateProperty\n                // @ts-expect-error: any type\n                store[stateKey] = toRef(newStore.$state, stateKey);\n            });\n            // remove deleted state properties\n            Object.keys(store.$state).forEach((stateKey) => {\n                if (!(stateKey in newStore.$state)) {\n                    // @ts-expect-error: noop if doesn't exist\n                    delete store[stateKey];\n                }\n            });\n            // avoid devtools logging this as a mutation\n            isListening = false;\n            isSyncListening = false;\n            pinia.state.value[$id] = toRef(newStore._hmrPayload, 'hotState');\n            isSyncListening = true;\n            nextTick().then(() => {\n                isListening = true;\n            });\n            for (const actionName in newStore._hmrPayload.actions) {\n                const actionFn = newStore[actionName];\n                // @ts-expect-error: actionName is a string\n                store[actionName] =\n                    //\n                    action(actionFn, actionName);\n            }\n            // TODO: does this work in both setup and option store?\n            for (const getterName in newStore._hmrPayload.getters) {\n                const getter = newStore._hmrPayload.getters[getterName];\n                const getterValue = isOptionsStore\n                    ? // special handling of options api\n                        computed(() => {\n                            setActivePinia(pinia);\n                            return getter.call(store, store);\n                        })\n                    : getter;\n                // @ts-expect-error: getterName is a string\n                store[getterName] =\n                    //\n                    getterValue;\n            }\n            // remove deleted getters\n            Object.keys(store._hmrPayload.getters).forEach((key) => {\n                if (!(key in newStore._hmrPayload.getters)) {\n                    // @ts-expect-error: noop if doesn't exist\n                    delete store[key];\n                }\n            });\n            // remove old actions\n            Object.keys(store._hmrPayload.actions).forEach((key) => {\n                if (!(key in newStore._hmrPayload.actions)) {\n                    // @ts-expect-error: noop if doesn't exist\n                    delete store[key];\n                }\n            });\n            // update the values used in devtools and to allow deleting new properties later on\n            store._hmrPayload = newStore._hmrPayload;\n            store._getters = newStore._getters;\n            store._hotUpdating = false;\n        });\n    }\n    if ((((process.env.NODE_ENV !== 'production') || (typeof __VUE_PROD_DEVTOOLS__ !== 'undefined' && __VUE_PROD_DEVTOOLS__)) && !(process.env.NODE_ENV === 'test')) && IS_CLIENT) {\n        const nonEnumerable = {\n            writable: true,\n            configurable: true,\n            // avoid warning on devtools trying to display this property\n            enumerable: false,\n        };\n        ['_p', '_hmrPayload', '_getters', '_customProperties'].forEach((p) => {\n            Object.defineProperty(store, p, assign({ value: store[p] }, nonEnumerable));\n        });\n    }\n    // apply all plugins\n    pinia._p.forEach((extender) => {\n        /* istanbul ignore else */\n        if ((((process.env.NODE_ENV !== 'production') || (typeof __VUE_PROD_DEVTOOLS__ !== 'undefined' && __VUE_PROD_DEVTOOLS__)) && !(process.env.NODE_ENV === 'test')) && IS_CLIENT) {\n            const extensions = scope.run(() => extender({\n                store: store,\n                app: pinia._a,\n                pinia,\n                options: optionsForPlugin,\n            }));\n            Object.keys(extensions || {}).forEach((key) => store._customProperties.add(key));\n            assign(store, extensions);\n        }\n        else {\n            assign(store, scope.run(() => extender({\n                store: store,\n                app: pinia._a,\n                pinia,\n                options: optionsForPlugin,\n            })));\n        }\n    });\n    if ((process.env.NODE_ENV !== 'production') &&\n        store.$state &&\n        typeof store.$state === 'object' &&\n        typeof store.$state.constructor === 'function' &&\n        !store.$state.constructor.toString().includes('[native code]')) {\n        console.warn(`[🍍]: The \"state\" must be a plain object. It cannot be\\n` +\n            `\\tstate: () => new MyClass()\\n` +\n            `Found in store \"${store.$id}\".`);\n    }\n    // only apply hydrate to option stores with an initial state in pinia\n    if (initialState &&\n        isOptionsStore &&\n        options.hydrate) {\n        options.hydrate(store.$state, initialState);\n    }\n    isListening = true;\n    isSyncListening = true;\n    return store;\n}\n// allows unused stores to be tree shaken\n/*! #__NO_SIDE_EFFECTS__ */\nfunction defineStore(\n// TODO: add proper types from above\nid, setup, setupOptions) {\n    let options;\n    const isSetupStore = typeof setup === 'function';\n    // the option store setup will contain the actual options in this case\n    options = isSetupStore ? setupOptions : setup;\n    function useStore(pinia, hot) {\n        const hasContext = hasInjectionContext();\n        pinia =\n            // in test mode, ignore the argument provided as we can always retrieve a\n            // pinia instance with getActivePinia()\n            ((process.env.NODE_ENV === 'test') && activePinia && activePinia._testing ? null : pinia) ||\n                (hasContext ? inject(piniaSymbol, null) : null);\n        if (pinia)\n            setActivePinia(pinia);\n        if ((process.env.NODE_ENV !== 'production') && !activePinia) {\n            throw new Error(`[🍍]: \"getActivePinia()\" was called but there was no active Pinia. Are you trying to use a store before calling \"app.use(pinia)\"?\\n` +\n                `See https://pinia.vuejs.org/core-concepts/outside-component-usage.html for help.\\n` +\n                `This will fail in production.`);\n        }\n        pinia = activePinia;\n        if (!pinia._s.has(id)) {\n            // creating the store registers it in `pinia._s`\n            if (isSetupStore) {\n                createSetupStore(id, setup, options, pinia);\n            }\n            else {\n                createOptionsStore(id, options, pinia);\n            }\n            /* istanbul ignore else */\n            if ((process.env.NODE_ENV !== 'production')) {\n                // @ts-expect-error: not the right inferred type\n                useStore._pinia = pinia;\n            }\n        }\n        const store = pinia._s.get(id);\n        if ((process.env.NODE_ENV !== 'production') && hot) {\n            const hotId = '__hot:' + id;\n            const newStore = isSetupStore\n                ? createSetupStore(hotId, setup, options, pinia, true)\n                : createOptionsStore(hotId, assign({}, options), pinia, true);\n            hot._hotUpdate(newStore);\n            // cleanup the state properties and the store from the cache\n            delete pinia.state.value[hotId];\n            pinia._s.delete(hotId);\n        }\n        if ((process.env.NODE_ENV !== 'production') && IS_CLIENT) {\n            const currentInstance = getCurrentInstance();\n            // save stores in instances to access them devtools\n            if (currentInstance &&\n                currentInstance.proxy &&\n                // avoid adding stores that are just built for hot module replacement\n                !hot) {\n                const vm = currentInstance.proxy;\n                const cache = '_pStores' in vm ? vm._pStores : (vm._pStores = {});\n                cache[id] = store;\n            }\n        }\n        // StoreGeneric cannot be casted towards Store\n        return store;\n    }\n    useStore.$id = id;\n    return useStore;\n}\n\nlet mapStoreSuffix = 'Store';\n/**\n * Changes the suffix added by `mapStores()`. Can be set to an empty string.\n * Defaults to `\"Store\"`. Make sure to extend the MapStoresCustomization\n * interface if you are using TypeScript.\n *\n * @param suffix - new suffix\n */\nfunction setMapStoreSuffix(suffix // could be 'Store' but that would be annoying for JS\n) {\n    mapStoreSuffix = suffix;\n}\n/**\n * Allows using stores without the composition API (`setup()`) by generating an\n * object to be spread in the `computed` field of a component. It accepts a list\n * of store definitions.\n *\n * @example\n * ```js\n * export default {\n *   computed: {\n *     // other computed properties\n *     ...mapStores(useUserStore, useCartStore)\n *   },\n *\n *   created() {\n *     this.userStore // store with id \"user\"\n *     this.cartStore // store with id \"cart\"\n *   }\n * }\n * ```\n *\n * @param stores - list of stores to map to an object\n */\nfunction mapStores(...stores) {\n    if ((process.env.NODE_ENV !== 'production') && Array.isArray(stores[0])) {\n        console.warn(`[🍍]: Directly pass all stores to \"mapStores()\" without putting them in an array:\\n` +\n            `Replace\\n` +\n            `\\tmapStores([useAuthStore, useCartStore])\\n` +\n            `with\\n` +\n            `\\tmapStores(useAuthStore, useCartStore)\\n` +\n            `This will fail in production if not fixed.`);\n        stores = stores[0];\n    }\n    return stores.reduce((reduced, useStore) => {\n        // @ts-expect-error: $id is added by defineStore\n        reduced[useStore.$id + mapStoreSuffix] = function () {\n            return useStore(this.$pinia);\n        };\n        return reduced;\n    }, {});\n}\n/**\n * Allows using state and getters from one store without using the composition\n * API (`setup()`) by generating an object to be spread in the `computed` field\n * of a component.\n *\n * @param useStore - store to map from\n * @param keysOrMapper - array or object\n */\nfunction mapState(useStore, keysOrMapper) {\n    return Array.isArray(keysOrMapper)\n        ? keysOrMapper.reduce((reduced, key) => {\n            reduced[key] = function () {\n                // @ts-expect-error: FIXME: should work?\n                return useStore(this.$pinia)[key];\n            };\n            return reduced;\n        }, {})\n        : Object.keys(keysOrMapper).reduce((reduced, key) => {\n            // @ts-expect-error\n            reduced[key] = function () {\n                const store = useStore(this.$pinia);\n                const storeKey = keysOrMapper[key];\n                // for some reason TS is unable to infer the type of storeKey to be a\n                // function\n                return typeof storeKey === 'function'\n                    ? storeKey.call(this, store)\n                    : // @ts-expect-error: FIXME: should work?\n                        store[storeKey];\n            };\n            return reduced;\n        }, {});\n}\n/**\n * Alias for `mapState()`. You should use `mapState()` instead.\n * @deprecated use `mapState()` instead.\n */\nconst mapGetters = mapState;\n/**\n * Allows directly using actions from your store without using the composition\n * API (`setup()`) by generating an object to be spread in the `methods` field\n * of a component.\n *\n * @param useStore - store to map from\n * @param keysOrMapper - array or object\n */\nfunction mapActions(useStore, keysOrMapper) {\n    return Array.isArray(keysOrMapper)\n        ? keysOrMapper.reduce((reduced, key) => {\n            // @ts-expect-error\n            reduced[key] = function (...args) {\n                // @ts-expect-error: FIXME: should work?\n                return useStore(this.$pinia)[key](...args);\n            };\n            return reduced;\n        }, {})\n        : Object.keys(keysOrMapper).reduce((reduced, key) => {\n            // @ts-expect-error\n            reduced[key] = function (...args) {\n                // @ts-expect-error: FIXME: should work?\n                return useStore(this.$pinia)[keysOrMapper[key]](...args);\n            };\n            return reduced;\n        }, {});\n}\n/**\n * Allows using state and getters from one store without using the composition\n * API (`setup()`) by generating an object to be spread in the `computed` field\n * of a component.\n *\n * @param useStore - store to map from\n * @param keysOrMapper - array or object\n */\nfunction mapWritableState(useStore, keysOrMapper) {\n    return Array.isArray(keysOrMapper)\n        ? keysOrMapper.reduce((reduced, key) => {\n            reduced[key] = {\n                get() {\n                    return useStore(this.$pinia)[key];\n                },\n                set(value) {\n                    return (useStore(this.$pinia)[key] = value);\n                },\n            };\n            return reduced;\n        }, {})\n        : Object.keys(keysOrMapper).reduce((reduced, key) => {\n            reduced[key] = {\n                get() {\n                    return useStore(this.$pinia)[keysOrMapper[key]];\n                },\n                set(value) {\n                    return (useStore(this.$pinia)[keysOrMapper[key]] = value);\n                },\n            };\n            return reduced;\n        }, {});\n}\n\n/**\n * Creates an object of references with all the state, getters, and plugin-added\n * state properties of the store. Similar to `toRefs()` but specifically\n * designed for Pinia stores so methods and non reactive properties are\n * completely ignored.\n *\n * @param store - store to extract the refs from\n */\nfunction storeToRefs(store) {\n    const rawStore = toRaw(store);\n    const refs = {};\n    for (const key in rawStore) {\n        const value = rawStore[key];\n        // There is no native method to check for a computed\n        // https://github.com/vuejs/core/pull/4165\n        if (value.effect) {\n            // @ts-expect-error: too hard to type correctly\n            refs[key] =\n                // ...\n                computed({\n                    get: () => store[key],\n                    set(value) {\n                        store[key] = value;\n                    },\n                });\n        }\n        else if (isRef(value) || isReactive(value)) {\n            // @ts-expect-error: the key is state or getter\n            refs[key] =\n                // ---\n                toRef(store, key);\n        }\n    }\n    return refs;\n}\n\nexport { MutationType, acceptHMRUpdate, createPinia, defineStore, disposePinia, getActivePinia, mapActions, mapGetters, mapState, mapStores, mapWritableState, setActivePinia, setMapStoreSuffix, shouldHydrate, skipHydrate, storeToRefs };\n","// composables/useFiltering.ts\r\nimport { ref } from 'vue'\r\nimport type { GridRow } from '@/stores/dataGridStore'\r\n\r\n// ✅ FIX: Store interface for accessing checkbox state\r\ninterface DataGridStoreInterface {\r\n  checkedRows: string[]\r\n  isRowChecked(rowId: string): boolean\r\n}\r\n\r\nexport type FilterOperator =\r\n  | 'Equals'\r\n  | 'NotEquals'\r\n  | 'Contains'\r\n  | 'StartsWith'\r\n  | 'EndsWith'\r\n  | 'GreaterThan'\r\n  | 'LessThan'\r\n  | 'GreaterThanOrEquals'\r\n  | 'LessThanOrEquals'\r\n  | 'IsEmpty'\r\n  | 'IsNotEmpty'\r\n\r\nexport interface FilterExpression {\r\n  type: 'simple' | 'composite'\r\n}\r\n\r\nexport interface SimpleFilter extends FilterExpression {\r\n  type: 'simple'\r\n  columnName: string\r\n  operator: FilterOperator\r\n  value: any\r\n}\r\n\r\nexport interface CompositeFilter extends FilterExpression {\r\n  type: 'composite'\r\n  left: FilterExpression\r\n  right: FilterExpression\r\n  operator: 'AND' | 'OR'\r\n}\r\n\r\nexport function useFiltering() {\r\n  const currentFilter = ref<FilterExpression | null>(null)\r\n\r\n  function evaluateFilter(row: GridRow, filter: FilterExpression, store?: DataGridStoreInterface): boolean {\r\n    if (filter.type === 'simple') {\r\n      return evaluateSimpleFilter(row, filter as SimpleFilter, store)\r\n    } else {\r\n      return evaluateCompositeFilter(row, filter as CompositeFilter, store)\r\n    }\r\n  }\r\n\r\n  function evaluateSimpleFilter(row: GridRow, filter: SimpleFilter, store?: DataGridStoreInterface): boolean {\r\n    // ✅ FIX: Special handling for checkbox column (__checkbox)\r\n    // Checkbox values are stored in store.checkedRows, NOT in row.cells\r\n    let cellValue: any\r\n\r\n    if (filter.columnName === '__checkbox' && store) {\r\n      // Get checkbox state from store.checkedRows\r\n      cellValue = store.isRowChecked(row.rowId)\r\n    } else {\r\n      // Normal columns - get value from row.cells\r\n      const cell = row.cells.find(c => c.columnName === filter.columnName)\r\n      cellValue = cell?.value\r\n    }\r\n\r\n    const filterValue = filter.value\r\n\r\n    switch (filter.operator) {\r\n      case 'Equals':\r\n        return cellValue === filterValue\r\n\r\n      case 'NotEquals':\r\n        return cellValue !== filterValue\r\n\r\n      case 'GreaterThan':\r\n        return Number(cellValue) > Number(filterValue)\r\n\r\n      case 'LessThan':\r\n        return Number(cellValue) < Number(filterValue)\r\n\r\n      case 'GreaterThanOrEquals':\r\n        return Number(cellValue) >= Number(filterValue)\r\n\r\n      case 'LessThanOrEquals':\r\n        return Number(cellValue) <= Number(filterValue)\r\n\r\n      case 'Contains':\r\n        return String(cellValue).toLowerCase().includes(String(filterValue).toLowerCase())\r\n\r\n      case 'StartsWith':\r\n        return String(cellValue).toLowerCase().startsWith(String(filterValue).toLowerCase())\r\n\r\n      case 'EndsWith':\r\n        return String(cellValue).toLowerCase().endsWith(String(filterValue).toLowerCase())\r\n\r\n      case 'IsEmpty':\r\n        return cellValue == null || String(cellValue).trim() === ''\r\n\r\n      case 'IsNotEmpty':\r\n        return cellValue != null && String(cellValue).trim() !== ''\r\n\r\n      default:\r\n        return true\r\n    }\r\n  }\r\n\r\n  function evaluateCompositeFilter(row: GridRow, filter: CompositeFilter, store?: DataGridStoreInterface): boolean {\r\n    // ✅ FIX: Defensive check for null/undefined children\r\n    if (!filter.left || !filter.right) {\r\n      console.error('[evaluateCompositeFilter] Invalid filter structure - missing children:', filter)\r\n      return true // Return true to not filter out rows when filter is corrupted\r\n    }\r\n\r\n    const leftResult = evaluateFilter(row, filter.left, store)\r\n\r\n    // Short-circuit evaluation\r\n    if (filter.operator === 'AND' && !leftResult) {\r\n      return false // No need to evaluate right if left is false\r\n    }\r\n    if (filter.operator === 'OR' && leftResult) {\r\n      return true // No need to evaluate right if left is true\r\n    }\r\n\r\n    const rightResult = evaluateFilter(row, filter.right, store)\r\n\r\n    return filter.operator === 'AND' ? leftResult && rightResult : leftResult || rightResult\r\n  }\r\n\r\n  function filterRows(rows: GridRow[], filter: FilterExpression | null, store?: DataGridStoreInterface): GridRow[] {\r\n    if (!filter) return rows\r\n    return rows.filter(row => evaluateFilter(row, filter, store))\r\n  }\r\n\r\n  function setFilter(filter: FilterExpression | null) {\r\n    currentFilter.value = filter\r\n  }\r\n\r\n  function clearFilter() {\r\n    currentFilter.value = null\r\n  }\r\n\r\n  return {\r\n    currentFilter,\r\n    filterRows,\r\n    setFilter,\r\n    clearFilter,\r\n    evaluateFilter\r\n  }\r\n}\r\n","// composables/useSearch.ts\r\nimport { ref, type Ref } from 'vue'\r\nimport type { GridRow } from '@/stores/dataGridStore'\r\n\r\nexport type SearchMode = 'Exact' | 'Contains' | 'StartsWith' | 'EndsWith' | 'Regex' | 'Fuzzy'\r\n\r\nexport interface SearchMatch {\r\n  rowId: string\r\n  columnName: string\r\n  value: string\r\n}\r\n\r\nexport interface SearchOptions {\r\n  caseSensitive?: boolean\r\n  fuzzyThreshold?: number\r\n}\r\n\r\nexport function useSearch(rows: Ref<GridRow[]>) {\r\n  const searchTerm = ref('')\r\n  const searchMode = ref<SearchMode>('Contains')\r\n  const searchResults = ref<SearchMatch[]>([])\r\n  const currentResultIndex = ref(-1)\r\n\r\n  function searchInRows(term: string, mode: SearchMode, options: SearchOptions = {}) {\r\n    if (!term) {\r\n      searchResults.value = []\r\n      currentResultIndex.value = -1\r\n      return\r\n    }\r\n\r\n    const matches: SearchMatch[] = []\r\n    const caseSensitive = options.caseSensitive ?? false\r\n    const fuzzyThreshold = options.fuzzyThreshold ?? 3\r\n\r\n    for (const row of rows.value) {\r\n      for (const cell of row.cells) {\r\n        const cellValue = String(cell.value || '')\r\n        let isMatch = false\r\n\r\n        const searchValue = caseSensitive ? cellValue : cellValue.toLowerCase()\r\n        const searchTerm = caseSensitive ? term : term.toLowerCase()\r\n\r\n        switch (mode) {\r\n          case 'Exact':\r\n            isMatch = caseSensitive ? cellValue === term : cellValue.toLowerCase() === term.toLowerCase()\r\n            break\r\n\r\n          case 'Contains':\r\n            isMatch = searchValue.includes(searchTerm)\r\n            break\r\n\r\n          case 'StartsWith':\r\n            isMatch = searchValue.startsWith(searchTerm)\r\n            break\r\n\r\n          case 'EndsWith':\r\n            isMatch = searchValue.endsWith(searchTerm)\r\n            break\r\n\r\n          case 'Regex':\r\n            try {\r\n              const flags = caseSensitive ? '' : 'i'\r\n              const regex = new RegExp(term, flags)\r\n              isMatch = regex.test(cellValue)\r\n            } catch {\r\n              isMatch = false\r\n            }\r\n            break\r\n\r\n          case 'Fuzzy':\r\n            isMatch = fuzzyMatch(cellValue, term, fuzzyThreshold)\r\n            break\r\n        }\r\n\r\n        if (isMatch) {\r\n          matches.push({\r\n            rowId: row.rowId,\r\n            columnName: cell.columnName,\r\n            value: cellValue\r\n          })\r\n        }\r\n      }\r\n    }\r\n\r\n    searchResults.value = matches\r\n    currentResultIndex.value = matches.length > 0 ? 0 : -1\r\n  }\r\n\r\n  function fuzzyMatch(text: string, pattern: string, threshold: number): boolean {\r\n    const distance = levenshteinDistance(text.toLowerCase(), pattern.toLowerCase())\r\n    return distance <= threshold\r\n  }\r\n\r\n  function levenshteinDistance(a: string, b: string): number {\r\n    const matrix: number[][] = []\r\n\r\n    // Initialize matrix\r\n    for (let i = 0; i <= b.length; i++) {\r\n      matrix[i] = [i]\r\n    }\r\n\r\n    for (let j = 0; j <= a.length; j++) {\r\n      matrix[0][j] = j\r\n    }\r\n\r\n    // Calculate distances\r\n    for (let i = 1; i <= b.length; i++) {\r\n      for (let j = 1; j <= a.length; j++) {\r\n        if (b.charAt(i - 1) === a.charAt(j - 1)) {\r\n          matrix[i][j] = matrix[i - 1][j - 1]\r\n        } else {\r\n          matrix[i][j] = Math.min(\r\n            matrix[i - 1][j - 1] + 1, // substitution\r\n            matrix[i][j - 1] + 1,      // insertion\r\n            matrix[i - 1][j] + 1       // deletion\r\n          )\r\n        }\r\n      }\r\n    }\r\n\r\n    return matrix[b.length][a.length]\r\n  }\r\n\r\n  function goToNextResult() {\r\n    if (currentResultIndex.value < searchResults.value.length - 1) {\r\n      currentResultIndex.value++\r\n    }\r\n  }\r\n\r\n  function goToPreviousResult() {\r\n    if (currentResultIndex.value > 0) {\r\n      currentResultIndex.value--\r\n    }\r\n  }\r\n\r\n  function clearSearch() {\r\n    searchTerm.value = ''\r\n    searchResults.value = []\r\n    currentResultIndex.value = -1\r\n  }\r\n\r\n  function isSearchMatch(rowId: string, columnName: string): boolean {\r\n    return searchResults.value.some(\r\n      m => m.rowId === rowId && m.columnName === columnName\r\n    )\r\n  }\r\n\r\n  return {\r\n    searchTerm,\r\n    searchMode,\r\n    searchResults,\r\n    currentResultIndex,\r\n    searchInRows,\r\n    goToNextResult,\r\n    goToPreviousResult,\r\n    clearSearch,\r\n    isSearchMatch\r\n  }\r\n}\r\n","import { defineStore } from 'pinia'\r\nimport { ref, computed } from 'vue'\r\nimport { useFiltering, type FilterExpression } from '@/composables/useFiltering'\r\nimport { useSearch } from '@/composables/useSearch'\r\n\r\nexport interface GridCell {\r\n  rowId: string\r\n  columnName: string\r\n  value: any\r\n  isSelected: boolean\r\n  isValidationError: boolean\r\n  validationMessage?: string\r\n}\r\n\r\nexport interface GridRow {\r\n  rowId: string\r\n  rowIndex: number\r\n  height: number\r\n  cells: GridCell[]\r\n  validationErrorCount?: number  // Track validation errors for DynamicScroller size-dependencies\r\n}\r\n\r\nexport interface GridColumn {\r\n  name: string\r\n  header: string\r\n  width: number\r\n  minWidth: number\r\n  maxWidth: number\r\n  isVisible: boolean\r\n  isReadOnly: boolean\r\n  isSortable: boolean\r\n  isFilterable: boolean\r\n  autoWidth?: boolean  // Star sizing - column expands to fill remaining space\r\n  specialType?: 'RowNumber' | 'Checkbox' | 'ValidationAlerts' | 'DeleteRow' | 'InsertRow'\r\n  dataType?: 'string' | 'number' | 'boolean' | 'date' | 'datetime' | 'time'  // Data type for validation and formatting\r\n  visibleForGrid?: boolean  // Default: true. If false, column holds data but is not shown in UI, validation, filter, or sort\r\n}\r\n\r\nexport interface GridConfig {\r\n  pageSize: number\r\n  pageSizeOptions?: number[]\r\n  enableSort: boolean\r\n  enableFilter: boolean\r\n  enableSearch: boolean\r\n  enableValidation: boolean\r\n  autoValidate: boolean  // true = validate on every change, false = validate only on manual request\r\n  showRowNumber: boolean\r\n  showCheckbox: boolean\r\n  showValidationAlerts: boolean\r\n  showDeleteButton: boolean\r\n  showInsertButton: boolean\r\n  minRowHeight?: number  // Minimum row height in pixels (default: 35)  ✅ RIEŠENIE #2B\r\n}\r\n\r\n// ✅ RIEŠENIE #2: Cache store definitions to prevent duplicate creation\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nconst storeCache = new Map<string, any>()\r\nconst pendingStores = new Set<string>()  // ✅ RIEŠENIE #2: Track stores being created right now\r\n\r\nexport const useDataGridStore = (storeId: string = 'dataGrid') => {\r\n  if (!storeId || typeof storeId !== 'string') {\r\n    console.error('[useDataGridStore] Invalid storeId:', storeId)\r\n    throw new Error(`Invalid storeId: ${storeId}`)\r\n  }\r\n\r\n  // ✅ RIEŠENIE #2: Check cache first - already created\r\n  if (storeCache.has(storeId)) {\r\n    console.log('[useDataGridStore] Using CACHED store definition for:', storeId)\r\n    return storeCache.get(storeId)!\r\n  }\r\n\r\n  // ✅ RIEŠENIE #2: Check if another call is creating this store RIGHT NOW\r\n  if (pendingStores.has(storeId)) {\r\n    console.error('[useDataGridStore] ⚠️ RACE CONDITION DETECTED! Store is being created by another component:', storeId)\r\n    throw new Error(`[useDataGridStore] Race condition: Store ${storeId} is already being created. This indicates a timing issue.`)\r\n  }\r\n\r\n  // ✅ RIEŠENIE #2: Mark as \"being created\" IMMEDIATELY before starting\r\n  pendingStores.add(storeId)\r\n  console.log('[useDataGridStore] Creating NEW store definition for:', storeId)\r\n  const storeDefinition = defineStore(storeId, () => {\r\n  // State\r\n  // ✅ RIEŠENIE E: Map-based storage for O(1) lookup and thread-safety\r\n  const rowsMap = ref<Map<string, GridRow>>(new Map())  // O(1) lookup by rowId\r\n  const rowsOrder = ref<string[]>([])  // Maintain insertion order for rendering\r\n\r\n  const columns = ref<GridColumn[]>([])\r\n  const selectedCells = ref<Set<string>>(new Set())\r\n  const checkedRows = ref<string[]>([])\r\n  const pageSize = ref(100)\r\n  const currentPage = ref(1)\r\n\r\n  // ✅ RIEŠENIE E: Map-based storage for sortColumns (O(1) lookup)\r\n  const sortColumnsMap = ref<Map<string, { direction: 'asc' | 'desc'; order: number }>>(new Map())\r\n  const sortColumnsOrder = ref<string[]>([])  // Maintain sort order\r\n\r\n  const filterExpression = ref<FilterExpression | null>(null)\r\n  const searchQuery = ref('')\r\n  const config = ref<GridConfig>({\r\n    pageSize: 100,\r\n    enableSort: true,\r\n    enableFilter: true,\r\n    enableSearch: true,\r\n    enableValidation: true,\r\n    autoValidate: true,  // Default: validate automatically on every change\r\n    showRowNumber: false,\r\n    showCheckbox: false,\r\n    showValidationAlerts: true,\r\n    showDeleteButton: false,\r\n    showInsertButton: false,\r\n    minRowHeight: 35  // ✅ RIEŠENIE #2C: Explicit default (32 + 3 = 35)\r\n  })\r\n\r\n  // Selection state (based on WinUI3 patterns)\r\n  const pressedCell = ref<{ rowId: string; columnName: string } | null>(null)\r\n  const isDragging = ref(false)\r\n  const wasCtrlPressed = ref(false)\r\n\r\n  // Auto row height state\r\n  const isAutoRowHeightEnabled = ref(false)\r\n\r\n  // Validation tracking state (for optimized validation)\r\n  const validatedCells = ref<Set<string>>(new Set())  // Cells that have been validated: \"rowId:columnName\"\r\n  const changedCellsSinceValidation = ref<Set<string>>(new Set())  // Cells changed since last validation\r\n\r\n  // Minimum rows configuration (ensures table always has visible rows)\r\n  // ✅ RIEŠENIE #1A: Default changed to 1 (tabuľka nikdy nie je úplne prázdna)\r\n  const minRows = ref<number>(1)  // Default minimum: 1 empty row\r\n\r\n  // ✅ RIEŠENIE E: Computed properties - convert Map to Array for rendering\r\n  const rows = computed(() => {\r\n    return rowsOrder.value.map(rowId => rowsMap.value.get(rowId)!).filter(Boolean)\r\n  })\r\n\r\n  const sortColumns = computed(() => {\r\n    return sortColumnsOrder.value.map(columnName => {\r\n      const sortInfo = sortColumnsMap.value.get(columnName)!\r\n      return {\r\n        columnName,\r\n        direction: sortInfo.direction\r\n      }\r\n    })\r\n  })\r\n\r\n  // ✅ RIEŠENIE E: Helper functions for O(1) access\r\n  function getRow(rowId: string): GridRow | undefined {\r\n    return rowsMap.value.get(rowId)\r\n  }\r\n\r\n  function hasRow(rowId: string): boolean {\r\n    return rowsMap.value.has(rowId)\r\n  }\r\n\r\n  function getSortInfo(columnName: string) {\r\n    return sortColumnsMap.value.get(columnName) ?? null\r\n  }\r\n\r\n  // Composables\r\n  const { filterRows, evaluateFilter } = useFiltering()\r\n  const { searchResults, isSearchMatch } = useSearch(rows)\r\n\r\n  // Computed\r\n  const totalRows = computed(() => rowsOrder.value.length)\r\n  const totalPages = computed(() => Math.ceil(totalRows.value / pageSize.value))\r\n\r\n  const visibleRows = computed(() => {\r\n    console.log('[visibleRows] 🔍 START')\r\n    let filteredRows = rows.value\r\n    console.log('[visibleRows] Total rows:', filteredRows.length)\r\n\r\n    // Apply filtering\r\n    if (filterExpression.value) {\r\n      const before = filteredRows.length\r\n      // ✅ FIX: Pass store interface so filterRows can access checkbox state\r\n      const storeInterface = {\r\n        checkedRows: checkedRows.value,\r\n        isRowChecked: (rowId: string) => checkedRows.value.includes(rowId)\r\n      }\r\n      filteredRows = filterRows(filteredRows, filterExpression.value, storeInterface)\r\n      console.log('[visibleRows] After filter:', filteredRows.length, '(filtered:', before - filteredRows.length, ')')\r\n    }\r\n\r\n    // Apply search filtering\r\n    if (searchQuery.value && searchResults.value.length > 0) {\r\n      const before = filteredRows.length\r\n      const searchRowIds = new Set(searchResults.value.map(r => r.rowId))\r\n      filteredRows = filteredRows.filter(row => searchRowIds.has(row.rowId))\r\n      console.log('[visibleRows] After search:', filteredRows.length, '(filtered:', before - filteredRows.length, ')')\r\n    }\r\n\r\n    // Apply sorting\r\n    if (sortColumns.value.length > 0) {\r\n      filteredRows = sortRows(filteredRows, sortColumns.value)\r\n      console.log('[visibleRows] Sorted by:', sortColumns.value.map((s: { columnName: string; direction: string }) => `${s.columnName} ${s.direction}`).join(', '))\r\n    }\r\n\r\n    // Apply pagination\r\n    const start = (currentPage.value - 1) * pageSize.value\r\n    const end = start + pageSize.value\r\n    console.log('[visibleRows] Pagination:', { currentPage: currentPage.value, pageSize: pageSize.value, start, end, total: filteredRows.length })\r\n\r\n    const result = filteredRows.slice(start, end)\r\n    console.log('[visibleRows] ✅ RETURNING:', result.length, 'rows')\r\n\r\n    return result\r\n  })\r\n\r\n  // Helper: Create empty row with all columns\r\n  function createEmptyRow(rowIndex: number): GridRow {\r\n    const rowId = `empty-${generateULID()}`\r\n    return {\r\n      rowId,\r\n      rowIndex,\r\n      height: config.value.minRowHeight || 35,  // ✅ RIEŠENIE #2B: 25 → 35\r\n      cells: columns.value.map(col => ({\r\n        rowId,\r\n        columnName: col.name,\r\n        value: null,\r\n        isSelected: false,\r\n        isValidationError: false\r\n      }))\r\n    }\r\n  }\r\n\r\n  // Helper: Ensure minimum number of rows\r\n  function ensureMinimumRows() {\r\n    const currentRowCount = rowsOrder.value.length\r\n    const minimumRequired = minRows.value\r\n\r\n    if (currentRowCount < minimumRequired) {\r\n      const rowsToAdd = minimumRequired - currentRowCount\r\n      console.log(`[dataGridStore] ensureMinimumRows: Adding ${rowsToAdd} empty rows (current: ${currentRowCount}, min: ${minimumRequired})`)\r\n\r\n      for (let i = 0; i < rowsToAdd; i++) {\r\n        const row = createEmptyRow(currentRowCount + i)\r\n        rowsMap.value.set(row.rowId, row)\r\n        rowsOrder.value.push(row.rowId)\r\n      }\r\n    }\r\n  }\r\n\r\n  // Actions\r\n  // ✅ RIEŠENIE E: loadRows using Map structure\r\n  // ✅ RIEŠENIE #1: Filter empty rows (rows without data in visible columns)\r\n  function loadRows(data: Record<string, any>[]) {\r\n    console.log('[dataGridStore] loadRows:', {\r\n      originalRowCount: data.length,\r\n      columnCount: columns.value.length,\r\n      autoValidate: config.value.autoValidate\r\n    })\r\n\r\n    const newMap = new Map<string, GridRow>()\r\n    const newOrder: string[] = []\r\n\r\n    // ✅ RIEŠENIE #1: Get visible columns (for empty check)\r\n    const visibleColumns = columns.value.filter(col =>\r\n      !col.specialType && col.visibleForGrid !== false\r\n    )\r\n\r\n    let skippedEmptyRows = 0\r\n\r\n    data.forEach((rowData, idx) => {\r\n      // ✅ RIEŠENIE #1: Check if row has at least one non-empty cell in VISIBLE columns\r\n      const hasVisibleData = visibleColumns.some(col => {\r\n        const value = rowData[col.name]\r\n        return value !== null && value !== undefined && value !== ''\r\n      })\r\n\r\n      if (!hasVisibleData) {\r\n        skippedEmptyRows++\r\n        return  // ✅ SKIP - row has no visible data\r\n      }\r\n\r\n      const rowId = rowData.__rowId || generateULID()\r\n      const height = rowData.__rowHeight || 40\r\n\r\n      const row: GridRow = {\r\n        rowId,\r\n        rowIndex: newOrder.length,  // ✅ Actual index after filtering\r\n        height,\r\n        cells: columns.value.map(col => ({\r\n          rowId,\r\n          columnName: col.name,\r\n          value: rowData[col.name],\r\n          isSelected: false,\r\n          isValidationError: false\r\n        }))\r\n      }\r\n\r\n      newMap.set(rowId, row)  // ✅ O(1) insert\r\n      newOrder.push(rowId)\r\n    })\r\n\r\n    rowsMap.value = newMap\r\n    rowsOrder.value = newOrder\r\n\r\n    // Ensure minimum rows after loading\r\n    ensureMinimumRows()\r\n\r\n    console.log('[dataGridStore] loadRows complete:', {\r\n      originalRows: data.length,\r\n      loadedRows: rowsOrder.value.length,\r\n      skippedEmptyRows,\r\n      filterRate: `${Math.round((skippedEmptyRows / data.length) * 100)}%`,\r\n      minRowsRequired: minRows.value,\r\n      firstRowId: rowsOrder.value[0],\r\n      firstRowCells: newMap.get(rowsOrder.value[0])?.cells.length\r\n    })\r\n  }\r\n\r\n  // ✅ RIEŠENIE E: updateCell using O(1) Map.get()\r\n  function updateCell(rowId: string, columnName: string, value: any) {\r\n    const row = getRow(rowId)  // ✅ O(1) instead of O(n)\r\n    if (row) {\r\n      const cell = row.cells.find(c => c.columnName === columnName)\r\n      if (cell) {\r\n        const oldValue = cell.value\r\n        cell.value = value\r\n\r\n        console.log('[dataGridStore] updateCell:', {\r\n          rowId,\r\n          columnName,\r\n          oldValue,\r\n          newValue: value,\r\n          autoValidate: config.value.autoValidate\r\n        })\r\n\r\n        // Mark cell as changed for validation tracking\r\n        const cellKey = `${rowId}:${columnName}`\r\n        changedCellsSinceValidation.value.add(cellKey)\r\n      } else {\r\n        console.warn('[dataGridStore] updateCell: cell not found', { rowId, columnName })\r\n      }\r\n    } else {\r\n      console.warn('[dataGridStore] updateCell: row not found', { rowId })\r\n    }\r\n  }\r\n\r\n  // ✅ RIEŠENIE E: updateRowHeight using O(1) Map.get()\r\n  function updateRowHeight(rowId: string, newHeight: number) {\r\n    const row = getRow(rowId)  // ✅ O(1) instead of O(n)\r\n    if (row) {\r\n      const oldHeight = row.height\r\n      row.height = newHeight\r\n\r\n      console.log('[dataGridStore] updateRowHeight:', {\r\n        rowId,\r\n        oldHeight,\r\n        newHeight,\r\n        autoRowHeightEnabled: isAutoRowHeightEnabled.value\r\n      })\r\n    } else {\r\n      console.warn('[dataGridStore] updateRowHeight: row not found', { rowId })\r\n    }\r\n  }\r\n\r\n  function setAutoRowHeightEnabled(enabled: boolean) {\r\n    console.log(`[dataGridStore] setAutoRowHeightEnabled: oldValue=${isAutoRowHeightEnabled.value}, newValue=${enabled}`)\r\n    isAutoRowHeightEnabled.value = enabled\r\n  }\r\n\r\n  function sortRows(rowsToSort: GridRow[], sorts: { columnName: string; direction: 'asc' | 'desc' }[]) {\r\n    if (sorts.length === 0) return rowsToSort\r\n\r\n    return [...rowsToSort].sort((a, b) => {\r\n      for (const { columnName, direction } of sorts) {\r\n        const aCell = a.cells.find(c => c.columnName === columnName)\r\n        const bCell = b.cells.find(c => c.columnName === columnName)\r\n\r\n        const aVal = aCell?.value\r\n        const bVal = bCell?.value\r\n\r\n        const cmp = compareValues(aVal, bVal)\r\n        if (cmp !== 0) {\r\n          return direction === 'asc' ? cmp : -cmp\r\n        }\r\n      }\r\n      return 0\r\n    })\r\n  }\r\n\r\n  function compareValues(a: any, b: any): number {\r\n    if (a == null && b == null) return 0\r\n    if (a == null) return -1\r\n    if (b == null) return 1\r\n\r\n    if (typeof a === 'number' && typeof b === 'number') {\r\n      return a - b\r\n    }\r\n\r\n    return String(a).localeCompare(String(b))\r\n  }\r\n\r\n  // ✅ RIEŠENIE E: addSort using Map - O(1) lookup instead of O(n) findIndex\r\n  function addSort(columnName: string, direction: 'asc' | 'desc', multiSort = false) {\r\n    if (!multiSort) {\r\n      // Single sort - clear all and add new\r\n      sortColumnsMap.value.clear()\r\n      sortColumnsOrder.value = [columnName]\r\n      sortColumnsMap.value.set(columnName, { direction, order: 1 })\r\n    } else {\r\n      // Multi-sort\r\n      if (sortColumnsMap.value.has(columnName)) {\r\n        // Update existing - keep same order\r\n        const existing = sortColumnsMap.value.get(columnName)!\r\n        sortColumnsMap.value.set(columnName, { direction, order: existing.order })\r\n      } else {\r\n        // Add new - append to end\r\n        const newOrder = sortColumnsOrder.value.length + 1\r\n        sortColumnsMap.value.set(columnName, { direction, order: newOrder })\r\n        sortColumnsOrder.value.push(columnName)\r\n      }\r\n    }\r\n  }\r\n\r\n  function clearSort() {\r\n    sortColumnsMap.value.clear()\r\n    sortColumnsOrder.value = []\r\n  }\r\n\r\n  function setSortColumns(sorts: { columnName: string; direction: 'asc' | 'desc' }[]) {\r\n    sortColumnsMap.value.clear()\r\n    sortColumnsOrder.value = []\r\n    sorts.forEach((sort, index) => {\r\n      sortColumnsMap.value.set(sort.columnName, { direction: sort.direction, order: index + 1 })\r\n      sortColumnsOrder.value.push(sort.columnName)\r\n    })\r\n  }\r\n\r\n  function setPageSize(size: number) {\r\n    pageSize.value = size\r\n    currentPage.value = 1 // Reset to first page\r\n  }\r\n\r\n  function goToPage(page: number) {\r\n    if (page >= 1 && page <= totalPages.value) {\r\n      currentPage.value = page\r\n    }\r\n  }\r\n\r\n  function generateULID(): string {\r\n    // Simple ULID-like generator\r\n    return `${Date.now()}-${Math.random().toString(36).substr(2, 9)}`\r\n  }\r\n\r\n  // ✅ RIEŠENIE E: deleteRow using Map.delete() - O(1)\r\n  function deleteRow(rowId: string) {\r\n    if (hasRow(rowId)) {\r\n      console.log('[dataGridStore] deleteRow:', {\r\n        rowId,\r\n        rowsBefore: rowsOrder.value.length,\r\n        wasChecked: checkedRows.value.includes(rowId)\r\n      })\r\n\r\n      rowsMap.value.delete(rowId)  // ✅ O(1) delete from Map\r\n      rowsOrder.value = rowsOrder.value.filter(id => id !== rowId)  // ✅ O(n) but only on string[]\r\n\r\n      // Remove from checked rows\r\n      const checkedIndex = checkedRows.value.indexOf(rowId)\r\n      if (checkedIndex > -1) {\r\n        checkedRows.value.splice(checkedIndex, 1)\r\n      }\r\n\r\n      // Reindex rows (update rowIndex in remaining rows)\r\n      rowsOrder.value.forEach((id, idx) => {\r\n        const row = rowsMap.value.get(id)\r\n        if (row) {\r\n          row.rowIndex = idx\r\n        }\r\n      })\r\n\r\n      console.log('[dataGridStore] deleteRow complete:', {\r\n        rowsAfter: rowsOrder.value.length\r\n      })\r\n\r\n      // ✅ RIEŠENIE #2: Ak bol toto posledný riadok, vytvor nový prázdny\r\n      // Tabuľka NIKDY nie je úplne prázdna\r\n      if (rowsOrder.value.length === 0) {\r\n        console.log('[dataGridStore] deleteRow: Table is empty after deletion, creating minimum rows')\r\n        ensureMinimumRows()  // Vytvorí minRows prázdnych riadkov (default: 1)\r\n      }\r\n    } else {\r\n      console.warn('[dataGridStore] deleteRow: row not found', { rowId })\r\n    }\r\n  }\r\n\r\n  // ✅ RIEŠENIE E: insertRow using Map - O(n) only for indexOf on string[]\r\n  function insertRow(afterRowId: string) {\r\n    const index = rowsOrder.value.indexOf(afterRowId)  // ✅ O(n) but on string[] (fast)\r\n    const newRowId = generateULID()\r\n\r\n    console.log('[dataGridStore] insertRow:', {\r\n      afterRowId,\r\n      index,\r\n      newRowId,\r\n      rowsBefore: rowsOrder.value.length\r\n    })\r\n\r\n    const newRow: GridRow = {\r\n      rowId: newRowId,\r\n      rowIndex: index + 1,\r\n      height: config.value.minRowHeight || 35,  // ✅ RIEŠENIE #2B: 32 → 35\r\n      cells: columns.value\r\n        .filter(col => !col.specialType)\r\n        .map(col => ({\r\n          rowId: newRowId,\r\n          columnName: col.name,\r\n          value: null,\r\n          isSelected: false,\r\n          isValidationError: false\r\n        }))\r\n    }\r\n\r\n    rowsMap.value.set(newRowId, newRow)  // ✅ O(1) insert into Map\r\n    rowsOrder.value.splice(index + 1, 0, newRowId)  // ✅ O(1) insert into order array\r\n\r\n    // Reindex rows\r\n    rowsOrder.value.forEach((id, idx) => {\r\n      const row = rowsMap.value.get(id)\r\n      if (row) {\r\n        row.rowIndex = idx\r\n      }\r\n    })\r\n\r\n    console.log('[dataGridStore] insertRow complete:', {\r\n      rowsAfter: rowsOrder.value.length\r\n    })\r\n  }\r\n\r\n  // ✅ RIEŠENIE E: insertMultipleRows using Map\r\n  function insertMultipleRows(rowId: string, count: number, position: 'above' | 'below') {\r\n    const index = rowsOrder.value.indexOf(rowId)\r\n    if (index === -1) {\r\n      console.warn('[dataGridStore] insertMultipleRows: row not found', { rowId })\r\n      return\r\n    }\r\n\r\n    console.log('[dataGridStore] insertMultipleRows:', {\r\n      rowId,\r\n      count,\r\n      position,\r\n      index,\r\n      rowsBefore: rowsOrder.value.length\r\n    })\r\n\r\n    const insertIndex = position === 'above' ? index : index + 1\r\n    const newRowIds: string[] = []\r\n\r\n    for (let i = 0; i < count; i++) {\r\n      const newRowId = generateULID()\r\n      const newRow: GridRow = {\r\n        rowId: newRowId,\r\n        rowIndex: insertIndex + i,\r\n        height: config.value.minRowHeight || 35,  // ✅ RIEŠENIE #2B: 32 → 35\r\n        cells: columns.value\r\n          .filter(col => !col.specialType)\r\n          .map(col => ({\r\n            rowId: newRowId,\r\n            columnName: col.name,\r\n            value: null,\r\n            isSelected: false,\r\n            isValidationError: false\r\n          }))\r\n      }\r\n\r\n      rowsMap.value.set(newRowId, newRow)  // ✅ O(1) per row\r\n      newRowIds.push(newRowId)\r\n    }\r\n\r\n    rowsOrder.value.splice(insertIndex, 0, ...newRowIds)  // ✅ O(n) splice on string[]\r\n\r\n    // Reindex rows\r\n    rowsOrder.value.forEach((id, idx) => {\r\n      const row = rowsMap.value.get(id)\r\n      if (row) {\r\n        row.rowIndex = idx\r\n      }\r\n    })\r\n\r\n    console.log('[dataGridStore] insertMultipleRows complete:', {\r\n      rowsAfter: rowsOrder.value.length,\r\n      newRowIds\r\n    })\r\n  }\r\n\r\n  function toggleCheckbox(rowId: string, checked: boolean) {\r\n    console.log('[toggleCheckbox] Called:', { rowId, checked, currentCount: checkedRows.value.length })\r\n    if (checked) {\r\n      if (!checkedRows.value.includes(rowId)) {\r\n        checkedRows.value.push(rowId)\r\n      }\r\n    } else {\r\n      const index = checkedRows.value.indexOf(rowId)\r\n      if (index > -1) {\r\n        checkedRows.value.splice(index, 1)\r\n      }\r\n    }\r\n    console.log('[toggleCheckbox] After:', { count: checkedRows.value.length, checkboxState: checkboxState.value })\r\n  }\r\n\r\n  function isRowChecked(rowId: string): boolean {\r\n    return checkedRows.value.includes(rowId)\r\n  }\r\n\r\n  function toggleAllCheckboxes() {\r\n    const currentCount = checkedRows.value.length\r\n    const totalCount = rows.value.length\r\n    console.log('[toggleAllCheckboxes] BEFORE:', { currentCount, totalCount, checkboxState: checkboxState.value })\r\n\r\n    if (checkedRows.value.length === rows.value.length) {\r\n      // All checked -> uncheck all\r\n      console.log('[toggleAllCheckboxes] ACTION: Unchecking all (was all checked)')\r\n      checkedRows.value = []\r\n    } else {\r\n      // Not all checked -> check all\r\n      console.log('[toggleAllCheckboxes] ACTION: Checking all (was not all checked)')\r\n      checkedRows.value = rows.value.map(r => r.rowId)\r\n    }\r\n\r\n    const newCount = checkedRows.value.length\r\n    const newState = checkboxState.value\r\n    console.log('[toggleAllCheckboxes] AFTER:', { newCount, totalCount, newState })\r\n  }\r\n\r\n  // Computed for better reactivity tracking\r\n  const checkboxState = computed(() => {\r\n    const checkedCount = checkedRows.value.length\r\n    if (checkedCount === 0) return 'none'\r\n    if (checkedCount === rows.value.length) return 'all'\r\n    return 'some'\r\n  })\r\n\r\n  function setConfig(newConfig: Partial<GridConfig>) {\r\n    console.log('[dataGridStore] setConfig:', {\r\n      newConfig,\r\n      oldAutoValidate: config.value.autoValidate,\r\n      newAutoValidate: newConfig.autoValidate\r\n    })\r\n\r\n    config.value = { ...config.value, ...newConfig }\r\n    if (newConfig.pageSize) {\r\n      pageSize.value = newConfig.pageSize\r\n    }\r\n\r\n    console.log('[dataGridStore] setConfig complete:', {\r\n      autoValidate: config.value.autoValidate,\r\n      enableValidation: config.value.enableValidation\r\n    })\r\n  }\r\n\r\n  function initializeEmptyRows(count?: number) {\r\n    const rowCount = count || minRows.value  // ✅ RIEŠENIE #1B: Use minRows (default: 1) instead of pageSize\r\n    console.log('[dataGridStore] initializeEmptyRows:', {\r\n      requestedCount: count,\r\n      rowCount,\r\n      minRowsValue: minRows.value,\r\n      pageSizeValue: pageSize.value,\r\n      currentRowsLength: rows.value.length,\r\n      columnsLength: columns.value.length\r\n    })\r\n\r\n    // ✅ Use Map-based storage like loadRows()\r\n    const newMap = new Map<string, GridRow>()\r\n    const newOrder: string[] = []\r\n\r\n    for (let i = 0; i < rowCount; i++) {\r\n      const rowId = generateULID()\r\n      const row: GridRow = {\r\n        rowId,\r\n        rowIndex: i,\r\n        height: config.value.minRowHeight || 35,  // ✅ RIEŠENIE #2B: 32 → 35\r\n        cells: columns.value\r\n          .filter(col => !col.specialType) // Don't create cells for special columns\r\n          .map(col => ({\r\n            rowId,\r\n            columnName: col.name,\r\n            value: null,\r\n            isSelected: false,\r\n            isValidationError: false\r\n          }))\r\n      }\r\n\r\n      newMap.set(rowId, row)\r\n      newOrder.push(rowId)\r\n    }\r\n\r\n    // ✅ CORRECT: Update rowsMap and rowsOrder (not the computed property 'rows')\r\n    rowsMap.value = newMap\r\n    rowsOrder.value = newOrder\r\n\r\n    console.log('[dataGridStore] initializeEmptyRows complete:', {\r\n      newRowsLength: rows.value.length,\r\n      firstRowCellsCount: rows.value[0]?.cells?.length\r\n    })\r\n  }\r\n\r\n  function setFilter(filter: FilterExpression | null) {\r\n    console.log('[dataGridStore] setFilter:', { filter })\r\n    filterExpression.value = filter\r\n  }\r\n\r\n  function clearFilter() {\r\n    console.log('[dataGridStore] clearFilter')\r\n    filterExpression.value = null\r\n  }\r\n\r\n  function setSearchQuery(query: string) {\r\n    searchQuery.value = query\r\n  }\r\n\r\n  function clearSearch() {\r\n    searchQuery.value = ''\r\n  }\r\n\r\n  // Selection methods (based on WinUI3 patterns)\r\n  function selectCell(rowId: string, columnName: string, isCtrlPressed: boolean) {\r\n    const cellKey = `${rowId}:${columnName}`\r\n\r\n    console.log('[dataGridStore] selectCell:', {\r\n      rowId,\r\n      columnName,\r\n      isCtrlPressed,\r\n      wasSelected: selectedCells.value.has(cellKey),\r\n      currentSelectionCount: selectedCells.value.size\r\n    })\r\n\r\n    if (isCtrlPressed) {\r\n      // Ctrl+Click: Toggle selection\r\n      wasCtrlPressed.value = true\r\n      pressedCell.value = null // Disable drag for Ctrl+Click\r\n      isDragging.value = false\r\n\r\n      if (selectedCells.value.has(cellKey)) {\r\n        selectedCells.value.delete(cellKey)\r\n        console.log('[dataGridStore] selectCell: toggled OFF', { cellKey })\r\n      } else {\r\n        selectedCells.value.add(cellKey)\r\n        console.log('[dataGridStore] selectCell: toggled ON', { cellKey })\r\n      }\r\n    } else {\r\n      // Normal Click: Clear previous selection and select this cell\r\n      wasCtrlPressed.value = false\r\n      pressedCell.value = { rowId, columnName } // Enable drag selection\r\n      isDragging.value = false\r\n\r\n      selectedCells.value.clear()\r\n      selectedCells.value.add(cellKey)\r\n      console.log('[dataGridStore] selectCell: single select', { cellKey })\r\n    }\r\n\r\n    console.log('[dataGridStore] selectCell complete:', {\r\n      newSelectionCount: selectedCells.value.size\r\n    })\r\n  }\r\n\r\n  function startDragSelection(rowId: string, columnName: string) {\r\n    if (!pressedCell.value) return\r\n\r\n    isDragging.value = true\r\n\r\n    // Clear previous selection and select range from pressedCell to current cell\r\n    selectedCells.value.clear()\r\n    expandDragSelection(rowId, columnName)\r\n  }\r\n\r\n  function expandDragSelection(currentRowId: string, currentColumnName: string) {\r\n    if (!pressedCell.value || !isDragging.value) return\r\n\r\n    console.log('[dataGridStore] expandDragSelection:', {\r\n      pressedCell: pressedCell.value,\r\n      currentRowId,\r\n      currentColumnName\r\n    })\r\n\r\n    const pressedRowIndex = rows.value.findIndex(r => r.rowId === pressedCell.value!.rowId)\r\n    const currentRowIndex = rows.value.findIndex(r => r.rowId === currentRowId)\r\n\r\n    if (pressedRowIndex === -1 || currentRowIndex === -1) return\r\n\r\n    // Get selectable column names (data columns + validation, excluding insert/delete/checkbox/rownumber)\r\n    const selectableColumns = columns.value.filter(col =>\r\n      !col.specialType || col.specialType === 'ValidationAlerts'\r\n    ).map(col => col.name)\r\n\r\n    console.log('[dataGridStore] expandDragSelection: selectableColumns', {\r\n      total: selectableColumns.length,\r\n      columns: selectableColumns\r\n    })\r\n\r\n    const pressedColIndex = selectableColumns.indexOf(pressedCell.value.columnName)\r\n    const currentColIndex = selectableColumns.indexOf(currentColumnName)\r\n\r\n    if (pressedColIndex === -1 || currentColIndex === -1) {\r\n      console.warn('[dataGridStore] expandDragSelection: column not found in selectableColumns', {\r\n        pressedColumn: pressedCell.value.columnName,\r\n        currentColumn: currentColumnName,\r\n        pressedColIndex,\r\n        currentColIndex\r\n      })\r\n      return\r\n    }\r\n\r\n    // Calculate rectangular selection bounds\r\n    const startRowIndex = Math.min(pressedRowIndex, currentRowIndex)\r\n    const endRowIndex = Math.max(pressedRowIndex, currentRowIndex)\r\n    const startColIndex = Math.min(pressedColIndex, currentColIndex)\r\n    const endColIndex = Math.max(pressedColIndex, currentColIndex)\r\n\r\n    console.log('[dataGridStore] expandDragSelection: bounds', {\r\n      rowRange: [startRowIndex, endRowIndex],\r\n      colRange: [startColIndex, endColIndex],\r\n      cellsToSelect: (endRowIndex - startRowIndex + 1) * (endColIndex - startColIndex + 1)\r\n    })\r\n\r\n    // Clear and select all cells in the rectangular range\r\n    selectedCells.value.clear()\r\n    for (let rowIdx = startRowIndex; rowIdx <= endRowIndex; rowIdx++) {\r\n      const rowId = rows.value[rowIdx].rowId\r\n      for (let colIdx = startColIndex; colIdx <= endColIndex; colIdx++) {\r\n        const columnName = selectableColumns[colIdx]\r\n        const cellKey = `${rowId}:${columnName}`\r\n        selectedCells.value.add(cellKey)\r\n      }\r\n    }\r\n\r\n    console.log('[dataGridStore] expandDragSelection complete:', {\r\n      selectedCellsCount: selectedCells.value.size\r\n    })\r\n  }\r\n\r\n  function endDragSelection() {\r\n    pressedCell.value = null\r\n    isDragging.value = false\r\n  }\r\n\r\n  function isCellSelected(rowId: string, columnName: string): boolean {\r\n    const cellKey = `${rowId}:${columnName}`\r\n    return selectedCells.value.has(cellKey)\r\n  }\r\n\r\n  /**\r\n   * Reserved special column names that cannot be used for data columns\r\n   */\r\n  const SPECIAL_COLUMN_NAMES = [\r\n    '__rowNumber',\r\n    '__checkbox',\r\n    '__validationAlerts',\r\n    '__deleteRow',\r\n    '__insertRow'\r\n  ]\r\n\r\n  /**\r\n   * Sets columns with validation and duplicate name handling\r\n   * @throws Error if any column name conflicts with special column names\r\n   */\r\n  function setColumns(inputColumns: GridColumn[]) {\r\n    // Check for conflicts with special column names\r\n    const conflicts = inputColumns\r\n      .filter(col => !col.specialType) // Only check data columns\r\n      .filter(col => SPECIAL_COLUMN_NAMES.includes(col.name))\r\n      .map(col => col.name)\r\n\r\n    if (conflicts.length > 0) {\r\n      throw new Error(\r\n        `Column name conflict: The following column names are reserved for special columns and cannot be used: ${conflicts.join(', ')}. ` +\r\n        `Reserved names: ${SPECIAL_COLUMN_NAMES.join(', ')}`\r\n      )\r\n    }\r\n\r\n    // Ensure unique column names (rename duplicates)\r\n    const uniqueColumns = ensureUniqueColumnNames(inputColumns)\r\n    columns.value = uniqueColumns\r\n\r\n    console.log('[dataGridStore] setColumns:', {\r\n      originalCount: inputColumns.length,\r\n      uniqueCount: uniqueColumns.length,\r\n      columnNames: uniqueColumns.map(c => c.name)\r\n    })\r\n  }\r\n\r\n  /**\r\n   * Ensures all column names are unique by appending _1, _2, _3 etc. to duplicates\r\n   * Example: [priezvisko, meno, priezvisko, mesto, priezvisko]\r\n   *       -> [priezvisko_1, meno, priezvisko_2, mesto, priezvisko_3]\r\n   */\r\n  function ensureUniqueColumnNames(inputColumns: GridColumn[]): GridColumn[] {\r\n    const nameCounts = new Map<string, number>()\r\n\r\n    return inputColumns.map(col => {\r\n      const originalName = col.name\r\n      const count = nameCounts.get(originalName) || 0\r\n      nameCounts.set(originalName, count + 1)\r\n\r\n      if (count > 0) {\r\n        // This is a duplicate - append _N\r\n        return {\r\n          ...col,\r\n          name: `${originalName}_${count + 1}`\r\n        }\r\n      }\r\n\r\n      // First occurrence - keep original name but mark it as _1 if there will be duplicates\r\n      return col\r\n    }).map((col, index, arr) => {\r\n      const originalName = col.name.replace(/_\\d+$/, '') // Remove any _N suffix\r\n      const duplicateCount = arr.filter(c =>\r\n        c.name === originalName || c.name.startsWith(`${originalName}_`)\r\n      ).length\r\n\r\n      if (duplicateCount > 1 && col.name === originalName) {\r\n        // First occurrence of a duplicate - rename to _1\r\n        return { ...col, name: `${originalName}_1` }\r\n      }\r\n\r\n      return col\r\n    })\r\n  }\r\n\r\n  /**\r\n   * Checks if all non-empty rows have valid cells (no validation errors)\r\n   * A row is considered empty if ALL its cells are null/empty\r\n   * Returns true if all non-empty rows are valid\r\n   */\r\n  function areNonEmptyRowsValid(): boolean {\r\n    for (const row of rows.value) {\r\n      // Check if row is empty (all cells null/empty)\r\n      const isEmpty = row.cells.every(cell =>\r\n        cell.value === null ||\r\n        cell.value === undefined ||\r\n        cell.value === ''\r\n      )\r\n\r\n      if (isEmpty) {\r\n        continue // Skip empty rows\r\n      }\r\n\r\n      // Row is not empty - check if any cell has validation error\r\n      const hasError = row.cells.some(cell => cell.isValidationError)\r\n\r\n      if (hasError) {\r\n        return false // Found a non-empty row with validation error\r\n      }\r\n    }\r\n\r\n    return true // All non-empty rows are valid\r\n  }\r\n\r\n  /**\r\n   * Marks a cell as validated\r\n   */\r\n  function markCellValidated(rowId: string, columnName: string) {\r\n    const cellKey = `${rowId}:${columnName}`\r\n    validatedCells.value.add(cellKey)\r\n    changedCellsSinceValidation.value.delete(cellKey)\r\n  }\r\n\r\n  /**\r\n   * Clears all validation tracking (e.g., when loading new data)\r\n   */\r\n  function clearValidationTracking() {\r\n    console.log('[dataGridStore] clearValidationTracking:', {\r\n      clearedValidatedCount: validatedCells.value.size,\r\n      clearedChangedCount: changedCellsSinceValidation.value.size\r\n    })\r\n    validatedCells.value.clear()\r\n    changedCellsSinceValidation.value.clear()\r\n  }\r\n\r\n  /**\r\n   * Gets cells that need validation (unvalidated or changed since last validation)\r\n   * SOLUTION 2: Enhanced logging to debug validation tracking\r\n   * ✅ RIEŠENIE #3: Filter columns WITHOUT validation rules (CRITICAL optimization)\r\n   */\r\n  function getCellsNeedingValidation(\r\n    forceValidateAll: boolean = false,\r\n    columnsWithRules?: Set<string>  // ✅ RIEŠENIE #3: Optional parameter for columns with rules\r\n  ): { rowId: string; columnName: string }[] {\r\n    console.log('[getCellsNeedingValidation] 🔍 START', {\r\n      totalRows: rows.value.length,\r\n      validatedCellsCount: validatedCells.value.size,\r\n      changedCellsCount: changedCellsSinceValidation.value.size,\r\n      forceValidateAll,\r\n      hasColumnsWithRules: !!columnsWithRules\r\n    })\r\n\r\n    // ✅ RIEŠENIE #3: Get visible columns\r\n    const visibleColumns = new Set(\r\n      columns.value\r\n        .filter(col => col.visibleForGrid !== false)\r\n        .map(col => col.name)\r\n    )\r\n\r\n    // ✅ RIEŠENIE #3: If columnsWithRules provided AND not empty, intersect with visible columns\r\n    // Otherwise, validate ALL visible columns (backward compatible)\r\n    // ✅ FIX C: Check both existence AND size to avoid empty Set issue\r\n    const columnsToValidate = (columnsWithRules && columnsWithRules.size > 0)\r\n      ? new Set([...visibleColumns].filter(col => columnsWithRules.has(col)))\r\n      : visibleColumns\r\n\r\n    console.log('[getCellsNeedingValidation] 🔍 Column filtering:', {\r\n      totalColumns: columns.value.length,\r\n      visibleColumns: visibleColumns.size,\r\n      columnsWithRules: columnsWithRules?.size ?? 'N/A',\r\n      columnsToValidate: columnsToValidate.size,\r\n      skippedColumns: visibleColumns.size - columnsToValidate.size,\r\n      filterRate: columnsWithRules\r\n        ? `${Math.round((1 - columnsToValidate.size / visibleColumns.size) * 100)}% skipped`\r\n        : 'N/A (no filter)'\r\n    })\r\n\r\n    const cellsToValidate: { rowId: string; columnName: string }[] = []\r\n    let emptyRowsSkipped = 0\r\n    let alreadyValidatedCells = 0\r\n    let changedCells = 0\r\n    let neverValidatedCells = 0\r\n    let skippedInvisibleCells = 0\r\n    let skippedNoRulesCells = 0  // ✅ RIEŠENIE #3: Track cells skipped due to no rules\r\n\r\n    for (const row of rows.value) {\r\n      // ✅ FIX: Guard check pre row.cells existenciu\r\n      if (!row || !row.cells) {\r\n        console.warn('[getCellsNeedingValidation] Row has no cells array:', row?.rowId)\r\n        continue\r\n      }\r\n\r\n      // ✅ RIEŠENIE #2: Check if row is empty (only in VISIBLE columns)\r\n      const visibleCells = row.cells.filter(cell => columnsToValidate.has(cell.columnName))\r\n      const isEmpty = visibleCells.every(cell =>\r\n        cell.value === null ||\r\n        cell.value === undefined ||\r\n        cell.value === ''\r\n      )\r\n\r\n      if (isEmpty) {\r\n        emptyRowsSkipped++\r\n        continue  // Skip empty rows unconditionally\r\n      }\r\n\r\n      for (const cell of row.cells) {\r\n        // ✅ RIEŠENIE #3: Track different skip reasons\r\n        const isVisible = visibleColumns.has(cell.columnName)\r\n        const hasRules = columnsWithRules ? columnsWithRules.has(cell.columnName) : true\r\n\r\n        // Skip invisible columns\r\n        if (!isVisible) {\r\n          skippedInvisibleCells++\r\n          continue\r\n        }\r\n\r\n        // ✅ RIEŠENIE #3: Skip visible columns WITHOUT rules (if columnsWithRules provided)\r\n        if (columnsWithRules && !hasRules) {\r\n          skippedNoRulesCells++\r\n          continue\r\n        }\r\n\r\n        const cellKey = `${cell.rowId}:${cell.columnName}`\r\n        const isValidated = validatedCells.value.has(cellKey)\r\n        const isChanged = changedCellsSinceValidation.value.has(cellKey)\r\n\r\n        // With forceValidateAll=true: validate ALL cells (even if already validated and unchanged)\r\n        // With forceValidateAll=false: only validate unvalidated or changed cells\r\n        if (forceValidateAll || !isValidated || isChanged) {\r\n          cellsToValidate.push({\r\n            rowId: cell.rowId,\r\n            columnName: cell.columnName\r\n          })\r\n\r\n          // Track reason for validation\r\n          if (!isValidated) {\r\n            neverValidatedCells++\r\n          } else if (isChanged) {\r\n            changedCells++\r\n          }\r\n        } else {\r\n          alreadyValidatedCells++\r\n        }\r\n      }\r\n    }\r\n\r\n    console.log('[getCellsNeedingValidation] 📊 RESULT:', {\r\n      cellsToValidate: cellsToValidate.length,\r\n      neverValidated: neverValidatedCells,\r\n      changedSinceValidation: changedCells,\r\n      alreadyValidated: alreadyValidatedCells,\r\n      emptyRowsSkipped: emptyRowsSkipped,\r\n      skippedInvisibleCells: skippedInvisibleCells,\r\n      skippedNoRulesCells: skippedNoRulesCells,  // ✅ RIEŠENIE #3: CRITICAL METRIC!\r\n      sampleCells: cellsToValidate.slice(0, 3).map(c => `${c.rowId}:${c.columnName}`)\r\n    })\r\n\r\n    return cellsToValidate\r\n  }\r\n\r\n  // Set minimum rows configuration\r\n  function setMinRows(newMinRows: number) {\r\n    if (newMinRows < 0) {\r\n      console.warn('[dataGridStore] setMinRows: Invalid value, must be >= 0:', newMinRows)\r\n      return\r\n    }\r\n    minRows.value = newMinRows\r\n    ensureMinimumRows()  // Immediately apply if current rows below new minimum\r\n    console.log(`[dataGridStore] setMinRows: ${newMinRows}`)\r\n  }\r\n\r\n  // ✅ RIEŠENIE #3: Cleanup method to clear all data and prevent memory leaks\r\n  function clearAllData() {\r\n    console.log('[dataGridStore] clearAllData called - clearing all state')\r\n\r\n    // Clear row data\r\n    rowsMap.value.clear()\r\n    rowsOrder.value = []\r\n\r\n    // Clear selection state\r\n    selectedCells.value.clear()\r\n    checkedRows.value = []\r\n    pressedCell.value = null\r\n    isDragging.value = false\r\n    wasCtrlPressed.value = false\r\n\r\n    // Clear validation tracking\r\n    validatedCells.value.clear()\r\n    changedCellsSinceValidation.value.clear()\r\n\r\n    // Clear sort/filter state\r\n    sortColumnsMap.value.clear()\r\n    sortColumnsOrder.value = []\r\n    filterExpression.value = null\r\n    searchQuery.value = ''\r\n\r\n    // Reset pagination\r\n    currentPage.value = 1\r\n\r\n    console.log('[dataGridStore] All data cleared successfully')\r\n  }\r\n\r\n  /**\r\n   * Updates a specific column with new properties (reactive)\r\n   * ✅ RIEŠENIE #3A: Force reactivity by replacing entire column object\r\n   * @param columnName - Name of the column to update\r\n   * @param updates - Partial column object with properties to update\r\n   */\r\n  function updateColumn(columnName: string, updates: Partial<GridColumn>) {\r\n    const colIndex = columns.value.findIndex(c => c.name === columnName)\r\n    if (colIndex !== -1) {\r\n      const oldColumn = columns.value[colIndex]\r\n\r\n      // ✅ RIEŠENIE #3A: Replace entire object instead of mutating\r\n      columns.value[colIndex] = {\r\n        ...oldColumn,\r\n        ...updates\r\n      }\r\n\r\n      // ✅ RIEŠENIE #3A: CRITICAL - Trigger array reactivity by creating new array\r\n      columns.value = [...columns.value]\r\n\r\n      console.log(`[dataGridStore] updateColumn: ${columnName}`, {\r\n        oldWidth: oldColumn.width,\r\n        newWidth: updates.width,\r\n        updates\r\n      })\r\n    } else {\r\n      console.warn(`[dataGridStore] updateColumn: Column not found: ${columnName}`)\r\n    }\r\n  }\r\n\r\n  return {\r\n    // State\r\n    rows,\r\n    columns,\r\n    selectedCells,\r\n    checkedRows,\r\n    pageSize,\r\n    currentPage,\r\n    sortColumns,\r\n    filterExpression,\r\n    searchQuery,\r\n    searchResults,\r\n    config,\r\n    pressedCell,\r\n    isDragging,\r\n    wasCtrlPressed,\r\n    isAutoRowHeightEnabled,\r\n    minRows,\r\n\r\n    // Computed\r\n    visibleRows,\r\n    totalRows,\r\n    totalPages,\r\n    checkboxState,\r\n\r\n    // Actions\r\n    getRow,          // ✅ RIEŠENIE #3: O(1) row lookup\r\n    loadRows,\r\n    updateCell,\r\n    updateRowHeight,\r\n    setAutoRowHeightEnabled,\r\n    addSort,\r\n    clearSort,\r\n    setSortColumns,\r\n    setPageSize,\r\n    goToPage,\r\n    deleteRow,\r\n    insertRow,\r\n    insertMultipleRows,\r\n    toggleCheckbox,\r\n    isRowChecked,\r\n    toggleAllCheckboxes,\r\n    setConfig,\r\n    initializeEmptyRows,\r\n    setFilter,\r\n    clearFilter,\r\n    setSearchQuery,\r\n    clearSearch,\r\n    selectCell,\r\n    startDragSelection,\r\n    expandDragSelection,\r\n    endDragSelection,\r\n    isCellSelected,\r\n    setColumns,\r\n    updateColumn,    // ✅ RIEŠENIE #1: Reactive column updates\r\n    ensureUniqueColumnNames,\r\n    areNonEmptyRowsValid,\r\n    markCellValidated,\r\n    clearValidationTracking,\r\n    getCellsNeedingValidation,\r\n    setMinRows,\r\n    clearAllData  // ✅ RIEŠENIE #3: Export cleanup method\r\n  }\r\n  })\r\n\r\n  // ✅ RIEŠENIE #2: Cache the store definition before returning\r\n  storeCache.set(storeId, storeDefinition)\r\n\r\n  // ✅ RIEŠENIE #2: Remove from pending - creation complete\r\n  pendingStores.delete(storeId)\r\n\r\n  console.log('[useDataGridStore] Store definition cached for:', storeId)\r\n\r\n  // Return StoreDefinition - let component call it\r\n  return storeDefinition\r\n}\r\n","import { ref, reactive, nextTick } from 'vue'\r\nimport { useDebounceFn } from '@vueuse/core'\r\nimport { clog, cinfo, cerror, cwarn } from './useConditionalLogging'\r\n\r\nexport interface ValidationRule {\r\n  columnName: string\r\n  ruleType: 'Required' | 'Regex' | 'Range' | 'Custom'\r\n  errorMessage: string\r\n  regexPattern?: string\r\n  minValue?: any\r\n  maxValue?: any\r\n  severity: 'Info' | 'Warning' | 'Error' | 'Critical'\r\n  customValidator?: (value: any) => boolean\r\n}\r\n\r\nexport interface ValidationError {\r\n  rowId: string\r\n  columnName: string\r\n  message: string\r\n  severity: string\r\n}\r\n\r\nexport interface ValidationResult {\r\n  isValid: boolean\r\n  error?: string\r\n  severity?: string\r\n}\r\n\r\nexport function useValidation() {\r\n  // Each instance has its own validation state\r\n  const validationRules = ref<Map<string, ValidationRule[]>>(new Map())\r\n  // Use reactive object instead of ref<Map> for proper Vue reactivity\r\n  const validationErrors = reactive<Record<string, ValidationError[]>>({})\r\n  // SOLUTION A: Reactive counter to trigger watch in DataGrid when validation errors change\r\n  const errorCount = ref(0)\r\n  // SOLUTION B: Reactive counter to trigger watch when validation rules change (Map.set() doesn't trigger reactivity)\r\n  const ruleCount = ref(0)\r\n\r\n  // Helper function to update errorCount whenever validationErrors changes\r\n  function updateErrorCount() {\r\n    errorCount.value = Object.keys(validationErrors).length\r\n  }\r\n\r\n  function addValidationRule(rule: ValidationRule) {\r\n    const rules = validationRules.value.get(rule.columnName) || []\r\n    rules.push(rule)\r\n    validationRules.value.set(rule.columnName, rules)\r\n\r\n    console.log('[useValidation] addValidationRule:', {\r\n      columnName: rule.columnName,\r\n      ruleType: rule.ruleType,\r\n      severity: rule.severity,\r\n      totalRulesForColumn: rules.length\r\n    })\r\n    ruleCount.value++\r\n  }\r\n\r\n  function validateCell(rowId: string, columnName: string, value: any): ValidationResult {\r\n    const rules = validationRules.value.get(columnName) || []\r\n\r\n    // Check if value is empty\r\n    const isEmpty = value == null || value === ''\r\n\r\n    for (const rule of rules) {\r\n      // Required validation\r\n      if (rule.ruleType === 'Required') {\r\n        if (isEmpty) {\r\n          console.log('[useValidation] validateCell FAILED: Required', {\r\n            rowId,\r\n            columnName,\r\n            error: rule.errorMessage,\r\n            severity: rule.severity\r\n          })\r\n          return {\r\n            isValid: false,\r\n            error: rule.errorMessage,\r\n            severity: rule.severity\r\n          }\r\n        }\r\n      }\r\n\r\n      // Skip other validations if value is empty (only validate non-empty values)\r\n      if (isEmpty) continue\r\n\r\n      // Regex validation\r\n      if (rule.ruleType === 'Regex' && rule.regexPattern) {\r\n        const regex = new RegExp(rule.regexPattern)\r\n        if (!regex.test(String(value))) {\r\n          console.log('[useValidation] validateCell FAILED: Regex', {\r\n            rowId,\r\n            columnName,\r\n            value,\r\n            pattern: rule.regexPattern,\r\n            error: rule.errorMessage\r\n          })\r\n          return {\r\n            isValid: false,\r\n            error: rule.errorMessage,\r\n            severity: rule.severity\r\n          }\r\n        }\r\n      }\r\n\r\n      // Range validation\r\n      if (rule.ruleType === 'Range') {\r\n        const numValue = Number(value)\r\n        if (isNaN(numValue)) {\r\n          console.log('[useValidation] validateCell FAILED: Range (not a number)', {\r\n            rowId,\r\n            columnName,\r\n            value\r\n          })\r\n          return {\r\n            isValid: false,\r\n            error: 'Value must be a number',\r\n            severity: rule.severity\r\n          }\r\n        }\r\n\r\n        if (rule.minValue != null && numValue < rule.minValue) {\r\n          console.log('[useValidation] validateCell FAILED: Range (below min)', {\r\n            rowId,\r\n            columnName,\r\n            value: numValue,\r\n            minValue: rule.minValue\r\n          })\r\n          return {\r\n            isValid: false,\r\n            error: rule.errorMessage,\r\n            severity: rule.severity\r\n          }\r\n        }\r\n\r\n        if (rule.maxValue != null && numValue > rule.maxValue) {\r\n          console.log('[useValidation] validateCell FAILED: Range (above max)', {\r\n            rowId,\r\n            columnName,\r\n            value: numValue,\r\n            maxValue: rule.maxValue\r\n          })\r\n          return {\r\n            isValid: false,\r\n            error: rule.errorMessage,\r\n            severity: rule.severity\r\n          }\r\n        }\r\n      }\r\n\r\n      // Custom validation\r\n      if (rule.ruleType === 'Custom' && rule.customValidator) {\r\n        if (!rule.customValidator(value)) {\r\n          console.log('[useValidation] validateCell FAILED: Custom', {\r\n            rowId,\r\n            columnName,\r\n            value,\r\n            error: rule.errorMessage\r\n          })\r\n          return {\r\n            isValid: false,\r\n            error: rule.errorMessage,\r\n            severity: rule.severity\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    return { isValid: true }\r\n  }\r\n\r\n  // Helper: Check if entire row is empty (all data columns have no value)\r\n  function isRowCompletelyEmpty(rowCells: Array<{ columnName: string; value: any }>): boolean {\r\n    return rowCells.every(cell => cell.value == null || cell.value === '')\r\n  }\r\n\r\n  // ✅ RIEŠENIE #2: Direct validation (no debounce) for bulk operations\r\n  // ✅ RIEŠENIE #2: Added skipErrorCountUpdate parameter for batch operations\r\n  function validateCellDirect(\r\n    rowId: string,\r\n    columnName: string,\r\n    value: any,\r\n    rowCells?: Array<{ columnName: string; value: any }>,\r\n    skipErrorCountUpdate = false  // ✅ New parameter - skip updateErrorCount in batch mode\r\n  ): Promise<void> {\r\n    // If row cells provided, check if entire row is empty\r\n    if (rowCells && isRowCompletelyEmpty(rowCells)) {\r\n      console.log('[useValidation] validateCellDirect: Row is completely empty, clearing errors', {\r\n        rowId\r\n      })\r\n      // Entire row is empty - clear ALL validation errors for this row\r\n      delete validationErrors[rowId]\r\n\r\n      // ✅ Only update error count if not in batch mode\r\n      if (!skipErrorCountUpdate) {\r\n        updateErrorCount()\r\n      }\r\n      return Promise.resolve()\r\n    }\r\n\r\n    const result = validateCell(rowId, columnName, value)\r\n\r\n    // Update errors map\r\n    const rowErrors = validationErrors[rowId] || []\r\n\r\n    if (!result.isValid) {\r\n      // Add/update error\r\n      const existingErrorIdx = rowErrors.findIndex(e => e.columnName === columnName)\r\n      const error: ValidationError = {\r\n        rowId,\r\n        columnName,\r\n        message: result.error!,\r\n        severity: result.severity!\r\n      }\r\n\r\n      if (existingErrorIdx >= 0) {\r\n        rowErrors[existingErrorIdx] = error\r\n        console.log('[useValidation] validateCellDirect: Updated existing error', {\r\n          rowId,\r\n          columnName,\r\n          error: error.message\r\n        })\r\n      } else {\r\n        rowErrors.push(error)\r\n        console.log('[useValidation] validateCellDirect: Added new error', {\r\n          rowId,\r\n          columnName,\r\n          error: error.message\r\n        })\r\n      }\r\n\r\n      validationErrors[rowId] = rowErrors\r\n    } else {\r\n      // Clear error for this column\r\n      const filteredErrors = rowErrors.filter(e => e.columnName !== columnName)\r\n      if (filteredErrors.length > 0) {\r\n        validationErrors[rowId] = filteredErrors\r\n        console.log('[useValidation] validateCellDirect: Cleared error for column, other errors remain', {\r\n          rowId,\r\n          columnName,\r\n          remainingErrors: filteredErrors.length\r\n        })\r\n      } else {\r\n        delete validationErrors[rowId]\r\n      }\r\n    }\r\n\r\n    // ✅ RIEŠENIE #2: Only update error count if not in batch mode\r\n    if (!skipErrorCountUpdate) {\r\n      updateErrorCount()\r\n    }\r\n\r\n    return Promise.resolve()\r\n  }\r\n\r\n  // Throttled validation (300ms) for user input - wraps validateCellDirect\r\n  const validateCellThrottled = useDebounceFn(\r\n    validateCellDirect,\r\n    300\r\n  )\r\n\r\n  async function validateAll(rows: any[]) {\r\n    console.log('[useValidation] validateAll START:', {\r\n      rowCount: rows.length\r\n    })\r\n\r\n    // Clear all errors\r\n    Object.keys(validationErrors).forEach(key => delete validationErrors[key])\r\n    let totalErrors = 0\r\n    let rowIndex = 0\r\n\r\n    // ✅ FIX: Batch processing with UI yielding\r\n    const BATCH_SIZE = 50  // Process 50 rows at a time\r\n    const totalBatches = Math.ceil(rows.length / BATCH_SIZE)\r\n\r\n    for (let batchIndex = 0; batchIndex < totalBatches; batchIndex++) {\r\n      const batchStart = batchIndex * BATCH_SIZE\r\n      const batchEnd = Math.min(batchStart + BATCH_SIZE, rows.length)\r\n      const batch = rows.slice(batchStart, batchEnd)\r\n\r\n      console.log(`[useValidation] Processing batch ${batchIndex + 1}/${totalBatches} (rows ${batchStart}-${batchEnd - 1})`)\r\n\r\n      for (const row of batch) {\r\n        // DEBUG: Log first 3 rows to see what data we have (use counter instead of indexOf)\r\n        if (rowIndex < 3) {\r\n          console.log('[useValidation] validateAll: Examining row', {\r\n            rowId: row.rowId,\r\n            rowIndex,\r\n            cellCount: row.cells?.length || 0\r\n          })\r\n        }\r\n        rowIndex++\r\n\r\n        // Skip rows without cells array\r\n        if (!row.cells || !Array.isArray(row.cells)) {\r\n          console.log('[useValidation] validateAll: Skipping row without cells', {\r\n            rowId: row.rowId,\r\n            hasCells: !!row.cells,\r\n            isArray: Array.isArray(row.cells)\r\n          })\r\n          continue\r\n        }\r\n\r\n        // Skip empty rows - only validate rows with at least one non-empty cell\r\n        if (isRowCompletelyEmpty(row.cells)) {\r\n          console.log('[useValidation] validateAll: Skipping empty row', {\r\n            rowId: row.rowId,\r\n            cellCount: row.cells?.length || 0\r\n          })\r\n          continue\r\n        }\r\n\r\n        for (const cell of row.cells) {\r\n          const result = validateCell(row.rowId, cell.columnName, cell.value)\r\n          if (!result.isValid) {\r\n            const rowErrors = validationErrors[row.rowId] || []\r\n            rowErrors.push({\r\n              rowId: row.rowId,\r\n              columnName: cell.columnName,\r\n              message: result.error!,\r\n              severity: result.severity!\r\n            })\r\n            validationErrors[row.rowId] = rowErrors\r\n            totalErrors++\r\n          }\r\n        }\r\n      }\r\n\r\n      // ✅ KĽÚČ: Yield UI po každom batchi\r\n      await nextTick()\r\n    }\r\n\r\n    console.log('[useValidation] validateAll - loop FINISHED, processed', rowIndex, 'rows')\r\n    console.log('[useValidation] validateAll - totalErrors:', totalErrors)\r\n\r\n    // SIMPLIFIED: Avoid complex operations on reactive validationErrors object\r\n    const rowsWithErrorsCount = Object.keys(validationErrors).length\r\n    console.log('[useValidation] validateAll - rowsWithErrors:', rowsWithErrorsCount)\r\n\r\n    console.log('[useValidation] validateAll complete - SUCCESS')\r\n\r\n    console.log('[useValidation] validateAll - calling updateErrorCount...')\r\n    updateErrorCount()\r\n    console.log('[useValidation] validateAll - updateErrorCount DONE')\r\n\r\n    // SIMPLIFIED: Build errors array without Object.values().flat() on reactive object\r\n    console.log('[useValidation] validateAll - building errors array...')\r\n    const allErrors: ValidationError[] = []\r\n    for (const rowId in validationErrors) {\r\n      const rowErrors = validationErrors[rowId]\r\n      if (rowErrors && Array.isArray(rowErrors)) {\r\n        allErrors.push(...rowErrors)\r\n      }\r\n    }\r\n    console.log('[useValidation] validateAll - errors array built, count:', allErrors.length)\r\n\r\n    console.log('[useValidation] validateAll - returning result...')\r\n    return {\r\n      isValid: totalErrors === 0,\r\n      totalErrors,\r\n      errors: allErrors\r\n    }\r\n  }\r\n\r\n  function getValidationErrors(rowId: string): ValidationError[] {\r\n    return validationErrors[rowId] || []\r\n  }\r\n\r\n  function clearValidationErrors() {\r\n    const clearedCount = Object.keys(validationErrors).length\r\n    console.log('[useValidation] clearValidationErrors:', {\r\n      clearedCount\r\n    })\r\n    Object.keys(validationErrors).forEach(key => delete validationErrors[key])\r\n    updateErrorCount()\r\n  }\r\n\r\n  return {\r\n    validationRules,\r\n    validationErrors,\r\n    errorCount,\r\n    ruleCount,\r\n    addValidationRule,\r\n    validateCell,\r\n    validateCellDirect,      // ✅ Direct validation for bulk operations (no debounce)\r\n    validateCellThrottled,   // Throttled validation for user input (300ms debounce)\r\n    validateAll,\r\n    getValidationErrors,\r\n    clearValidationErrors,\r\n    updateErrorCount         // ✅ RIEŠENIE #2: Export for manual call after batch validation\r\n  }\r\n}\r\n","/**\r\n * Copy/Paste Composable with Excel-like TSV Format\r\n *\r\n * EXCEL TSV FORMAT:\r\n * - Normal cells: separated by \\t (no quotes)\r\n * - Multiline cells: wrapped in quotes \"Multi\\nLine\\nCell\"\r\n * - Cells with tabs: wrapped in quotes \"Cell\\tWith\\tTabs\"\r\n * - Cells with quotes: quotes doubled AND wrapped \"Cell with \"\"quote\"\"\"\r\n *\r\n * CRITICAL: Before copying, values are ESCAPED (quotes added if needed)\r\n * CRITICAL: After pasting, values are UNESCAPED (quotes removed)\r\n */\r\n\r\nimport { ref } from 'vue'\r\nimport type { GridRow } from '@/types/grid'\r\n\r\nexport interface CopyPasteOptions {\r\n  includeHeaders?: boolean\r\n}\r\n\r\nexport interface CopyPasteResult {\r\n  success: boolean\r\n  message?: string\r\n  processedRows?: number\r\n}\r\n\r\nexport function useCopyPaste() {\r\n  const clipboardData = ref<string>('')\r\n\r\n  /**\r\n   * Escapes TSV value for Excel compatibility\r\n   *\r\n   * ESCAPING RULES:\r\n   * 1. If value contains tab, newline, carriage return, or quote → wrap in quotes\r\n   * 2. If wrapping in quotes, double any existing quotes (\" → \"\")\r\n   * 3. Otherwise, return value as-is (no quotes needed)\r\n   *\r\n   * EXAMPLES:\r\n   * - \"NormalText\" → NormalText (no special chars, no quotes)\r\n   * - \"Multi\\nLine\" → \"Multi\\nLine\" (newline → quoted)\r\n   * - \"Cell\\tWith\\tTab\" → \"Cell\\tWith\\tTab\" (tabs → quoted)\r\n   * - 'Cell with \"quote\"' → \"Cell with \"\"quote\"\"\" (quote → doubled AND quoted)\r\n   * - \"\" → \"\" (empty string stays empty)\r\n   */\r\n  function escapeTsvValue(value: string): string {\r\n    if (!value) return value\r\n\r\n    // Check if quoting is needed\r\n    const needsQuoting = value.includes('\\t') ||\r\n                        value.includes('\\n') ||\r\n                        value.includes('\\r') ||\r\n                        value.includes('\"')\r\n\r\n    if (!needsQuoting) {\r\n      // Normal value - no escaping needed\r\n      return value\r\n    }\r\n\r\n    // Escape quotes by doubling them, then wrap entire value in quotes\r\n    // Example: Cell with \"quote\" → Cell with \"\"quote\"\" → \"Cell with \"\"quote\"\"\"\r\n    const escaped = value.replace(/\"/g, '\"\"')\r\n    return `\"${escaped}\"`\r\n  }\r\n\r\n  /**\r\n   * Formats rows as Tab-Separated Values with Excel escaping\r\n   *\r\n   * EXAMPLE OUTPUT:\r\n   * Column1\\tColumn2\\tColumn3\\n\r\n   * Cell1\\t\"Multi\\nLine\\nCell\"\\tCell3\\n\r\n   * Cell1\\t\"Cell\\tWith\\tTabs\"\\tCell3\\n\r\n   * Cell1\\t\"Cell with \"\"quote\"\"\"\\tCell3\\n\r\n   */\r\n  function formatAsTabSeparated(\r\n    rows: GridRow[],\r\n    columnNames: string[],\r\n    options: CopyPasteOptions = {}\r\n  ): string {\r\n    const lines: string[] = []\r\n\r\n    // Add headers if requested\r\n    if (options.includeHeaders) {\r\n      // Escape header values too (in case column names contain special chars)\r\n      lines.push(columnNames.map(escapeTsvValue).join('\\t'))\r\n    }\r\n\r\n    // Add data rows\r\n    for (const row of rows) {\r\n      // Escape all cell values before joining with tabs\r\n      // This ensures multiline/tab content is properly quoted for Excel\r\n      const values = columnNames.map(col => {\r\n        const cell = row.cells.find(c => c.columnName === col)\r\n        const value = cell?.value\r\n        return escapeTsvValue(value?.toString() ?? '')\r\n      })\r\n      lines.push(values.join('\\t'))\r\n    }\r\n\r\n    return lines.join('\\n')\r\n  }\r\n\r\n  /**\r\n   * Parses Tab-Separated Values with Excel multiline/tab support\r\n   *\r\n   * EXCEL TSV FORMAT:\r\n   * - Normal cells: separated by \\t\r\n   * - Multiline cells: wrapped in quotes \"Multi\\nLine\\nCell\"\r\n   * - Cells with tabs: wrapped in quotes \"Cell\\tWith\\tTabs\"\r\n   * - Escaped quotes: doubled \"\" inside quoted values \"Cell with \"\"quote\"\"\"\r\n   *\r\n   * CRITICAL: Uses character-by-character parsing instead of Split() to handle embedded delimiters\r\n   *\r\n   * EXAMPLE INPUT:\r\n   * Column1\\tColumn2\\tColumn3\\n\r\n   * Cell1\\t\"Multi\\nLine\\nCell\"\\tCell3\\n\r\n   * Cell1\\t\"Cell\\tWith\\tTabs\"\\tCell3\\n\r\n   * Cell1\\t\"Cell with \"\"quote\"\"\"\\tCell3\\n\r\n   *\r\n   * EXAMPLE OUTPUT (unescaped):\r\n   * Column2 value: \"Multi\\nLine\\nCell\" (3 lines, NO quotes in final value)\r\n   */\r\n  function parseTabSeparated(clipboardText: string): { headers: string[], rows: Record<string, any>[] } {\r\n    const result: Record<string, any>[] = []\r\n    const currentRow: string[] = []\r\n    let currentCell = ''\r\n    let inQuotes = false\r\n    let isFirstRow = true\r\n    let headers: string[] = []\r\n\r\n    // ✅ FIX: Detekcia single-cell copy (neobsahuje tab ani newline, alebo len trailing newline)\r\n    const trimmedText = clipboardText.trim()\r\n    const isSingleCell = !trimmedText.includes('\\t') && !trimmedText.includes('\\n')\r\n\r\n    for (let i = 0; i < clipboardText.length; i++) {\r\n      const c = clipboardText[i]\r\n      const next = i + 1 < clipboardText.length ? clipboardText[i + 1] : null\r\n\r\n      if (c === '\"') {\r\n        if (inQuotes && next === '\"') {\r\n          // Escaped quote (\"\") → append single quote to cell content\r\n          // Example: \"Cell with \"\"quote\"\"\" → Cell with \"quote\"\r\n          currentCell += '\"'\r\n          i++ // Skip next quote\r\n        } else {\r\n          // Toggle quote mode (start or end of quoted value)\r\n          // CRITICAL: Quotes themselves are NOT added to cell content\r\n          inQuotes = !inQuotes\r\n        }\r\n      } else if (c === '\\t' && !inQuotes) {\r\n        // Tab outside quotes = end of cell\r\n        currentRow.push(currentCell)\r\n        currentCell = ''\r\n      } else if ((c === '\\n' || c === '\\r') && !inQuotes) {\r\n        // Newline outside quotes = end of row\r\n        if (c === '\\r' && next === '\\n') {\r\n          i++ // Skip \\n after \\r (handle Windows CRLF)\r\n        }\r\n\r\n        if (currentCell.length > 0 || currentRow.length > 0) {\r\n          currentRow.push(currentCell)\r\n          currentCell = ''\r\n\r\n          if (isFirstRow) {\r\n            // ✅ FIX: NEVER treat first row as header for copy/paste\r\n            // Always generate Column1, Column2, ... and preserve all data\r\n            headers = currentRow.map((_, idx) => `Column${idx + 1}`)\r\n\r\n            // Add first row as data (preserve all rows)\r\n            const firstDataRow: Record<string, any> = {}\r\n            for (let j = 0; j < headers.length; j++) {\r\n              // ✅ FIX: Use nullish coalescing (??) instead of OR (||)\r\n              // This preserves empty strings '' instead of converting to null\r\n              firstDataRow[headers[j]] = currentRow[j] ?? null\r\n            }\r\n            result.push(firstDataRow)\r\n\r\n            console.log('[useCopyPaste] parseTabSeparated - first row preserved as data:', {\r\n              headers,\r\n              firstDataRow\r\n            })\r\n\r\n            isFirstRow = false\r\n          } else {\r\n            // Build data row dictionary\r\n            const dataRow: Record<string, any> = {}\r\n            for (let j = 0; j < Math.min(headers.length, currentRow.length); j++) {\r\n              // CRITICAL: Values are UNESCAPED (quotes removed, \"\" → \")\r\n              // ✅ FIX: Use nullish coalescing (??) to preserve empty strings\r\n              dataRow[headers[j]] = currentRow[j] ?? null\r\n            }\r\n            result.push(dataRow)\r\n          }\r\n\r\n          currentRow.length = 0\r\n        }\r\n      } else {\r\n        // Regular character - add to current cell\r\n        // Tabs and newlines inside quotes are preserved as-is\r\n        currentCell += c\r\n      }\r\n    }\r\n\r\n    // Handle last row if no trailing newline\r\n    if (currentCell.length > 0 || currentRow.length > 0) {\r\n      currentRow.push(currentCell)\r\n\r\n      if (isFirstRow && headers.length === 0) {\r\n        // ✅ FIX: Only one row total - always treat as data, not header\r\n        headers = currentRow.map((_, idx) => `Column${idx + 1}`)\r\n        const dataRow: Record<string, any> = {}\r\n        for (let j = 0; j < headers.length; j++) {\r\n          // ✅ FIX: Use nullish coalescing (??) to preserve empty strings\r\n          dataRow[headers[j]] = currentRow[j] ?? null\r\n        }\r\n        result.push(dataRow)\r\n\r\n        console.log('[useCopyPaste] parseTabSeparated - single row preserved as data:', {\r\n          headers,\r\n          dataRow\r\n        })\r\n      } else if (headers.length > 0) {\r\n        // Last data row\r\n        const dataRow: Record<string, any> = {}\r\n        for (let j = 0; j < Math.min(headers.length, currentRow.length); j++) {\r\n          // ✅ FIX: Use nullish coalescing (??) to preserve empty strings\r\n          dataRow[headers[j]] = currentRow[j] ?? null\r\n        }\r\n        result.push(dataRow)\r\n      }\r\n    }\r\n\r\n    return { headers, rows: result }\r\n  }\r\n\r\n  /**\r\n   * Checks if row contains headers\r\n   * ✅ FIX: Použiť heuristiku namiesto jednoduchého isNaN check\r\n   * - Ak je to single-cell copy, NIKDY to nie je header\r\n   * - Ak má všetky bunky číselné hodnoty, NIE je to header\r\n   * - Ak má mix textu a čísel, ALE clipboard neobsahuje tab (single column), NIE je to header\r\n   */\r\n  function isHeaderRow(values: string[], isSingleCell: boolean = false): boolean {\r\n    // ✅ FIX: Single cell copy NIKDY nie je header\r\n    if (isSingleCell || values.length === 1) {\r\n      return false\r\n    }\r\n\r\n    // Ak všetky hodnoty sú čísla → nie je header\r\n    const allNumeric = values.every(v => !v || !isNaN(Number(v)))\r\n    if (allNumeric) {\r\n      return false\r\n    }\r\n\r\n    // Ak obsahuje ASPOŇ jednu hodnotu, ktorá vyzerá ako typický column header\r\n    // (obsahuje veľké písmená na začiatku, nemá veľa čísel, atď.)\r\n    const hasTypicalHeader = values.some(v => {\r\n      if (!v) return false\r\n\r\n      // Typický header: začína veľkým písmenom, krátky (< 30 znakov), bez špeciálnych znakov\r\n      const startsWithCapital = /^[A-Z]/.test(v)\r\n      const isShort = v.length < 30\r\n      const hasNoSpecialChars = !/[@#$%^&*()]/.test(v)\r\n\r\n      return startsWithCapital && isShort && hasNoSpecialChars && isNaN(Number(v))\r\n    })\r\n\r\n    return hasTypicalHeader\r\n  }\r\n\r\n  /**\r\n   * Copies selected CELLS (not full rows) to clipboard with position preservation\r\n   *\r\n   * POSITION PRESERVATION:\r\n   * - Calculates min/max row and column indices from selected cells\r\n   * - Creates rectangular range including EMPTY cells to preserve positions\r\n   * - Example: If cells (2,3) and (4,5) are selected, copies a 3x3 grid:\r\n   *   Row 2: empty, empty, Cell(2,3), empty, empty\r\n   *   Row 3: empty, empty, empty,     empty, empty\r\n   *   Row 4: empty, empty, empty,     empty, Cell(4,5)\r\n   */\r\n  async function copySelectedCells(\r\n    selectedCells: Set<string>,\r\n    allRows: GridRow[],\r\n    allColumns: { name: string }[]\r\n  ): Promise<CopyPasteResult> {\r\n    try {\r\n      if (selectedCells.size === 0) {\r\n        return {\r\n          success: false,\r\n          message: 'No cells selected for copy'\r\n        }\r\n      }\r\n\r\n      console.log('[useCopyPaste] copySelectedCells:', {\r\n        selectedCount: selectedCells.size,\r\n        selectedCells: Array.from(selectedCells)\r\n      })\r\n\r\n      // ✅ FIX: Filter out special columns BEFORE calculating indices (consistent with paste)\r\n      const dataColumnsOnly = allColumns.filter((col: any) => !col.specialType)\r\n\r\n      console.log('[useCopyPaste] Using data columns only:', {\r\n        allColumnsCount: allColumns.length,\r\n        dataColumnsCount: dataColumnsOnly.length\r\n      })\r\n\r\n      // Parse selected cells to get row/column indices\r\n      const cellPositions: Array<{ rowId: string; rowIndex: number; columnName: string; columnIndex: number; value: any }> = []\r\n\r\n      selectedCells.forEach(cellKey => {\r\n        const [rowId, columnName] = cellKey.split(':')\r\n        const row = allRows.find(r => r.rowId === rowId)\r\n        if (!row) return\r\n\r\n        // ✅ FIX: Use dataColumnsOnly instead of allColumns for index calculation\r\n        const columnIndex = dataColumnsOnly.findIndex(c => c.name === columnName)\r\n        if (columnIndex === -1) return\r\n\r\n        // ✅ FIX: Use VISUAL row index (position in current allRows array after filter/sort)\r\n        // NOT GridRow.rowIndex (which is original index before filter/sort)\r\n        const visualRowIndex = allRows.findIndex(r => r.rowId === rowId)\r\n\r\n        const cell = row.cells.find(c => c.columnName === columnName)\r\n        cellPositions.push({\r\n          rowId,\r\n          rowIndex: visualRowIndex !== -1 ? visualRowIndex : row.rowIndex,  // Visual position!\r\n          columnName,\r\n          columnIndex,\r\n          value: cell?.value\r\n        })\r\n      })\r\n\r\n      if (cellPositions.length === 0) {\r\n        return {\r\n          success: false,\r\n          message: 'No valid cells to copy'\r\n        }\r\n      }\r\n\r\n      // Calculate rectangular bounds\r\n      const minRowIndex = Math.min(...cellPositions.map(c => c.rowIndex))\r\n      const maxRowIndex = Math.max(...cellPositions.map(c => c.rowIndex))\r\n      const minColIndex = Math.min(...cellPositions.map(c => c.columnIndex))\r\n      const maxColIndex = Math.max(...cellPositions.map(c => c.columnIndex))\r\n\r\n      console.log('[useCopyPaste] copySelectedCells bounds:', {\r\n        minRowIndex,\r\n        maxRowIndex,\r\n        minColIndex,\r\n        maxColIndex,\r\n        rows: maxRowIndex - minRowIndex + 1,\r\n        cols: maxColIndex - minColIndex + 1\r\n      })\r\n\r\n      // Build TSV with position preservation (include empty cells)\r\n      const lines: string[] = []\r\n\r\n      for (let rowIdx = minRowIndex; rowIdx <= maxRowIndex; rowIdx++) {\r\n        const rowCells: string[] = []\r\n\r\n        for (let colIdx = minColIndex; colIdx <= maxColIndex; colIdx++) {\r\n          // Find if this cell is selected\r\n          const cellPos = cellPositions.find(c => c.rowIndex === rowIdx && c.columnIndex === colIdx)\r\n\r\n          if (cellPos) {\r\n            // Cell is selected - add its value\r\n            const value = cellPos.value?.toString() ?? ''\r\n            rowCells.push(escapeTsvValue(value))\r\n          } else {\r\n            // Cell is not selected - add empty placeholder to preserve position\r\n            rowCells.push('')\r\n          }\r\n        }\r\n\r\n        lines.push(rowCells.join('\\t'))\r\n      }\r\n\r\n      const tsvData = lines.join('\\n')\r\n\r\n      console.log('[useCopyPaste] copySelectedCells TSV:', {\r\n        lineCount: lines.length,\r\n        preview: tsvData.substring(0, 200)\r\n      })\r\n\r\n      // Copy to system clipboard\r\n      await navigator.clipboard.writeText(tsvData)\r\n\r\n      // Store internally for fallback\r\n      clipboardData.value = tsvData\r\n\r\n      return {\r\n        success: true,\r\n        message: `Copied ${cellPositions.length} cells to clipboard`,\r\n        processedRows: cellPositions.length\r\n      }\r\n    } catch (error) {\r\n      console.error('[useCopyPaste] Copy failed:', error)\r\n      return {\r\n        success: false,\r\n        message: `Copy failed: ${error}`\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Copies selected rows to clipboard (legacy method for full row copy)\r\n   */\r\n  async function copyToClipboard(\r\n    rows: GridRow[],\r\n    columnNames: string[],\r\n    options: CopyPasteOptions = {}\r\n  ): Promise<CopyPasteResult> {\r\n    try {\r\n      if (rows.length === 0) {\r\n        return {\r\n          success: false,\r\n          message: 'No data selected for copy'\r\n        }\r\n      }\r\n\r\n      // Format data as TSV with Excel escaping\r\n      const tsvData = formatAsTabSeparated(rows, columnNames, options)\r\n\r\n      // Copy to system clipboard\r\n      await navigator.clipboard.writeText(tsvData)\r\n\r\n      // Store internally for fallback\r\n      clipboardData.value = tsvData\r\n\r\n      return {\r\n        success: true,\r\n        message: `Copied ${rows.length} rows to clipboard`,\r\n        processedRows: rows.length\r\n      }\r\n    } catch (error) {\r\n      console.error('Copy failed:', error)\r\n      return {\r\n        success: false,\r\n        message: `Copy failed: ${error}`\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Pastes from clipboard and returns parsed rows\r\n   */\r\n  async function pasteFromClipboard(): Promise<CopyPasteResult & { rows?: Record<string, any>[], headers?: string[] }> {\r\n    try {\r\n      // Try to read from system clipboard\r\n      let tsvData = ''\r\n      try {\r\n        tsvData = await navigator.clipboard.readText()\r\n      } catch {\r\n        // Fallback to internal clipboard if system clipboard fails\r\n        tsvData = clipboardData.value\r\n      }\r\n\r\n      if (!tsvData) {\r\n        return {\r\n          success: false,\r\n          message: 'No data available in clipboard'\r\n        }\r\n      }\r\n\r\n      // Parse TSV data with Excel multiline support\r\n      const { headers, rows } = parseTabSeparated(tsvData)\r\n\r\n      return {\r\n        success: true,\r\n        message: `Pasted ${rows.length} rows from clipboard`,\r\n        processedRows: rows.length,\r\n        rows,\r\n        headers\r\n      }\r\n    } catch (error) {\r\n      console.error('Paste failed:', error)\r\n      return {\r\n        success: false,\r\n        message: `Paste failed: ${error}`\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Checks if paste is possible\r\n   */\r\n  function canPaste(): boolean {\r\n    return !!clipboardData.value\r\n  }\r\n\r\n  /**\r\n   * Clears internal clipboard\r\n   */\r\n  function clearClipboard(): void {\r\n    clipboardData.value = ''\r\n  }\r\n\r\n  return {\r\n    copyToClipboard,\r\n    copySelectedCells,\r\n    pasteFromClipboard,\r\n    canPaste,\r\n    clearClipboard\r\n  }\r\n}\r\n","/**\r\n * Auto Row Height Composable\r\n *\r\n * Calculates row heights based on cell content and text wrapping\r\n */\r\n\r\nexport interface AutoRowHeightConfig {\r\n  minHeight: number\r\n  maxHeight: number\r\n  fontFamily: string\r\n  fontSize: number\r\n  enableWrapping: boolean\r\n  padding: number\r\n}\r\n\r\nexport interface RowHeightResult {\r\n  rowId: string\r\n  calculatedHeight: number\r\n  isSuccess: boolean\r\n}\r\n\r\nexport const defaultAutoRowHeightConfig: AutoRowHeightConfig = {\r\n  minHeight: 35, // ✅ RIEŠENIE #2B: 35px default row height (32 + 3, matches default in store)\r\n  maxHeight: 400, // Default fallback (will be overridden by 70% of container height)\r\n  fontFamily: 'system-ui, -apple-system, sans-serif',\r\n  fontSize: 14,  // MUST match CSS font-size in .grid-cell\r\n  enableWrapping: true,\r\n  padding: 16 // 8px left + 8px right (horizontal padding for width calculation)\r\n}\r\n\r\nexport function useAutoRowHeight(config: AutoRowHeightConfig = defaultAutoRowHeightConfig) {\r\n  // Create a canvas for text measurement (reused for all calculations)\r\n  let canvas: HTMLCanvasElement | null = null\r\n  let context: CanvasRenderingContext2D | null = null\r\n\r\n  /**\r\n   * Gets the canvas context for text measurement\r\n   */\r\n  function getContext(): CanvasRenderingContext2D {\r\n    if (!canvas) {\r\n      canvas = document.createElement('canvas')\r\n      context = canvas.getContext('2d')\r\n    }\r\n\r\n    if (!context) {\r\n      throw new Error('Failed to get canvas context')\r\n    }\r\n\r\n    // Set font for measurement\r\n    context.font = `${config.fontSize}px ${config.fontFamily}`\r\n\r\n    return context\r\n  }\r\n\r\n  /**\r\n   * Measures the height required for text in a given width\r\n   * IMPORTANT: Handles explicit newlines (\\n) from Shift+Enter\r\n   */\r\n  function measureTextHeight(text: string, width: number): number {\r\n    if (!text) return config.minHeight\r\n\r\n    const ctx = getContext()\r\n\r\n    if (!config.enableWrapping) {\r\n      // Single line - just return min height\r\n      return config.minHeight\r\n    }\r\n\r\n    // Split by newline characters FIRST to respect explicit line breaks (Shift+Enter)\r\n    const explicitLines = text.toString().split('\\n')\r\n\r\n    let lineHeight = config.fontSize * 1.5 // Line height is typically 1.5x font size\r\n    let totalLines = 0\r\n\r\n    // For each explicit line, calculate how many visual lines it needs (accounting for wrapping)\r\n    for (const line of explicitLines) {\r\n      if (!line || line.trim() === '') {\r\n        // Empty line still counts as one line\r\n        totalLines++\r\n        continue\r\n      }\r\n\r\n      // Split this line into words and calculate wrapping\r\n      const words = line.split(' ')\r\n      let currentLine = ''\r\n      let linesInThisSegment = 1\r\n\r\n      for (const word of words) {\r\n        const testLine = currentLine ? `${currentLine} ${word}` : word\r\n        const metrics = ctx.measureText(testLine)\r\n\r\n        if (metrics.width > width - config.padding) {\r\n          // Line is too long, wrap to next line\r\n          if (currentLine) {\r\n            linesInThisSegment++\r\n            currentLine = word\r\n          } else {\r\n            // Single word is too long, force it on one line\r\n            currentLine = word\r\n          }\r\n        } else {\r\n          currentLine = testLine\r\n        }\r\n      }\r\n\r\n      totalLines += linesInThisSegment\r\n    }\r\n\r\n    // Calculate total height\r\n    // Add vertical padding (10px from CSS: 5px top + 5px bottom = 10px total)\r\n    const verticalPadding = 10  // Must match CSS padding in .grid-cell (5px + 5px)\r\n    const totalHeight = totalLines * lineHeight + verticalPadding\r\n\r\n    // Apply min/max constraints\r\n    return Math.max(config.minHeight, Math.min(config.maxHeight, Math.ceil(totalHeight)))\r\n  }\r\n\r\n  /**\r\n   * Calculates the height for a single row based on all cell contents\r\n   */\r\n  function calculateRowHeight(\r\n    row: Record<string, any>,\r\n    columns: Array<{ name: string; width: number; specialType?: string }>\r\n  ): RowHeightResult {\r\n    try {\r\n      let maxHeight = config.minHeight\r\n\r\n      // Measure each cell in the row\r\n      for (const column of columns) {\r\n        // Skip special columns EXCEPT ValidationAlerts\r\n        // ValidationAlerts should be measured because it contains important validation messages\r\n        // that need proper row height calculation for wrapping\r\n        if (column.specialType && column.specialType !== 'ValidationAlerts') {\r\n          continue\r\n        }\r\n\r\n        // Access cell value from cells array structure\r\n        let cellValue = null\r\n        if (row.cells && Array.isArray(row.cells)) {\r\n          // GridRow structure with cells array\r\n          const cell = row.cells.find((c: any) => c.columnName === column.name)\r\n          cellValue = cell?.value\r\n        } else {\r\n          // Fallback to direct property access for backwards compatibility\r\n          cellValue = row[column.name]\r\n        }\r\n\r\n        if (cellValue == null) continue\r\n\r\n        const textValue = String(cellValue)\r\n        const cellHeight = measureTextHeight(textValue, column.width)\r\n\r\n        maxHeight = Math.max(maxHeight, cellHeight)\r\n      }\r\n\r\n      return {\r\n        rowId: row.__rowId || row.rowId,\r\n        calculatedHeight: maxHeight,\r\n        isSuccess: true\r\n      }\r\n    } catch (error) {\r\n      console.error('Row height calculation failed:', error)\r\n      return {\r\n        rowId: row.__rowId || row.rowId,\r\n        calculatedHeight: config.minHeight,\r\n        isSuccess: false\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Calculates heights for multiple rows (batch operation)\r\n   */\r\n  function calculateRowHeights(\r\n    rows: Record<string, any>[],\r\n    columns: Array<{ name: string; width: number; specialType?: string }>\r\n  ): RowHeightResult[] {\r\n    return rows.map(row => calculateRowHeight(row, columns))\r\n  }\r\n\r\n  /**\r\n   * Calculates heights for all rows and updates them in place\r\n   * ✅ FIX: Async with batching to prevent UI freeze\r\n   */\r\n  async function applyAutoRowHeight(\r\n    rows: Array<{ rowId: string; height: number; [key: string]: any }>,\r\n    columns: Array<{ name: string; width: number; specialType?: string }>\r\n  ): Promise<{ totalRowsUpdated: number; averageHeight: number }> {\r\n    let totalHeight = 0\r\n    let updatedCount = 0\r\n\r\n    // ✅ FIX: Batch processing with UI yielding\r\n    const BATCH_SIZE = 50  // Process 50 rows at a time\r\n    const totalBatches = Math.ceil(rows.length / BATCH_SIZE)\r\n\r\n    for (let batchIndex = 0; batchIndex < totalBatches; batchIndex++) {\r\n      const batchStart = batchIndex * BATCH_SIZE\r\n      const batchEnd = Math.min(batchStart + BATCH_SIZE, rows.length)\r\n      const batch = rows.slice(batchStart, batchEnd)\r\n\r\n      console.log(`[AutoRowHeight] Processing batch ${batchIndex + 1}/${totalBatches} (rows ${batchStart}-${batchEnd - 1})`)\r\n\r\n      for (const row of batch) {\r\n        const result = calculateRowHeight(row, columns)\r\n\r\n        if (result.isSuccess) {\r\n          row.height = result.calculatedHeight\r\n          totalHeight += result.calculatedHeight\r\n          updatedCount++\r\n        }\r\n      }\r\n\r\n      // ✅ KĽÚČ: Yield UI po každom batchi\r\n      await new Promise(resolve => setTimeout(resolve, 0))\r\n    }\r\n\r\n    return {\r\n      totalRowsUpdated: updatedCount,\r\n      averageHeight: updatedCount > 0 ? totalHeight / updatedCount : config.minHeight\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Recalculates heights for specific rows (e.g., after editing)\r\n   */\r\n  function recalculateRows(\r\n    rows: Array<{ rowId: string; height: number; [key: string]: any }>,\r\n    rowIds: string[],\r\n    columns: Array<{ name: string; width: number; specialType?: string }>\r\n  ): number {\r\n    let updatedCount = 0\r\n\r\n    for (const row of rows) {\r\n      if (rowIds.includes(row.rowId)) {\r\n        const result = calculateRowHeight(row, columns)\r\n\r\n        if (result.isSuccess) {\r\n          row.height = result.calculatedHeight\r\n          updatedCount++\r\n        }\r\n      }\r\n    }\r\n\r\n    return updatedCount\r\n  }\r\n\r\n  /**\r\n   * Updates the maxHeight config value dynamically\r\n   * Used when container height changes\r\n   */\r\n  function updateMaxHeight(newMaxHeight: number) {\r\n    config.maxHeight = newMaxHeight\r\n    console.log(`[useAutoRowHeight] maxHeight updated to: ${newMaxHeight}px`)\r\n  }\r\n\r\n  return {\r\n    calculateRowHeight,\r\n    calculateRowHeights,\r\n    applyAutoRowHeight,\r\n    recalculateRows,\r\n    measureTextHeight,\r\n    updateMaxHeight  // NEW: Allow dynamic maxHeight updates\r\n  }\r\n}\r\n","/**\r\n * Keyboard Shortcuts Composable\r\n *\r\n * Provides keyboard shortcut registration and handling with context support\r\n */\r\n\r\nimport { onMounted, onUnmounted } from 'vue'\r\n\r\nexport enum ShortcutContext {\r\n  Normal = 'normal',\r\n  Editing = 'editing',\r\n  Selection = 'selection',\r\n  Any = 'any'\r\n}\r\n\r\nexport interface KeyCombination {\r\n  key: string\r\n  ctrl?: boolean\r\n  shift?: boolean\r\n  alt?: boolean\r\n  meta?: boolean\r\n}\r\n\r\nexport interface ShortcutDefinition {\r\n  name: string\r\n  key: KeyCombination\r\n  handler: (event: KeyboardEvent) => void | Promise<void>\r\n  context?: ShortcutContext\r\n  enabled?: boolean\r\n  priority?: number\r\n  description?: string\r\n}\r\n\r\nexport interface ShortcutOptions {\r\n  enabled?: boolean\r\n  context?: ShortcutContext\r\n}\r\n\r\nexport function useShortcuts(options: ShortcutOptions = {}) {\r\n  const shortcuts = new Map<string, ShortcutDefinition>()\r\n  const currentContext = options.context || ShortcutContext.Normal\r\n\r\n  /**\r\n   * Converts KeyCombination to string key for map\r\n   */\r\n  function keyCombinationToString(key: KeyCombination): string {\r\n    const parts: string[] = []\r\n    if (key.ctrl) parts.push('Ctrl')\r\n    if (key.shift) parts.push('Shift')\r\n    if (key.alt) parts.push('Alt')\r\n    if (key.meta) parts.push('Meta')\r\n    parts.push(key.key.toUpperCase())\r\n    return parts.join('+')\r\n  }\r\n\r\n  /**\r\n   * Checks if keyboard event matches key combination\r\n   */\r\n  function matchesKeyCombination(event: KeyboardEvent, key: KeyCombination): boolean {\r\n    return (\r\n      event.key.toUpperCase() === key.key.toUpperCase() &&\r\n      !!event.ctrlKey === !!key.ctrl &&\r\n      !!event.shiftKey === !!key.shift &&\r\n      !!event.altKey === !!key.alt &&\r\n      !!event.metaKey === !!key.meta\r\n    )\r\n  }\r\n\r\n  /**\r\n   * Checks if shortcut should execute in current context\r\n   */\r\n  function isContextMatch(shortcutContext: ShortcutContext, current: ShortcutContext): boolean {\r\n    return shortcutContext === ShortcutContext.Any ||\r\n           shortcutContext === current ||\r\n           current === ShortcutContext.Any\r\n  }\r\n\r\n  /**\r\n   * Handles keyboard events\r\n   */\r\n  async function handleKeyDown(event: KeyboardEvent): Promise<void> {\r\n    if (!options.enabled && options.enabled !== undefined) {\r\n      return\r\n    }\r\n\r\n    // Find matching shortcuts\r\n    const matchingShortcuts = Array.from(shortcuts.values()).filter(shortcut => {\r\n      return (\r\n        shortcut.enabled !== false &&\r\n        matchesKeyCombination(event, shortcut.key) &&\r\n        isContextMatch(shortcut.context || ShortcutContext.Normal, currentContext)\r\n      )\r\n    })\r\n\r\n    if (matchingShortcuts.length === 0) {\r\n      return\r\n    }\r\n\r\n    // Sort by priority (higher priority first)\r\n    matchingShortcuts.sort((a, b) => (b.priority || 0) - (a.priority || 0))\r\n\r\n    // Execute highest priority shortcut\r\n    const shortcut = matchingShortcuts[0]\r\n    event.preventDefault()\r\n    event.stopPropagation()\r\n\r\n    try {\r\n      await shortcut.handler(event)\r\n    } catch (error) {\r\n      console.error(`Shortcut execution failed for ${shortcut.name}:`, error)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Registers a keyboard shortcut\r\n   */\r\n  function registerShortcut(definition: ShortcutDefinition): void {\r\n    const keyString = keyCombinationToString(definition.key)\r\n\r\n    if (shortcuts.has(keyString)) {\r\n      console.warn(`Shortcut ${keyString} is already registered. Overwriting.`)\r\n    }\r\n\r\n    shortcuts.set(keyString, {\r\n      ...definition,\r\n      enabled: definition.enabled !== false,\r\n      context: definition.context || ShortcutContext.Normal,\r\n      priority: definition.priority || 0\r\n    })\r\n  }\r\n\r\n  /**\r\n   * Registers multiple shortcuts\r\n   */\r\n  function registerShortcuts(definitions: ShortcutDefinition[]): void {\r\n    definitions.forEach(registerShortcut)\r\n  }\r\n\r\n  /**\r\n   * Unregisters a shortcut by key combination\r\n   */\r\n  function unregisterShortcut(key: KeyCombination): boolean {\r\n    const keyString = keyCombinationToString(key)\r\n    return shortcuts.delete(keyString)\r\n  }\r\n\r\n  /**\r\n   * Unregisters a shortcut by name\r\n   */\r\n  function unregisterShortcutByName(name: string): boolean {\r\n    const entry = Array.from(shortcuts.entries()).find(([_, def]) => def.name === name)\r\n    if (entry) {\r\n      shortcuts.delete(entry[0])\r\n      return true\r\n    }\r\n    return false\r\n  }\r\n\r\n  /**\r\n   * Enables or disables a shortcut\r\n   */\r\n  function setShortcutEnabled(name: string, enabled: boolean): void {\r\n    const entry = Array.from(shortcuts.entries()).find(([_, def]) => def.name === name)\r\n    if (entry) {\r\n      entry[1].enabled = enabled\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Gets all registered shortcuts\r\n   */\r\n  function getShortcuts(): ShortcutDefinition[] {\r\n    return Array.from(shortcuts.values())\r\n  }\r\n\r\n  /**\r\n   * Gets shortcuts for specific context\r\n   */\r\n  function getShortcutsByContext(context: ShortcutContext): ShortcutDefinition[] {\r\n    return Array.from(shortcuts.values()).filter(\r\n      s => s.context === context || s.context === ShortcutContext.Any\r\n    )\r\n  }\r\n\r\n  /**\r\n   * Clears all shortcuts\r\n   */\r\n  function clearShortcuts(): void {\r\n    shortcuts.clear()\r\n  }\r\n\r\n  // Setup keyboard event listener\r\n  onMounted(() => {\r\n    if (options.enabled !== false) {\r\n      document.addEventListener('keydown', handleKeyDown as unknown as EventListener)\r\n    }\r\n  })\r\n\r\n  // Cleanup\r\n  onUnmounted(() => {\r\n    document.removeEventListener('keydown', handleKeyDown as unknown as EventListener)\r\n  })\r\n\r\n  return {\r\n    registerShortcut,\r\n    registerShortcuts,\r\n    unregisterShortcut,\r\n    unregisterShortcutByName,\r\n    setShortcutEnabled,\r\n    getShortcuts,\r\n    getShortcutsByContext,\r\n    clearShortcuts,\r\n    handleKeyDown\r\n  }\r\n}\r\n\r\n/**\r\n * Helper functions to create common key combinations\r\n */\r\nexport const Keys = {\r\n  ctrl: (key: string): KeyCombination => ({ key, ctrl: true }),\r\n  shift: (key: string): KeyCombination => ({ key, shift: true }),\r\n  alt: (key: string): KeyCombination => ({ key, alt: true }),\r\n  ctrlShift: (key: string): KeyCombination => ({ key, ctrl: true, shift: true }),\r\n  ctrlAlt: (key: string): KeyCombination => ({ key, ctrl: true, alt: true }),\r\n  single: (key: string): KeyCombination => ({ key })\r\n}\r\n\r\n/**\r\n * Pre-defined shortcut definitions for common operations\r\n */\r\nexport function createDefaultShortcuts(handlers: {\r\n  onCopy?: () => void | Promise<void>\r\n  onPaste?: () => void | Promise<void>\r\n  onCut?: () => void | Promise<void>\r\n  onDelete?: () => void | Promise<void>\r\n  onSelectAll?: () => void | Promise<void>\r\n  onFind?: () => void | Promise<void>\r\n  onUndo?: () => void | Promise<void>\r\n  onRedo?: () => void | Promise<void>\r\n  onEscape?: () => void | Promise<void>\r\n  onEnter?: () => void | Promise<void>\r\n  onTab?: () => void | Promise<void>\r\n  onArrowUp?: () => void | Promise<void>\r\n  onArrowDown?: () => void | Promise<void>\r\n  onArrowLeft?: () => void | Promise<void>\r\n  onArrowRight?: () => void | Promise<void>\r\n}): ShortcutDefinition[] {\r\n  const shortcuts: ShortcutDefinition[] = []\r\n\r\n  if (handlers.onCopy) {\r\n    shortcuts.push({\r\n      name: 'Copy',\r\n      key: Keys.ctrl('c'),\r\n      handler: handlers.onCopy,\r\n      description: 'Copy selected cells',\r\n      priority: 100\r\n    })\r\n  }\r\n\r\n  if (handlers.onPaste) {\r\n    shortcuts.push({\r\n      name: 'Paste',\r\n      key: Keys.ctrl('v'),\r\n      handler: handlers.onPaste,\r\n      description: 'Paste from clipboard',\r\n      priority: 100\r\n    })\r\n  }\r\n\r\n  if (handlers.onCut) {\r\n    shortcuts.push({\r\n      name: 'Cut',\r\n      key: Keys.ctrl('x'),\r\n      handler: handlers.onCut,\r\n      description: 'Cut selected cells',\r\n      priority: 100\r\n    })\r\n  }\r\n\r\n  if (handlers.onDelete) {\r\n    shortcuts.push({\r\n      name: 'Delete',\r\n      key: Keys.single('Delete'),\r\n      handler: handlers.onDelete,\r\n      description: 'Delete selected cells',\r\n      priority: 100\r\n    })\r\n  }\r\n\r\n  if (handlers.onSelectAll) {\r\n    shortcuts.push({\r\n      name: 'SelectAll',\r\n      key: Keys.ctrl('a'),\r\n      handler: handlers.onSelectAll,\r\n      description: 'Select all cells',\r\n      priority: 100\r\n    })\r\n  }\r\n\r\n  if (handlers.onFind) {\r\n    shortcuts.push({\r\n      name: 'Find',\r\n      key: Keys.ctrl('f'),\r\n      handler: handlers.onFind,\r\n      description: 'Open find dialog',\r\n      priority: 100\r\n    })\r\n  }\r\n\r\n  if (handlers.onUndo) {\r\n    shortcuts.push({\r\n      name: 'Undo',\r\n      key: Keys.ctrl('z'),\r\n      handler: handlers.onUndo,\r\n      description: 'Undo last action',\r\n      priority: 100\r\n    })\r\n  }\r\n\r\n  if (handlers.onRedo) {\r\n    shortcuts.push({\r\n      name: 'Redo',\r\n      key: Keys.ctrlShift('z'),\r\n      handler: handlers.onRedo,\r\n      description: 'Redo last undone action',\r\n      priority: 100\r\n    })\r\n  }\r\n\r\n  if (handlers.onEscape) {\r\n    shortcuts.push({\r\n      name: 'Escape',\r\n      key: Keys.single('Escape'),\r\n      handler: handlers.onEscape,\r\n      description: 'Cancel current operation',\r\n      priority: 100\r\n    })\r\n  }\r\n\r\n  if (handlers.onEnter) {\r\n    shortcuts.push({\r\n      name: 'Enter',\r\n      key: Keys.single('Enter'),\r\n      handler: handlers.onEnter,\r\n      description: 'Confirm edit and move to next row',\r\n      context: ShortcutContext.Editing,\r\n      priority: 100\r\n    })\r\n  }\r\n\r\n  if (handlers.onTab) {\r\n    shortcuts.push({\r\n      name: 'Tab',\r\n      key: Keys.single('Tab'),\r\n      handler: handlers.onTab,\r\n      description: 'Move to next cell',\r\n      priority: 100\r\n    })\r\n  }\r\n\r\n  if (handlers.onArrowUp) {\r\n    shortcuts.push({\r\n      name: 'ArrowUp',\r\n      key: Keys.single('ArrowUp'),\r\n      handler: handlers.onArrowUp,\r\n      description: 'Move selection up',\r\n      priority: 50\r\n    })\r\n  }\r\n\r\n  if (handlers.onArrowDown) {\r\n    shortcuts.push({\r\n      name: 'ArrowDown',\r\n      key: Keys.single('ArrowDown'),\r\n      handler: handlers.onArrowDown,\r\n      description: 'Move selection down',\r\n      priority: 50\r\n    })\r\n  }\r\n\r\n  if (handlers.onArrowLeft) {\r\n    shortcuts.push({\r\n      name: 'ArrowLeft',\r\n      key: Keys.single('ArrowLeft'),\r\n      handler: handlers.onArrowLeft,\r\n      description: 'Move selection left',\r\n      priority: 50\r\n    })\r\n  }\r\n\r\n  if (handlers.onArrowRight) {\r\n    shortcuts.push({\r\n      name: 'ArrowRight',\r\n      key: Keys.single('ArrowRight'),\r\n      handler: handlers.onArrowRight,\r\n      description: 'Move selection right',\r\n      priority: 50\r\n    })\r\n  }\r\n\r\n  return shortcuts\r\n}\r\n","/**\r\n * Asynchronous Logger with Queue\r\n *\r\n * FEATURES:\r\n * - Non-blocking: logs are queued and written asynchronously\r\n * - FIFO queue: oldest logs are written first\r\n * - Batch processing: multiple logs written in one operation\r\n * - Error tracking: captures unhandled errors automatically\r\n */\r\n\r\nimport { ref } from 'vue'\r\n\r\nexport type LogLevel = 'DEBUG' | 'INFO' | 'WARN' | 'ERROR' | 'FATAL'\r\n\r\nexport interface LogEntry {\r\n  timestamp: string\r\n  level: LogLevel\r\n  category: string\r\n  message: string\r\n  data?: any\r\n}\r\n\r\n// Global log queue (FIFO - First In, First Out)\r\nconst logQueue = ref<LogEntry[]>([])\r\nconst isProcessing = ref(false)\r\nconst BATCH_SIZE = 50 // Process 50 logs at once\r\nconst PROCESSING_INTERVAL = 100 // Process every 100ms\r\n\r\nlet processingTimer: number | null = null\r\n\r\n/**\r\n * Formats timestamp to ISO string with milliseconds\r\n */\r\nfunction getTimestamp(): string {\r\n  const now = new Date()\r\n  return now.toISOString()\r\n}\r\n\r\n/**\r\n * Adds log entry to queue (non-blocking)\r\n */\r\nfunction enqueueLog(level: LogLevel, category: string, message: string, data?: any) {\r\n  const entry: LogEntry = {\r\n    timestamp: getTimestamp(),\r\n    level,\r\n    category,\r\n    message,\r\n    data: data !== undefined ? JSON.parse(JSON.stringify(data)) : undefined\r\n  }\r\n\r\n  logQueue.value.push(entry)\r\n\r\n  // Start processing if not already running\r\n  if (!isProcessing.value) {\r\n    startProcessing()\r\n  }\r\n}\r\n\r\n/**\r\n * Starts asynchronous log processing\r\n */\r\nfunction startProcessing() {\r\n  if (processingTimer !== null) return\r\n\r\n  isProcessing.value = true\r\n\r\n  processingTimer = window.setInterval(() => {\r\n    processLogBatch()\r\n  }, PROCESSING_INTERVAL)\r\n}\r\n\r\n/**\r\n * Stops log processing (when queue is empty)\r\n */\r\nfunction stopProcessing() {\r\n  if (processingTimer !== null) {\r\n    window.clearInterval(processingTimer)\r\n    processingTimer = null\r\n  }\r\n  isProcessing.value = false\r\n}\r\n\r\n/**\r\n * Processes a batch of logs from the queue\r\n * Uses FIFO - oldest logs are processed first\r\n */\r\nfunction processLogBatch() {\r\n  if (logQueue.value.length === 0) {\r\n    stopProcessing()\r\n    return\r\n  }\r\n\r\n  // Take oldest logs (FIFO)\r\n  const batch = logQueue.value.splice(0, BATCH_SIZE)\r\n\r\n  // Write batch to console\r\n  for (const entry of batch) {\r\n    writeLogToConsole(entry)\r\n  }\r\n}\r\n\r\n/**\r\n * Writes a single log entry to console\r\n */\r\nfunction writeLogToConsole(entry: LogEntry) {\r\n  const prefix = `[${entry.timestamp}] [${entry.level}] [${entry.category}]`\r\n  const message = `${prefix} ${entry.message}`\r\n\r\n  switch (entry.level) {\r\n    case 'DEBUG':\r\n      if (entry.data !== undefined) {\r\n        console.debug(message, entry.data)\r\n      } else {\r\n        console.debug(message)\r\n      }\r\n      break\r\n    case 'INFO':\r\n      if (entry.data !== undefined) {\r\n        console.log(message, entry.data)\r\n      } else {\r\n        console.log(message)\r\n      }\r\n      break\r\n    case 'WARN':\r\n      if (entry.data !== undefined) {\r\n        console.warn(message, entry.data)\r\n      } else {\r\n        console.warn(message)\r\n      }\r\n      break\r\n    case 'ERROR':\r\n    case 'FATAL':\r\n      if (entry.data !== undefined) {\r\n        console.error(message, entry.data)\r\n      } else {\r\n        console.error(message)\r\n      }\r\n      break\r\n  }\r\n}\r\n\r\n/**\r\n * Public Logger Interface\r\n */\r\nexport function useLogger(category: string = 'App') {\r\n  return {\r\n    debug(message: string, data?: any) {\r\n      enqueueLog('DEBUG', category, message, data)\r\n    },\r\n\r\n    info(message: string, data?: any) {\r\n      enqueueLog('INFO', category, message, data)\r\n    },\r\n\r\n    warn(message: string, data?: any) {\r\n      enqueueLog('WARN', category, message, data)\r\n    },\r\n\r\n    error(message: string, data?: any) {\r\n      enqueueLog('ERROR', category, message, data)\r\n    },\r\n\r\n    fatal(message: string, data?: any) {\r\n      enqueueLog('FATAL', category, message, data)\r\n    },\r\n\r\n    /**\r\n     * Flushes all pending logs immediately (synchronously)\r\n     */\r\n    flush() {\r\n      while (logQueue.value.length > 0) {\r\n        const entry = logQueue.value.shift()!\r\n        writeLogToConsole(entry)\r\n      }\r\n      stopProcessing()\r\n    },\r\n\r\n    /**\r\n     * Gets current queue size\r\n     */\r\n    getQueueSize(): number {\r\n      return logQueue.value.length\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * Global Error Handlers\r\n * Captures unhandled errors and promise rejections\r\n */\r\nexport function setupGlobalErrorHandlers() {\r\n  const logger = useLogger('GlobalError')\r\n\r\n  // Capture unhandled JavaScript errors\r\n  window.addEventListener('error', (event: ErrorEvent) => {\r\n    logger.error('Unhandled Error', {\r\n      message: event.message,\r\n      filename: event.filename,\r\n      lineno: event.lineno,\r\n      colno: event.colno,\r\n      error: event.error?.stack || event.error?.toString() || 'No stack trace'\r\n    })\r\n  })\r\n\r\n  // Capture unhandled promise rejections\r\n  window.addEventListener('unhandledrejection', (event: PromiseRejectionEvent) => {\r\n    logger.error('Unhandled Promise Rejection', {\r\n      reason: event.reason?.toString() || 'Unknown reason',\r\n      stack: event.reason?.stack || 'No stack trace'\r\n    })\r\n  })\r\n\r\n  logger.info('Global error handlers initialized')\r\n}\r\n\r\n/**\r\n * Vue Error Handler\r\n * Install this in main.ts: app.config.errorHandler = vueErrorHandler\r\n */\r\nexport function vueErrorHandler(err: any, instance: any, info: string) {\r\n  const logger = useLogger('VueError')\r\n\r\n  logger.error('Vue Error', {\r\n    error: err?.toString() || 'Unknown error',\r\n    stack: err?.stack || 'No stack trace',\r\n    component: instance?.$options?.name || instance?.$options?.__name || 'Unknown component',\r\n    info\r\n  })\r\n}\r\n","/**\r\n * Grid API Service\r\n *\r\n * Supports both HTTP mode (development) and WebView2 Host Objects mode (production)\r\n */\r\n\r\n// ✅ RIEŠENIE #6C: ListBox ref type for API integration\r\nexport interface ListBoxRef {\r\n  clearSelection: () => void\r\n  getSelectedValues: () => string[]\r\n  selectValue: (value: string) => void\r\n}\r\n\r\n// Extend Window interface for WebView2 gridApi\r\ndeclare global {\r\n  interface Window {\r\n    gridApi?: {\r\n      GetData(): Promise<string>\r\n      ImportData(jsonData: string): Promise<string>\r\n      ExportData(options: string): Promise<string>\r\n      GetConfig(): Promise<string>\r\n      SetValidationRules(jsonRules: string): Promise<string>\r\n      GetValidationRules(): Promise<string>\r\n      GetColumnNames(): Promise<string>\r\n      HealthCheck(): Promise<string>\r\n      // ✅ RIEŠENIE #6C: ListBox API methods\r\n      ClearListBoxSelection(listBoxId: string): Promise<string>\r\n      GetListBoxSelection(listBoxId: string): Promise<string>\r\n      // ✅ RIEŠENIE #7: New API methods\r\n      GetListBoxConfig(listBoxId: string): Promise<string>\r\n      GetThemeConfig(): Promise<string>\r\n    }\r\n  }\r\n}\r\n\r\nconst BASE_URL = 'http://localhost:5000/api/grid'\r\n\r\nexport interface GridRow {\r\n  [key: string]: any\r\n  Checkbox?: boolean\r\n}\r\n\r\nexport interface ValidationRule {\r\n  columnName: string\r\n  ruleType: string\r\n  parameters: Record<string, any>\r\n  errorMessage: string\r\n}\r\n\r\nexport interface GridConfig {\r\n  pageSize: number\r\n  enableSort: boolean\r\n  enableFilter: boolean\r\n  enableSearch: boolean\r\n  enableValidation: boolean\r\n  showRowNumber: boolean\r\n  showCheckbox: boolean\r\n  showValidationAlerts: boolean\r\n  minRowHeight: number\r\n  maxRowHeight: number\r\n}\r\n\r\nexport interface ApiResponse<T> {\r\n  success: boolean\r\n  data?: T\r\n  error?: string\r\n  message?: string\r\n  rowCount?: number\r\n}\r\n\r\nclass GridApiService {\r\n  private isHostMode = false\r\n  // ✅ RIEŠENIE #6C: Registry for listbox references\r\n  private listBoxRegistry = new Map<string, ListBoxRef>()\r\n\r\n  constructor() {\r\n    // Detect if running in WebView2 with Host Objects\r\n    this.isHostMode = this.detectHostMode()\r\n    console.log(`Grid API Mode: ${this.isHostMode ? 'Host Objects' : 'HTTP'}`)\r\n  }\r\n\r\n  /**\r\n   * Detect if running in WebView2 with gridApi bridge\r\n   */\r\n  private detectHostMode(): boolean {\r\n    return !!window.gridApi\r\n  }\r\n\r\n  /**\r\n   * Call gridApi method (WebView2 mode with postMessage bridge)\r\n   */\r\n  private async callHostApi<T>(method: string, ...args: string[]): Promise<ApiResponse<T>> {\r\n    try {\r\n      if (!window.gridApi) {\r\n        throw new Error('Grid API not available')\r\n      }\r\n\r\n      const hostApi = window.gridApi\r\n      const resultJson = await (hostApi as any)[method](...args)\r\n\r\n      // ✅ FIX: Support both string and object responses (after double JSON encoding fix in MainWindow.xaml.cs)\r\n      // Parse JSON response from C# - handle both string (old behavior) and object (new behavior after fix)\r\n      const result = typeof resultJson === 'string'\r\n        ? JSON.parse(resultJson)\r\n        : resultJson\r\n      return result as ApiResponse<T>\r\n    } catch (error) {\r\n      console.error('Grid API call failed:', error)\r\n      return {\r\n        success: false,\r\n        error: error instanceof Error ? error.message : 'Unknown error'\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * HTTP request (development mode)\r\n   */\r\n  private async request<T>(endpoint: string, options?: RequestInit): Promise<ApiResponse<T>> {\r\n    try {\r\n      const response = await fetch(`${BASE_URL}${endpoint}`, {\r\n        ...options,\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          ...options?.headers\r\n        },\r\n        credentials: 'include'\r\n      })\r\n\r\n      if (!response.ok) {\r\n        const errorData = await response.json().catch(() => ({ error: response.statusText }))\r\n        return {\r\n          success: false,\r\n          error: errorData.error || `HTTP ${response.status}: ${response.statusText}`\r\n        }\r\n      }\r\n\r\n      const data = await response.json()\r\n      return data\r\n    } catch (error) {\r\n      console.error('API request failed:', error)\r\n      return {\r\n        success: false,\r\n        error: error instanceof Error ? error.message : 'Unknown error'\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Get grid data from backend\r\n   */\r\n  async getData(): Promise<ApiResponse<GridRow[]>> {\r\n    if (this.isHostMode) {\r\n      return this.callHostApi<GridRow[]>('GetData')\r\n    } else {\r\n      return this.request<GridRow[]>('/data')\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Import data to backend (replaces existing data)\r\n   */\r\n  async importData(data: GridRow[]): Promise<ApiResponse<void>> {\r\n    if (this.isHostMode) {\r\n      const jsonData = JSON.stringify({ data })\r\n      return this.callHostApi<void>('ImportData', jsonData)\r\n    } else {\r\n      return this.request<void>('/import', {\r\n        method: 'POST',\r\n        body: JSON.stringify({ data })\r\n      })\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Export data from backend\r\n   */\r\n  async exportData(options?: {\r\n    onlyFiltered?: boolean\r\n    filteredRowIds?: string[]\r\n    columnNames?: string[]\r\n  }): Promise<ApiResponse<GridRow[]>> {\r\n    if (this.isHostMode) {\r\n      const optionsJson = JSON.stringify({\r\n        OnlyFiltered: options?.onlyFiltered ?? false,\r\n        FilteredRowIds: options?.filteredRowIds ?? null,\r\n        ColumnNames: options?.columnNames ?? null\r\n      })\r\n      return this.callHostApi<GridRow[]>('ExportData', optionsJson)\r\n    } else {\r\n      const params = new URLSearchParams()\r\n      if (options?.onlyFiltered) params.append('onlyFiltered', 'true')\r\n      if (options?.filteredRowIds) params.append('filteredRowIds', JSON.stringify(options.filteredRowIds))\r\n      if (options?.columnNames) params.append('columnNames', JSON.stringify(options.columnNames))\r\n\r\n      const query = params.toString() ? `?${params.toString()}` : ''\r\n      return this.request<GridRow[]>(`/export${query}`)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Get grid configuration\r\n   */\r\n  async getConfig(): Promise<ApiResponse<GridConfig>> {\r\n    if (this.isHostMode) {\r\n      return this.callHostApi<GridConfig>('GetConfig')\r\n    } else {\r\n      return this.request<GridConfig>('/config')\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Set validation rules\r\n   */\r\n  async setValidationRules(rules: ValidationRule[]): Promise<ApiResponse<void>> {\r\n    if (this.isHostMode) {\r\n      const jsonRules = JSON.stringify({ rules })\r\n      return this.callHostApi<void>('SetValidationRules', jsonRules)\r\n    } else {\r\n      return this.request<void>('/validation-rules', {\r\n        method: 'POST',\r\n        body: JSON.stringify({ rules })\r\n      })\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Get validation rules\r\n   */\r\n  async getValidationRules(): Promise<ApiResponse<ValidationRule[]>> {\r\n    if (this.isHostMode) {\r\n      return this.callHostApi<ValidationRule[]>('GetValidationRules')\r\n    } else {\r\n      return this.request<ValidationRule[]>('/validation-rules')\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Get all column names (data columns + checkbox special column)\r\n   */\r\n  async getColumnNames(): Promise<ApiResponse<string[]>> {\r\n    if (this.isHostMode) {\r\n      const result = await this.callHostApi<{ columnNames: string[] }>('GetColumnNames')\r\n      return {\r\n        success: result.success,\r\n        data: result.data?.columnNames,\r\n        error: result.error\r\n      }\r\n    } else {\r\n      return this.request<string[]>('/columns')\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Get column definitions\r\n   */\r\n  async getColumns(): Promise<ApiResponse<any[]>> {\r\n    if (this.isHostMode) {\r\n      return this.callHostApi<any[]>('GetColumns')\r\n    } else {\r\n      return this.request<any[]>('/columns/definitions')\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Health check\r\n   */\r\n  async healthCheck(): Promise<boolean> {\r\n    try {\r\n      if (this.isHostMode) {\r\n        const result = await this.callHostApi<any>('HealthCheck')\r\n        return result.success\r\n      } else {\r\n        const response = await fetch('http://localhost:5000/health')\r\n        return response.ok\r\n      }\r\n    } catch {\r\n      return false\r\n    }\r\n  }\r\n\r\n  // ✅ RIEŠENIE #6C: ListBox API methods\r\n\r\n  /**\r\n   * Register a listbox component for API access\r\n   * @param listBoxId Unique identifier for the listbox\r\n   * @param listBoxRef Reference to the listbox component instance\r\n   */\r\n  registerListBox(listBoxId: string, listBoxRef: ListBoxRef): void {\r\n    this.listBoxRegistry.set(listBoxId, listBoxRef)\r\n    console.log(`[GridAPI] ListBox registered: ${listBoxId}`)\r\n  }\r\n\r\n  /**\r\n   * Unregister a listbox component\r\n   * @param listBoxId Unique identifier for the listbox\r\n   */\r\n  unregisterListBox(listBoxId: string): void {\r\n    this.listBoxRegistry.delete(listBoxId)\r\n    console.log(`[GridAPI] ListBox unregistered: ${listBoxId}`)\r\n  }\r\n\r\n  /**\r\n   * Clear listbox selection (can be called from desktop app)\r\n   * @param listBoxId Unique identifier for the listbox\r\n   */\r\n  clearListBoxSelection(listBoxId: string): ApiResponse<void> {\r\n    const listBoxRef = this.listBoxRegistry.get(listBoxId)\r\n    if (listBoxRef) {\r\n      listBoxRef.clearSelection()\r\n      console.log(`[GridAPI] ListBox selection cleared: ${listBoxId}`)\r\n      return {\r\n        success: true,\r\n        message: `ListBox '${listBoxId}' selection cleared`\r\n      }\r\n    } else {\r\n      console.warn(`[GridAPI] ListBox not found: ${listBoxId}`)\r\n      return {\r\n        success: false,\r\n        error: `ListBox not found: ${listBoxId}`\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Get listbox current selection (can be called from desktop app)\r\n   * @param listBoxId Unique identifier for the listbox\r\n   */\r\n  getListBoxSelection(listBoxId: string): ApiResponse<string[]> {\r\n    const listBoxRef = this.listBoxRegistry.get(listBoxId)\r\n    if (listBoxRef) {\r\n      const selectedValues = listBoxRef.getSelectedValues()\r\n      console.log(`[GridAPI] ListBox selection retrieved: ${listBoxId}`, selectedValues)\r\n      return {\r\n        success: true,\r\n        data: selectedValues\r\n      }\r\n    } else {\r\n      console.warn(`[GridAPI] ListBox not found: ${listBoxId}`)\r\n      return {\r\n        success: false,\r\n        error: `ListBox not found: ${listBoxId}`\r\n      }\r\n    }\r\n  }\r\n\r\n  // ✅ RIEŠENIE #7: New API methods\r\n\r\n  /**\r\n   * Get listbox configuration from backend (items, settings)\r\n   * @param listBoxId Unique identifier for the listbox\r\n   */\r\n  async getListBoxConfig(listBoxId: string): Promise<ApiResponse<any>> {\r\n    if (this.isHostMode) {\r\n      return this.callHostApi<any>('GetListBoxConfig', listBoxId)\r\n    } else {\r\n      return this.request<any>(`/listbox/${listBoxId}/config`)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Get theme configuration from backend (colors, styles)\r\n   */\r\n  async getThemeConfig(): Promise<ApiResponse<any>> {\r\n    if (this.isHostMode) {\r\n      return this.callHostApi<any>('GetThemeConfig')\r\n    } else {\r\n      return this.request<any>('/theme/config')\r\n    }\r\n  }\r\n}\r\n\r\nexport const gridApi = new GridApiService()\r\n","import { computed, inject, provide, ref, type Ref } from 'vue'\r\nimport type {\r\n  DataGridTheme,\r\n  ListBoxTheme,\r\n  ThemeConfig,\r\n  ComprehensiveDataGridTheme,\r\n  ComprehensiveListBoxTheme\r\n} from '@/types/theme'\r\n\r\n// ============================================================================\r\n// Default Theme: Light\r\n// ============================================================================\r\n\r\nexport const defaultDataGridTheme: DataGridTheme = {\r\n  cellColors: {\r\n    defaultBackground: '#ffffff',\r\n    defaultForeground: '#212529',\r\n    hoverBackground: '#f8f9fa',\r\n    hoverForeground: '#212529',\r\n    focusedBackground: '#e3f2fd',\r\n    focusedForeground: '#0d6efd',\r\n    disabledBackground: '#e9ecef',\r\n    disabledForeground: '#6c757d',\r\n    readOnlyBackground: '#f8f9fa',\r\n    readOnlyForeground: '#495057'\r\n  },\r\n  rowColors: {\r\n    evenRowBackground: '#ffffff',\r\n    oddRowBackground: '#f8f9fa',\r\n    hoverBackground: '#e3f2fd',\r\n    selectedBackground: '#0d6efd',\r\n    selectedForeground: '#ffffff',\r\n    selectedInactiveBackground: '#e9ecef',\r\n    selectedInactiveForeground: '#495057'\r\n  },\r\n  headerColors: {\r\n    background: '#f1f3f5',\r\n    foreground: '#212529',\r\n    hoverBackground: '#e9ecef',\r\n    pressedBackground: '#dee2e6',\r\n    sortIndicatorColor: '#0d6efd'\r\n  },\r\n  validationColors: {\r\n    errorBackground: '#ffebee',\r\n    errorForeground: '#c62828',\r\n    errorBorder: '#ef5350',\r\n    warningBackground: '#fff3e0',\r\n    warningForeground: '#e65100',\r\n    warningBorder: '#ff9800',\r\n    infoBackground: '#e3f2fd',\r\n    infoForeground: '#1565c0',\r\n    infoBorder: '#2196f3'\r\n  },\r\n  selectionColors: {\r\n    selectionBorder: '#0d6efd',\r\n    selectionFill: 'rgba(13, 110, 253, 0.1)',\r\n    multiSelectionBackground: '#bbdefb',\r\n    multiSelectionForeground: '#0d6efd'\r\n  },\r\n  borderColors: {\r\n    cellBorder: '#e0e0e0',\r\n    rowBorder: '#e0e0e0',\r\n    columnBorder: '#dee2e6',\r\n    gridBorder: '#ced4da',\r\n    focusedCellBorder: '#0d6efd'\r\n  },\r\n  specialColumnColors: {\r\n    rowNumberBackground: '#f5f5f5',\r\n    rowNumberForeground: '#666666',\r\n    checkboxBorder: '#ced4da',\r\n    checkboxBackground: '#ffffff',\r\n    checkboxForeground: '#212529',\r\n    deleteRowBackground: 'transparent',\r\n    deleteRowForeground: '#dc3545',\r\n    deleteRowHoverBackground: '#ffebee',\r\n    insertRowBackground: 'transparent',\r\n    insertRowForeground: '#28a745',\r\n    insertRowBorder: 'transparent',\r\n    insertRowHoverBackground: '#e8f5e9',\r\n    insertRowHoverForeground: '#1b5e20',\r\n    validationAlertsErrorBackground: '#ffebee',\r\n    validationAlertsErrorForeground: '#c62828'\r\n  },\r\n  uiControlColors: {\r\n    resizeGripColor: '#adb5bd',\r\n    menuBackground: '#ffffff',\r\n    menuForeground: '#212529',\r\n    menuHoverBackground: '#f8f9fa',\r\n    dialogBackground: '#ffffff',\r\n    dialogForeground: '#212529',\r\n    dialogBorder: '#dee2e6',\r\n    placeholderColor: '#6c757d',\r\n    searchPanelBackground: '#f8f9fa',\r\n    searchPanelForeground: '#212529',\r\n    searchPanelBorder: '#ced4da',\r\n    filterRowBackground: '#f8f9fa',\r\n    filterRowForeground: '#212529',\r\n    filterRowBorder: '#dee2e6',\r\n    paginationBackground: '#ffffff',\r\n    paginationForeground: '#212529',\r\n    paginationBorder: '#dee2e6',\r\n    paginationButtonHoverBackground: '#e9ecef'\r\n  }\r\n}\r\n\r\nexport const defaultListBoxTheme: ListBoxTheme = {\r\n  itemColors: {\r\n    defaultBackground: '#ffffff',\r\n    defaultForeground: '#212529',\r\n    hoverBackground: '#f8f9fa',\r\n    hoverForeground: '#212529',\r\n    selectedBackground: '#e3f2fd',\r\n    selectedForeground: '#0d6efd',\r\n    selectedHoverBackground: '#bbdefb',\r\n    selectedHoverForeground: '#0d6efd',\r\n    disabledBackground: '#e9ecef',\r\n    disabledForeground: '#6c757d'\r\n  },\r\n  containerColors: {\r\n    background: '#ffffff',\r\n    border: '#ced4da',\r\n    focusedBorder: '#0d6efd',\r\n    titleForeground: '#212529'\r\n  },\r\n  checkboxColors: {\r\n    border: '#ced4da',\r\n    background: '#ffffff',\r\n    checkedBackground: '#0d6efd',\r\n    checkedBorder: '#0d6efd',\r\n    hoverBorder: '#adb5bd'\r\n  },\r\n  scrollbarColors: {\r\n    trackBackground: '#f1f1f1',\r\n    thumbBackground: '#c1c1c1',\r\n    thumbHoverBackground: '#a8a8a8'\r\n  }\r\n}\r\n\r\n// ============================================================================\r\n// Dark Theme\r\n// ============================================================================\r\n\r\nexport const darkDataGridTheme: DataGridTheme = {\r\n  cellColors: {\r\n    defaultBackground: '#1e1e1e',\r\n    defaultForeground: '#e0e0e0',\r\n    hoverBackground: '#2d2d2d',\r\n    hoverForeground: '#e0e0e0',\r\n    focusedBackground: '#1e3a5f',\r\n    focusedForeground: '#64b5f6',\r\n    disabledBackground: '#2a2a2a',\r\n    disabledForeground: '#808080',\r\n    readOnlyBackground: '#252525',\r\n    readOnlyForeground: '#b0b0b0'\r\n  },\r\n  rowColors: {\r\n    evenRowBackground: '#1e1e1e',\r\n    oddRowBackground: '#252525',\r\n    hoverBackground: '#2d2d2d',\r\n    selectedBackground: '#1976d2',\r\n    selectedForeground: '#ffffff',\r\n    selectedInactiveBackground: '#3a3a3a',\r\n    selectedInactiveForeground: '#b0b0b0'\r\n  },\r\n  headerColors: {\r\n    background: '#2a2a2a',\r\n    foreground: '#e0e0e0',\r\n    hoverBackground: '#333333',\r\n    pressedBackground: '#3a3a3a',\r\n    sortIndicatorColor: '#64b5f6'\r\n  },\r\n  validationColors: {\r\n    errorBackground: '#3d1a1a',\r\n    errorForeground: '#ef5350',\r\n    errorBorder: '#c62828',\r\n    warningBackground: '#3d2e1a',\r\n    warningForeground: '#ffb74d',\r\n    warningBorder: '#f57c00',\r\n    infoBackground: '#1a2a3d',\r\n    infoForeground: '#64b5f6',\r\n    infoBorder: '#1976d2'\r\n  },\r\n  selectionColors: {\r\n    selectionBorder: '#1976d2',\r\n    selectionFill: 'rgba(25, 118, 210, 0.2)',\r\n    multiSelectionBackground: '#1e3a5f',\r\n    multiSelectionForeground: '#64b5f6'\r\n  },\r\n  borderColors: {\r\n    cellBorder: '#3a3a3a',\r\n    rowBorder: '#3a3a3a',\r\n    columnBorder: '#3a3a3a',\r\n    gridBorder: '#4a4a4a',\r\n    focusedCellBorder: '#1976d2'\r\n  },\r\n  specialColumnColors: {\r\n    rowNumberBackground: '#252525',\r\n    rowNumberForeground: '#b0b0b0',\r\n    checkboxBorder: '#4a4a4a',\r\n    checkboxBackground: '#2a2a2a',\r\n    checkboxForeground: '#e0e0e0',\r\n    deleteRowBackground: 'transparent',\r\n    deleteRowForeground: '#ef5350',\r\n    deleteRowHoverBackground: '#3d1a1a',\r\n    insertRowBackground: 'transparent',\r\n    insertRowForeground: '#66bb6a',\r\n    insertRowBorder: 'transparent',\r\n    insertRowHoverBackground: '#1a3d1a',\r\n    insertRowHoverForeground: '#81c784',\r\n    validationAlertsErrorBackground: '#3d1a1a',\r\n    validationAlertsErrorForeground: '#ef5350'\r\n  },\r\n  uiControlColors: {\r\n    resizeGripColor: '#5a5a5a',\r\n    menuBackground: '#2a2a2a',\r\n    menuForeground: '#e0e0e0',\r\n    menuHoverBackground: '#333333',\r\n    dialogBackground: '#2a2a2a',\r\n    dialogForeground: '#e0e0e0',\r\n    dialogBorder: '#4a4a4a',\r\n    placeholderColor: '#808080',\r\n    searchPanelBackground: '#252525',\r\n    searchPanelForeground: '#e0e0e0',\r\n    searchPanelBorder: '#4a4a4a',\r\n    filterRowBackground: '#252525',\r\n    filterRowForeground: '#e0e0e0',\r\n    filterRowBorder: '#4a4a4a',\r\n    paginationBackground: '#2a2a2a',\r\n    paginationForeground: '#e0e0e0',\r\n    paginationBorder: '#4a4a4a',\r\n    paginationButtonHoverBackground: '#333333'\r\n  }\r\n}\r\n\r\nexport const darkListBoxTheme: ListBoxTheme = {\r\n  itemColors: {\r\n    defaultBackground: '#1e1e1e',\r\n    defaultForeground: '#e0e0e0',\r\n    hoverBackground: '#2d2d2d',\r\n    hoverForeground: '#e0e0e0',\r\n    selectedBackground: '#1e3a5f',\r\n    selectedForeground: '#64b5f6',\r\n    selectedHoverBackground: '#2d4a6f',\r\n    selectedHoverForeground: '#64b5f6',\r\n    disabledBackground: '#2a2a2a',\r\n    disabledForeground: '#808080'\r\n  },\r\n  containerColors: {\r\n    background: '#1e1e1e',\r\n    border: '#4a4a4a',\r\n    focusedBorder: '#1976d2',\r\n    titleForeground: '#e0e0e0'\r\n  },\r\n  checkboxColors: {\r\n    border: '#4a4a4a',\r\n    background: '#2a2a2a',\r\n    checkedBackground: '#1976d2',\r\n    checkedBorder: '#1976d2',\r\n    hoverBorder: '#5a5a5a'\r\n  },\r\n  scrollbarColors: {\r\n    trackBackground: '#2a2a2a',\r\n    thumbBackground: '#4a4a4a',\r\n    thumbHoverBackground: '#5a5a5a'\r\n  }\r\n}\r\n\r\n// ============================================================================\r\n// High Contrast Theme\r\n// ============================================================================\r\n\r\nexport const highContrastDataGridTheme: DataGridTheme = {\r\n  cellColors: {\r\n    defaultBackground: '#000000',\r\n    defaultForeground: '#ffffff',\r\n    hoverBackground: '#1a1a1a',\r\n    hoverForeground: '#ffff00',\r\n    focusedBackground: '#000080',\r\n    focusedForeground: '#ffffff',\r\n    disabledBackground: '#333333',\r\n    disabledForeground: '#808080',\r\n    readOnlyBackground: '#1a1a1a',\r\n    readOnlyForeground: '#c0c0c0'\r\n  },\r\n  rowColors: {\r\n    evenRowBackground: '#000000',\r\n    oddRowBackground: '#0d0d0d',\r\n    hoverBackground: '#1a1a1a',\r\n    selectedBackground: '#000080',\r\n    selectedForeground: '#ffffff',\r\n    selectedInactiveBackground: '#333333',\r\n    selectedInactiveForeground: '#c0c0c0'\r\n  },\r\n  headerColors: {\r\n    background: '#1a1a1a',\r\n    foreground: '#ffffff',\r\n    hoverBackground: '#333333',\r\n    pressedBackground: '#4d4d4d',\r\n    sortIndicatorColor: '#00ff00'\r\n  },\r\n  validationColors: {\r\n    errorBackground: '#330000',\r\n    errorForeground: '#ff0000',\r\n    errorBorder: '#ff0000',\r\n    warningBackground: '#332200',\r\n    warningForeground: '#ffff00',\r\n    warningBorder: '#ffff00',\r\n    infoBackground: '#003333',\r\n    infoForeground: '#00ffff',\r\n    infoBorder: '#00ffff'\r\n  },\r\n  selectionColors: {\r\n    selectionBorder: '#00ff00',\r\n    selectionFill: 'rgba(0, 255, 0, 0.2)',\r\n    multiSelectionBackground: '#000080',\r\n    multiSelectionForeground: '#ffffff'\r\n  },\r\n  borderColors: {\r\n    cellBorder: '#808080',\r\n    rowBorder: '#808080',\r\n    columnBorder: '#808080',\r\n    gridBorder: '#ffffff',\r\n    focusedCellBorder: '#00ff00'\r\n  },\r\n  specialColumnColors: {\r\n    rowNumberBackground: '#1a1a1a',\r\n    rowNumberForeground: '#ffffff',\r\n    checkboxBorder: '#ffffff',\r\n    checkboxBackground: '#000000',\r\n    checkboxForeground: '#ffffff',\r\n    deleteRowBackground: 'transparent',\r\n    deleteRowForeground: '#ff0000',\r\n    deleteRowHoverBackground: '#330000',\r\n    insertRowBackground: 'transparent',\r\n    insertRowForeground: '#00ff00',\r\n    insertRowBorder: 'transparent',\r\n    insertRowHoverBackground: '#003300',\r\n    insertRowHoverForeground: '#00ff00',\r\n    validationAlertsErrorBackground: '#330000',\r\n    validationAlertsErrorForeground: '#ff0000'\r\n  },\r\n  uiControlColors: {\r\n    resizeGripColor: '#ffffff',\r\n    menuBackground: '#000000',\r\n    menuForeground: '#ffffff',\r\n    menuHoverBackground: '#1a1a1a',\r\n    dialogBackground: '#000000',\r\n    dialogForeground: '#ffffff',\r\n    dialogBorder: '#ffffff',\r\n    placeholderColor: '#808080',\r\n    searchPanelBackground: '#1a1a1a',\r\n    searchPanelForeground: '#ffffff',\r\n    searchPanelBorder: '#ffffff',\r\n    filterRowBackground: '#1a1a1a',\r\n    filterRowForeground: '#ffffff',\r\n    filterRowBorder: '#ffffff',\r\n    paginationBackground: '#000000',\r\n    paginationForeground: '#ffffff',\r\n    paginationBorder: '#ffffff',\r\n    paginationButtonHoverBackground: '#333333'\r\n  }\r\n}\r\n\r\nexport const highContrastListBoxTheme: ListBoxTheme = {\r\n  itemColors: {\r\n    defaultBackground: '#000000',\r\n    defaultForeground: '#ffffff',\r\n    hoverBackground: '#1a1a1a',\r\n    hoverForeground: '#ffff00',\r\n    selectedBackground: '#000080',\r\n    selectedForeground: '#ffffff',\r\n    selectedHoverBackground: '#0000b0',\r\n    selectedHoverForeground: '#ffffff',\r\n    disabledBackground: '#333333',\r\n    disabledForeground: '#808080'\r\n  },\r\n  containerColors: {\r\n    background: '#000000',\r\n    border: '#ffffff',\r\n    focusedBorder: '#00ff00',\r\n    titleForeground: '#ffffff'\r\n  },\r\n  checkboxColors: {\r\n    border: '#ffffff',\r\n    background: '#000000',\r\n    checkedBackground: '#000080',\r\n    checkedBorder: '#ffffff',\r\n    hoverBorder: '#ffff00'\r\n  },\r\n  scrollbarColors: {\r\n    trackBackground: '#1a1a1a',\r\n    thumbBackground: '#808080',\r\n    thumbHoverBackground: '#c0c0c0'\r\n  }\r\n}\r\n\r\n// ============================================================================\r\n// Theme Provider\r\n// ============================================================================\r\n\r\nconst THEME_KEY = Symbol('theme')\r\n\r\nexport function useThemeProvider(theme: ThemeConfig = {}) {\r\n  const dataGridTheme = ref<DataGridTheme>(\r\n    mergeDeep(defaultDataGridTheme, theme.dataGrid || {}) as DataGridTheme\r\n  )\r\n  const listBoxTheme = ref<ListBoxTheme>(\r\n    mergeDeep(defaultListBoxTheme, theme.listBox || {}) as ListBoxTheme\r\n  )\r\n\r\n  provide(THEME_KEY, {\r\n    dataGridTheme,\r\n    listBoxTheme\r\n  })\r\n\r\n  return {\r\n    dataGridTheme,\r\n    listBoxTheme\r\n  }\r\n}\r\n\r\nexport function useTheme() {\r\n  const theme = inject<{\r\n    dataGridTheme: Ref<DataGridTheme>\r\n    listBoxTheme: Ref<ListBoxTheme>\r\n  }>(THEME_KEY, {\r\n    dataGridTheme: ref(defaultDataGridTheme),\r\n    listBoxTheme: ref(defaultListBoxTheme)\r\n  })\r\n\r\n  return theme\r\n}\r\n\r\n// ============================================================================\r\n// Utility Functions\r\n// ============================================================================\r\n\r\nfunction mergeDeep(target: any, source: any): any {\r\n  const output = { ...target }\r\n\r\n  if (isObject(target) && isObject(source)) {\r\n    Object.keys(source).forEach(key => {\r\n      if (isObject(source[key])) {\r\n        if (!(key in target)) {\r\n          Object.assign(output, { [key]: source[key] })\r\n        } else {\r\n          output[key] = mergeDeep(target[key], source[key])\r\n        }\r\n      } else {\r\n        Object.assign(output, { [key]: source[key] })\r\n      }\r\n    })\r\n  }\r\n\r\n  return output\r\n}\r\n\r\nfunction isObject(item: any): boolean {\r\n  return item && typeof item === 'object' && !Array.isArray(item)\r\n}\r\n\r\n// ============================================================================\r\n// CSS Variable Generation\r\n// ============================================================================\r\n\r\nexport function generateDataGridCSSVariables(theme: DataGridTheme): Record<string, string> {\r\n  return {\r\n    // Cell Colors\r\n    '--dg-cell-bg': theme.cellColors.defaultBackground,\r\n    '--dg-cell-fg': theme.cellColors.defaultForeground,\r\n    '--dg-cell-hover-bg': theme.cellColors.hoverBackground,\r\n    '--dg-cell-hover-fg': theme.cellColors.hoverForeground,\r\n    '--dg-cell-focused-bg': theme.cellColors.focusedBackground,\r\n    '--dg-cell-focused-fg': theme.cellColors.focusedForeground,\r\n    '--dg-cell-disabled-bg': theme.cellColors.disabledBackground,\r\n    '--dg-cell-disabled-fg': theme.cellColors.disabledForeground,\r\n    '--dg-cell-readonly-bg': theme.cellColors.readOnlyBackground,\r\n    '--dg-cell-readonly-fg': theme.cellColors.readOnlyForeground,\r\n\r\n    // Row Colors\r\n    '--dg-row-even-bg': theme.rowColors.evenRowBackground,\r\n    '--dg-row-odd-bg': theme.rowColors.oddRowBackground,\r\n    '--dg-row-hover-bg': theme.rowColors.hoverBackground,\r\n    '--dg-row-selected-bg': theme.rowColors.selectedBackground,\r\n    '--dg-row-selected-fg': theme.rowColors.selectedForeground,\r\n    '--dg-row-selected-inactive-bg': theme.rowColors.selectedInactiveBackground,\r\n    '--dg-row-selected-inactive-fg': theme.rowColors.selectedInactiveForeground,\r\n\r\n    // Header Colors\r\n    '--dg-header-bg': theme.headerColors.background,\r\n    '--dg-header-fg': theme.headerColors.foreground,\r\n    '--dg-header-hover-bg': theme.headerColors.hoverBackground,\r\n    '--dg-header-pressed-bg': theme.headerColors.pressedBackground,\r\n    '--dg-header-sort-indicator': theme.headerColors.sortIndicatorColor,\r\n\r\n    // Validation Colors\r\n    '--dg-validation-error-bg': theme.validationColors.errorBackground,\r\n    '--dg-validation-error-fg': theme.validationColors.errorForeground,\r\n    '--dg-validation-error-border': theme.validationColors.errorBorder,\r\n    '--dg-validation-warning-bg': theme.validationColors.warningBackground,\r\n    '--dg-validation-warning-fg': theme.validationColors.warningForeground,\r\n    '--dg-validation-warning-border': theme.validationColors.warningBorder,\r\n    '--dg-validation-info-bg': theme.validationColors.infoBackground,\r\n    '--dg-validation-info-fg': theme.validationColors.infoForeground,\r\n    '--dg-validation-info-border': theme.validationColors.infoBorder,\r\n\r\n    // Selection Colors\r\n    '--dg-selection-border': theme.selectionColors.selectionBorder,\r\n    '--dg-selection-fill': theme.selectionColors.selectionFill,\r\n    '--dg-multi-selection-bg': theme.selectionColors.multiSelectionBackground,\r\n    '--dg-multi-selection-fg': theme.selectionColors.multiSelectionForeground,\r\n\r\n    // Border Colors\r\n    '--dg-border-cell': theme.borderColors.cellBorder,\r\n    '--dg-border-row': theme.borderColors.rowBorder,\r\n    '--dg-border-column': theme.borderColors.columnBorder,\r\n    '--dg-border-grid': theme.borderColors.gridBorder,\r\n    '--dg-border-focused-cell': theme.borderColors.focusedCellBorder,\r\n\r\n    // Special Column Colors\r\n    '--dg-special-rownumber-bg': theme.specialColumnColors.rowNumberBackground,\r\n    '--dg-special-rownumber-fg': theme.specialColumnColors.rowNumberForeground,\r\n    '--dg-special-checkbox-border': theme.specialColumnColors.checkboxBorder,\r\n    '--dg-special-checkbox-bg': theme.specialColumnColors.checkboxBackground,\r\n    '--dg-special-checkbox-fg': theme.specialColumnColors.checkboxForeground,\r\n    '--dg-special-delete-bg': theme.specialColumnColors.deleteRowBackground,\r\n    '--dg-special-delete-fg': theme.specialColumnColors.deleteRowForeground,\r\n    '--dg-special-delete-hover-bg': theme.specialColumnColors.deleteRowHoverBackground,\r\n    '--dg-special-insert-bg': theme.specialColumnColors.insertRowBackground,\r\n    '--dg-special-insert-fg': theme.specialColumnColors.insertRowForeground,\r\n    '--dg-special-insert-border': theme.specialColumnColors.insertRowBorder,\r\n    '--dg-special-insert-hover-bg': theme.specialColumnColors.insertRowHoverBackground,\r\n    '--dg-special-insert-hover-fg': theme.specialColumnColors.insertRowHoverForeground,\r\n    '--dg-special-validation-error-bg': theme.specialColumnColors.validationAlertsErrorBackground,\r\n    '--dg-special-validation-error-fg': theme.specialColumnColors.validationAlertsErrorForeground,\r\n\r\n    // UI Control Colors\r\n    '--dg-ui-resize-grip': theme.uiControlColors.resizeGripColor,\r\n    '--dg-ui-menu-bg': theme.uiControlColors.menuBackground,\r\n    '--dg-ui-menu-fg': theme.uiControlColors.menuForeground,\r\n    '--dg-ui-menu-hover-bg': theme.uiControlColors.menuHoverBackground,\r\n    '--dg-ui-dialog-bg': theme.uiControlColors.dialogBackground,\r\n    '--dg-ui-dialog-fg': theme.uiControlColors.dialogForeground,\r\n    '--dg-ui-dialog-border': theme.uiControlColors.dialogBorder,\r\n    '--dg-ui-placeholder': theme.uiControlColors.placeholderColor,\r\n    '--dg-ui-search-bg': theme.uiControlColors.searchPanelBackground,\r\n    '--dg-ui-search-fg': theme.uiControlColors.searchPanelForeground,\r\n    '--dg-ui-search-border': theme.uiControlColors.searchPanelBorder,\r\n    '--dg-ui-filter-bg': theme.uiControlColors.filterRowBackground,\r\n    '--dg-ui-filter-fg': theme.uiControlColors.filterRowForeground,\r\n    '--dg-ui-filter-border': theme.uiControlColors.filterRowBorder,\r\n    '--dg-ui-pagination-bg': theme.uiControlColors.paginationBackground,\r\n    '--dg-ui-pagination-fg': theme.uiControlColors.paginationForeground,\r\n    '--dg-ui-pagination-border': theme.uiControlColors.paginationBorder,\r\n    '--dg-ui-pagination-button-hover-bg': theme.uiControlColors.paginationButtonHoverBackground\r\n  }\r\n}\r\n\r\nexport function generateListBoxCSSVariables(theme: ListBoxTheme): Record<string, string> {\r\n  return {\r\n    // Item Colors\r\n    '--lb-item-bg': theme.itemColors.defaultBackground,\r\n    '--lb-item-fg': theme.itemColors.defaultForeground,\r\n    '--lb-item-hover-bg': theme.itemColors.hoverBackground,\r\n    '--lb-item-hover-fg': theme.itemColors.hoverForeground,\r\n    '--lb-item-selected-bg': theme.itemColors.selectedBackground,\r\n    '--lb-item-selected-fg': theme.itemColors.selectedForeground,\r\n    '--lb-item-selected-hover-bg': theme.itemColors.selectedHoverBackground,\r\n    '--lb-item-selected-hover-fg': theme.itemColors.selectedHoverForeground,\r\n    '--lb-item-disabled-bg': theme.itemColors.disabledBackground,\r\n    '--lb-item-disabled-fg': theme.itemColors.disabledForeground,\r\n\r\n    // Container Colors\r\n    '--lb-container-bg': theme.containerColors.background,\r\n    '--lb-container-border': theme.containerColors.border,\r\n    '--lb-container-focused-border': theme.containerColors.focusedBorder,\r\n    '--lb-title-fg': theme.containerColors.titleForeground,\r\n\r\n    // Checkbox Colors\r\n    '--lb-checkbox-border': theme.checkboxColors.border,\r\n    '--lb-checkbox-bg': theme.checkboxColors.background,\r\n    '--lb-checkbox-checked-bg': theme.checkboxColors.checkedBackground,\r\n    '--lb-checkbox-checked-border': theme.checkboxColors.checkedBorder,\r\n    '--lb-checkbox-hover-border': theme.checkboxColors.hoverBorder,\r\n\r\n    // Scrollbar Colors\r\n    '--lb-scrollbar-track-bg': theme.scrollbarColors.trackBackground,\r\n    '--lb-scrollbar-thumb-bg': theme.scrollbarColors.thumbBackground,\r\n    '--lb-scrollbar-thumb-hover-bg': theme.scrollbarColors.thumbHoverBackground\r\n  }\r\n}\r\n","<template>\r\n  <div class=\"grid-header\" :style=\"{ gridTemplateColumns }\">\r\n    <div\r\n      v-for=\"column in columns\"\r\n      :key=\"column.name\"\r\n      class=\"header-cell\"\r\n      :class=\"{ 'header-cell--auto-width': column.autoWidth }\"\r\n      @click=\"handleHeaderClick($event, column)\"\r\n      @contextmenu.prevent=\"showHeaderContextMenu($event, column)\"\r\n    >\r\n      <!-- Custom tri-state checkbox (not native input) -->\r\n      <div\r\n        v-if=\"column.specialType === 'Checkbox'\"\r\n        class=\"custom-checkbox\"\r\n        :class=\"{\r\n          'checkbox-none': store.checkboxState === 'none',\r\n          'checkbox-some': store.checkboxState === 'some',\r\n          'checkbox-all': store.checkboxState === 'all'\r\n        }\"\r\n        @click.stop=\"handleCheckboxHeaderClick\"\r\n        title=\"Toggle all checkboxes\"\r\n      >\r\n        <!-- Checkmark for 'all' state -->\r\n        <span v-if=\"store.checkboxState === 'all'\" class=\"checkbox-icon\">✓</span>\r\n        <!-- Dash for 'some' state -->\r\n        <span v-else-if=\"store.checkboxState === 'some'\" class=\"checkbox-icon\">−</span>\r\n      </div>\r\n\r\n      <span v-else class=\"header-text\">{{ column.header }}</span>\r\n\r\n      <!-- Multi-column sort indicator -->\r\n      <span\r\n        v-if=\"column.isSortable && getSortInfo(column.name)\"\r\n        class=\"sort-icon\"\r\n        :class=\"getSortInfo(column.name)?.isPrimary ? 'sort-icon--primary' : 'sort-icon--secondary'\"\r\n      >\r\n        {{ getSortInfo(column.name)?.direction === 'asc' ? '▲' : '▼' }}\r\n        <span v-if=\"getSortInfo(column.name)?.order && getSortInfo(column.name)!.order > 1\" class=\"sort-order\">\r\n          {{ getSortInfo(column.name)?.order }}\r\n        </span>\r\n      </span>\r\n\r\n      <!-- Resize grip -->\r\n      <div\r\n        class=\"resize-grip\"\r\n        @mousedown.stop=\"startResize(column, $event)\"\r\n      />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { ref, computed } from 'vue'\r\nimport { useDataGridStore, type GridColumn } from '@/stores/dataGridStore'\r\nimport ContextMenu from '@imengyu/vue3-context-menu'\r\n\r\nconst props = defineProps<{\r\n  columns: GridColumn[]\r\n  gridTemplateColumns: string\r\n  gridId?: string\r\n  isGridReady?: boolean\r\n  isProcessing?: boolean  // ✅ RIEŠENIE A: Processing flag\r\n  showHiddenColumnsPanel?: boolean  // Optional: Show hidden columns panel (default: true)\r\n  enableHideColumn?: boolean    // ✅ NOVÝ PROP #1 (default: true) - zapne/vypne Hide v menu\r\n  enableAutoFit?: boolean        // ✅ NOVÝ PROP #2 (default: true) - zapne/vypne AutoFit v menu\r\n}>()\r\n\r\nconst emit = defineEmits<{\r\n  sort: [columnName: string, direction: 'asc' | 'desc']\r\n  resize: [columnName: string, newWidth: number]\r\n  hideColumn: [columnName: string]\r\n  autoFitColumn: [columnName: string]\r\n  showFilter: [columnName: string]\r\n}>()\r\n\r\nconst store = useDataGridStore(props.gridId)()\r\n\r\n// No longer need ref or watch - custom checkbox is controlled by Vue reactivity\r\n\r\nconst resizingColumn = ref<GridColumn | null>(null)\r\nconst resizeStartX = ref(0)\r\nconst resizeStartWidth = ref(0)\r\n\r\n/**\r\n * ✅ RIEŠENIE B: Computed sortInfoMap - cache sort info for all columns\r\n * Only recalculates when store.sortColumns changes (1× access instead of 6× per column)\r\n */\r\nconst sortInfoMap = computed(() => {\r\n  const map = new Map<string, { direction: 'asc' | 'desc'; order: number; isPrimary: boolean }>()\r\n\r\n  store.sortColumns.forEach((sortCol: { columnName: string; direction: 'asc' | 'desc' }, index: number) => {\r\n    map.set(sortCol.columnName, {\r\n      direction: sortCol.direction,\r\n      order: index + 1,\r\n      isPrimary: index === 0\r\n    })\r\n  })\r\n\r\n  return map\r\n})\r\n\r\n/**\r\n * ✅ RIEŠENIE E + B: Gets sort information using computed Map (O(1) lookup)\r\n * Returns null if column is not sorted\r\n */\r\nfunction getSortInfo(columnName: string): { direction: 'asc' | 'desc'; order: number; isPrimary: boolean } | null {\r\n  return sortInfoMap.value.get(columnName) ?? null\r\n}\r\n\r\nfunction handleHeaderClick(event: MouseEvent, column: GridColumn) {\r\n  console.log('[DataGridHeader] 🟢 Header CLICKED:', {\r\n    columnName: column.name,\r\n    specialType: column.specialType,\r\n    isSortable: column.isSortable,\r\n    shiftKey: event.shiftKey,\r\n    button: event.button\r\n  })\r\n\r\n  // For checkbox column, do nothing (checkbox handles its own click)\r\n  if (column.specialType === 'Checkbox') {\r\n    console.log('[DataGridHeader] ❌ Checkbox column - ignoring click')\r\n    return\r\n  }\r\n\r\n  // For sortable columns with Shift key, toggle sort\r\n  if (column.isSortable && event.shiftKey) {\r\n    console.log('[DataGridHeader] 🔄 Sortable + Shift - calling handleSort')\r\n    handleSort(column, true) // multi-sort mode\r\n    return\r\n  }\r\n\r\n  // For other columns, show context menu\r\n  console.log('[DataGridHeader] 📋 Calling showHeaderContextMenu')\r\n  showHeaderContextMenu(event, column)\r\n}\r\n\r\nfunction handleCheckboxHeaderClick() {\r\n  store.toggleAllCheckboxes()\r\n}\r\n\r\nfunction handleSort(column: GridColumn, multiSort = false) {\r\n  if (!column.isSortable) return\r\n\r\n  const currentSort = getSortInfo(column.name)\r\n\r\n  if (currentSort) {\r\n    // Column is already sorted - toggle direction\r\n    const newDirection = currentSort.direction === 'asc' ? 'desc' : 'asc'\r\n    store.addSort(column.name, newDirection, multiSort)\r\n  } else {\r\n    // Column is not sorted - add ascending sort\r\n    store.addSort(column.name, 'asc', multiSort)\r\n  }\r\n\r\n  // Emit for compatibility (even though store handles it)\r\n  const sortInfo = getSortInfo(column.name)\r\n  if (sortInfo) {\r\n    emit('sort', column.name, sortInfo.direction)\r\n  }\r\n}\r\n\r\nfunction startResize(column: GridColumn, event: MouseEvent) {\r\n  resizingColumn.value = column\r\n  resizeStartX.value = event.clientX\r\n  resizeStartWidth.value = column.width\r\n\r\n  window.addEventListener('mousemove', onResizeMove)\r\n  window.addEventListener('mouseup', onResizeEnd)\r\n}\r\n\r\nfunction onResizeMove(event: MouseEvent) {\r\n  if (!resizingColumn.value) return\r\n\r\n  const delta = event.clientX - resizeStartX.value\r\n  const newWidth = Math.max(\r\n    resizingColumn.value.minWidth,\r\n    Math.min(resizingColumn.value.maxWidth, resizeStartWidth.value + delta)\r\n  )\r\n\r\n  emit('resize', resizingColumn.value.name, newWidth)\r\n}\r\n\r\nfunction onResizeEnd() {\r\n  resizingColumn.value = null\r\n  window.removeEventListener('mousemove', onResizeMove)\r\n  window.removeEventListener('mouseup', onResizeEnd)\r\n}\r\n\r\nfunction showHeaderContextMenu(event: MouseEvent, column: GridColumn) {\r\n  console.log('[DataGridHeader] 🔵 Context menu requested for column:', column.name)\r\n  console.log('[DataGridHeader] Column props:', {\r\n    specialType: column.specialType,\r\n    name: column.name,\r\n    header: column.header,\r\n    isSortable: column.isSortable,\r\n    isFilterable: column.isFilterable\r\n  })\r\n  console.log('[DataGridHeader] showHiddenColumnsPanel prop:', props.showHiddenColumnsPanel)\r\n  console.log('[DataGridHeader] isGridReady:', props.isGridReady, ', isProcessing:', props.isProcessing)\r\n\r\n  // ✅ FIX: Early return if grid is not ready\r\n  if (props.isGridReady === false) {\r\n    console.error('[showHeaderContextMenu] ❌ Grid not ready yet')\r\n    return\r\n  }\r\n\r\n  // ✅ FIX: Early return if store is not initialized\r\n  if (!store) {\r\n    console.error('[showHeaderContextMenu] ❌ Store not initialized yet')\r\n    return\r\n  }\r\n\r\n  // ✅ RIEŠENIE A: Check processing flag\r\n  if (props.isProcessing) {\r\n    console.error('[showHeaderContextMenu] ❌ Grid is currently processing data')\r\n    return  // Silent return - no alert needed\r\n  }\r\n\r\n  console.log('[DataGridHeader] ✅ All checks passed, building menu items...')\r\n\r\n  // ✅ RIEŠENIE D: Defensive copy of reactive data\r\n  const sortColumnsCopy = [...store.sortColumns]\r\n  const filterExpressionCopy = store.filterExpression\r\n\r\n  const menuItems = []\r\n\r\n  // Sort options\r\n  if (column.isSortable) {\r\n    const currentSort = getSortInfo(column.name)\r\n    const hasOtherSorts = sortColumnsCopy.length > 0  // ✅ Use copy\r\n\r\n    menuItems.push(\r\n      {\r\n        label: 'Sort Ascending',\r\n        icon: '▲',\r\n        onClick: () => {\r\n          store.addSort(column.name, 'asc', false)\r\n          emit('sort', column.name, 'asc')\r\n        }\r\n      },\r\n      {\r\n        label: 'Sort Descending',\r\n        icon: '▼',\r\n        onClick: () => {\r\n          store.addSort(column.name, 'desc', false)\r\n          emit('sort', column.name, 'desc')\r\n        }\r\n      }\r\n    )\r\n\r\n    // Multi-sort options\r\n    if (hasOtherSorts) {\r\n      menuItems.push(\r\n        { divided: true },\r\n        {\r\n          label: 'Add to Sort (Asc)',\r\n          icon: '▲+',\r\n          onClick: () => {\r\n            store.addSort(column.name, 'asc', true)\r\n          }\r\n        },\r\n        {\r\n          label: 'Add to Sort (Desc)',\r\n          icon: '▼+',\r\n          onClick: () => {\r\n            store.addSort(column.name, 'desc', true)\r\n          }\r\n        }\r\n      )\r\n    }\r\n\r\n    // Remove from sort if already sorted\r\n    if (currentSort) {\r\n      menuItems.push(\r\n        { divided: true },\r\n        {\r\n          label: `Remove from Sort (Order ${currentSort.order})`,\r\n          icon: '✖',\r\n          onClick: () => {\r\n            const newSorts = sortColumnsCopy.filter((s: { columnName: string; direction: 'asc' | 'desc' }) => s.columnName !== column.name)  // ✅ Use copy\r\n            store.setSortColumns(newSorts)\r\n          }\r\n        }\r\n      )\r\n    }\r\n\r\n    // Clear all sorts\r\n    if (hasOtherSorts) {\r\n      menuItems.push(\r\n        {\r\n          label: 'Clear All Sorts',\r\n          icon: '🗑',\r\n          onClick: () => {\r\n            store.clearSort()\r\n          }\r\n        }\r\n      )\r\n    }\r\n\r\n    menuItems.push({ divided: true })\r\n  }\r\n\r\n  // Filter option\r\n  if (column.isFilterable) {\r\n    menuItems.push(\r\n      {\r\n        label: 'Filter...',\r\n        icon: '🔍',\r\n        onClick: () => emit('showFilter', column.name)\r\n      }\r\n    )\r\n\r\n    // Clear all filters option (show only if filters exist)\r\n    if (filterExpressionCopy !== null) {  // ✅ Use copy\r\n      menuItems.push(\r\n        {\r\n          label: 'Clear All Filters',\r\n          icon: '🗑',\r\n          onClick: () => {\r\n            store.clearFilter()\r\n          }\r\n        }\r\n      )\r\n    }\r\n\r\n    menuItems.push({ divided: true })\r\n  }\r\n\r\n  // Column management options (only for non-special columns)\r\n  console.log('[DataGridHeader] Checking column management options, specialType:', column.specialType)\r\n\r\n  // ✅ RIEŠENIE #7: Pridaj Auto-fit LEN ak je enableAutoFit !== false\r\n  if (!column.specialType && props.enableAutoFit !== false) {\r\n    console.log('[DataGridHeader] ✅ Adding Auto-fit Column option (enableAutoFit !== false)')\r\n    menuItems.push({\r\n      label: 'Auto-fit Column',\r\n      icon: '↔️',\r\n      onClick: () => {\r\n        console.log('[DataGridHeader] ↔️ Auto-fit Column clicked for:', column.name)\r\n        console.log('[DataGridHeader] 🚀 Emitting autoFitColumn event')\r\n        emit('autoFitColumn', column.name)\r\n      }\r\n    })\r\n  } else if (!column.specialType) {\r\n    console.log('[DataGridHeader] ❌ NOT adding Auto-fit Column option (enableAutoFit is false)')\r\n  }\r\n\r\n  // ✅ RIEŠENIE #8: Pridaj Hide LEN ak je enableHideColumn !== false\r\n  if (!column.specialType && props.enableHideColumn !== false) {\r\n    console.log('[DataGridHeader] ✅ Adding Hide Column option (enableHideColumn !== false)')\r\n    menuItems.push({\r\n      label: 'Hide Column',\r\n      icon: '👁️',\r\n      onClick: () => {\r\n        console.log('[DataGridHeader] 👁️ Hide Column clicked for:', column.name)\r\n        console.log('[DataGridHeader] 🚀 Emitting hideColumn event')\r\n        emit('hideColumn', column.name)\r\n      }\r\n    })\r\n  } else if (!column.specialType) {\r\n    console.log('[DataGridHeader] ❌ NOT adding Hide Column option (enableHideColumn is false)')\r\n  }\r\n\r\n  console.log('[DataGridHeader] 📋 Total menu items:', menuItems.length)\r\n  console.log('[DataGridHeader] Menu items labels:', menuItems.map((item: any) => item.label || '---divider---'))\r\n\r\n  ContextMenu.showContextMenu({\r\n    x: event.x,\r\n    y: event.y,\r\n    items: menuItems\r\n  })\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.grid-header {\r\n  display: grid; /* Changed from flex to grid for perfect column alignment */\r\n  /* grid-template-columns applied via inline style from parent */\r\n  background-color: var(--dg-header-bg, #f5f5f5);\r\n  color: var(--dg-header-fg, #212529);\r\n  border-bottom: 2px solid var(--dg-border-column, #ccc);\r\n  font-weight: bold;\r\n  position: sticky;\r\n  top: 0;\r\n  z-index: 10;\r\n  /* ✅ RIEŠENIE A: Width zdedená od .table-inner parent - no explicit width/minWidth needed */\r\n  padding-right: 0;\r\n  box-sizing: border-box;\r\n}\r\n\r\n.header-cell {\r\n  position: relative;\r\n  padding: 8px;\r\n  border-right: 1px solid var(--dg-border-cell, #e0e0e0);\r\n  cursor: pointer;\r\n  user-select: none;\r\n  display: flex; /* Keep flex for internal layout (icon + text alignment) */\r\n  align-items: center;\r\n  gap: 4px;\r\n  overflow: hidden; /* Prevent content from breaking grid layout */\r\n}\r\n\r\n.header-cell:hover {\r\n  background-color: var(--dg-header-hover-bg, #eeeeee);\r\n}\r\n\r\n.header-cell:active {\r\n  background-color: var(--dg-header-pressed-bg, #dee2e6);\r\n}\r\n\r\n.header-text {\r\n  flex: 1;\r\n}\r\n\r\n.header-cell--auto-width {\r\n  /* Auto-width columns use Star sizing (flex-grow) to fill remaining space */\r\n  flex-shrink: 0;\r\n}\r\n\r\n.sort-icon {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 2px;\r\n  font-size: 10px;\r\n  color: var(--dg-header-sort-indicator, #2196f3);\r\n  font-weight: bold;\r\n}\r\n\r\n.sort-icon--primary {\r\n  color: var(--dg-header-sort-indicator, #2196f3);\r\n}\r\n\r\n.sort-icon--secondary {\r\n  color: var(--dg-header-sort-secondary, #90caf9);\r\n  font-size: 9px;\r\n}\r\n\r\n.sort-order {\r\n  font-size: 9px;\r\n  font-weight: bold;\r\n  color: inherit;\r\n  padding-left: 1px;\r\n}\r\n\r\n.resize-grip {\r\n  position: absolute;\r\n  right: 0;\r\n  top: 0;\r\n  bottom: 0;\r\n  width: 4px;\r\n  cursor: col-resize;\r\n  background-color: transparent;\r\n}\r\n\r\n.resize-grip:hover {\r\n  background-color: var(--dg-ui-resize-grip, #2196f3);\r\n}\r\n\r\n/* Custom tri-state checkbox (not native input) */\r\n.custom-checkbox {\r\n  width: 18px;\r\n  height: 18px;\r\n  border: 2px solid var(--dg-header-checkbox-border, var(--dg-header-fg, #212529));\r\n  border-radius: 3px;\r\n  cursor: pointer;\r\n  display: inline-flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  background-color: var(--dg-header-checkbox-bg, white);\r\n  transition: all 0.15s ease;\r\n  user-select: none;\r\n}\r\n\r\n.custom-checkbox:hover {\r\n  border-color: var(--dg-header-checkbox-border-hover, var(--dg-header-fg, #212529));\r\n}\r\n\r\n/* State: none (empty checkbox) */\r\n.custom-checkbox.checkbox-none {\r\n  background-color: var(--dg-header-checkbox-bg, white) !important;\r\n}\r\n\r\n/* State: some (indeterminate - dash) */\r\n.custom-checkbox.checkbox-some {\r\n  background-color: var(--dg-header-checkbox-bg, white) !important;\r\n  border-color: var(--dg-header-checkbox-border-checked, var(--dg-header-fg, #212529));\r\n}\r\n\r\n/* State: all (checked - checkmark) */\r\n.custom-checkbox.checkbox-all {\r\n  background-color: var(--dg-header-checkbox-bg, white) !important;\r\n  border-color: var(--dg-header-checkbox-border-checked, var(--dg-header-fg, #212529));\r\n}\r\n\r\n/* Icon inside checkbox (checkmark or dash) */\r\n.checkbox-icon {\r\n  color: var(--dg-header-checkbox-icon, var(--dg-header-fg, #212529));\r\n  font-size: 14px;\r\n  font-weight: bold;\r\n  line-height: 1;\r\n}\r\n</style>\r\n","<template>\r\n  <div\r\n    ref=\"cellRef\"\r\n    class=\"grid-cell\"\r\n    :class=\"cellClasses\"\r\n    :style=\"cellStyle\"\r\n    @mousedown=\"handleMouseDown\"\r\n    @mouseenter=\"handleMouseEnter\"\r\n    @mouseleave=\"handleMouseLeave\"\r\n    @dblclick=\"handleDoubleClick\"\r\n    @keydown=\"handleCellKeyDown\"\r\n    @contextmenu=\"handleContextMenu\"\r\n    tabindex=\"0\"\r\n  >\r\n    <!-- Display mode -->\r\n    <div v-if=\"!isEditing\" class=\"cell-text\" v-html=\"highlightedValue\"></div>\r\n\r\n    <!-- Edit mode -->\r\n    <textarea\r\n      v-else\r\n      ref=\"inputRef\"\r\n      v-model=\"editValue\"\r\n      class=\"cell-input\"\r\n      @input=\"handleInput\"\r\n      @blur=\"handleBlur\"\r\n      @keydown=\"handleKeyDown\"\r\n    ></textarea>\r\n\r\n    <!-- Validation error tooltip - Teleported to body to avoid overflow:hidden issues -->\r\n    <Teleport to=\"body\">\r\n      <div\r\n        v-if=\"validationError && (isHovered || isSelected) && tooltipPosition\"\r\n        class=\"validation-tooltip\"\r\n        :class=\"{\r\n          'validation-tooltip--error': validationError.severity === 'Error' || validationError.severity === 'Critical',\r\n          'validation-tooltip--warning': validationError.severity === 'Warning' || validationError.severity === 'Info'\r\n        }\"\r\n        :style=\"{\r\n          position: 'fixed',\r\n          left: tooltipPosition.left + 'px',\r\n          top: tooltipPosition.top + 'px'\r\n        }\"\r\n      >\r\n        {{ validationError.message }}\r\n      </div>\r\n    </Teleport>\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { ref, computed, nextTick, inject } from 'vue'\r\nimport { useDataGridStore, type GridCell, type GridColumn, type GridRow } from '@/stores/dataGridStore'\r\nimport ContextMenu from '@imengyu/vue3-context-menu'\r\n\r\nconst props = defineProps<{\r\n  cell: GridCell\r\n  column: GridColumn\r\n  isSelected: boolean\r\n  gridId?: string\r\n}>()\r\n\r\nconst emit = defineEmits<{\r\n  editComplete: [rowId: string, columnName: string, value: any]\r\n  cellInput: [rowId: string, columnName: string, value: any]\r\n  copy: []\r\n  cut: []\r\n  paste: []\r\n  delete: []\r\n  insertAbove: [rowId: string, count: number]\r\n  insertBelow: [rowId: string, count: number]\r\n}>()\r\n\r\nconst store = useDataGridStore(props.gridId)()\r\n\r\n// Inject validation from parent DataGrid component\r\nconst validation = inject('validation', null) as ReturnType<typeof import('@/composables/useValidation').useValidation> | null\r\n// FIXED: Don't destructure getValidationErrors - access validationErrors directly to preserve reactivity\r\nconst validateCellThrottled = validation?.validateCellThrottled || (() => {})\r\nconst validationErrors = validation?.validationErrors || {}\r\n\r\nconst cellRef = ref<HTMLElement>()\r\nconst inputRef = ref<HTMLTextAreaElement>()\r\nconst isEditing = ref(false)\r\nconst editValue = ref(props.cell.value)\r\nconst originalValue = ref<any>(null)  // Store original value before editing for cancel support\r\nconst isHovered = ref(false)  // Track hover state for validation tooltip\r\nconst tooltipPosition = ref<{ left: number; top: number } | null>(null)  // Tooltip position for Teleport\r\nconst isConfirming = ref(false)  // Track if we're in the process of confirming edit (prevents handleBlur race condition)\r\n\r\nconst displayValue = computed(() => {\r\n  if (props.cell.value == null) return ''\r\n  return String(props.cell.value)\r\n})\r\n\r\n// Check if cell value contains newlines (from Shift+Enter)\r\nconst hasNewlines = computed(() => {\r\n  return displayValue.value.includes('\\n')\r\n})\r\n\r\n// Highlighted value with search matches\r\nconst highlightedValue = computed(() => {\r\n  const text = displayValue.value\r\n  const searchQuery = store.searchQuery\r\n\r\n  if (!searchQuery || !text) {\r\n    return escapeHtml(text)\r\n  }\r\n\r\n  try {\r\n    // Escape special regex characters from search query for safety\r\n    const escapedQuery = searchQuery.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&')\r\n    const regex = new RegExp(`(${escapedQuery})`, 'gi')\r\n\r\n    return escapeHtml(text).replace(\r\n      regex,\r\n      '<mark class=\"search-highlight\">$1</mark>'\r\n    )\r\n  } catch (error) {\r\n    // If regex fails, return plain text\r\n    return escapeHtml(text)\r\n  }\r\n})\r\n\r\n// Escape HTML to prevent XSS\r\nfunction escapeHtml(text: string): string {\r\n  const div = document.createElement('div')\r\n  div.textContent = text\r\n  return div.innerHTML\r\n}\r\n\r\n// Check for validation errors - access validationErrors directly for reactivity\r\nconst validationError = computed(() => {\r\n  const errors = validationErrors[props.cell.rowId] || []\r\n  return errors.find((e: { columnName: string; message: string; severity: string }) => e.columnName === props.cell.columnName)\r\n})\r\n\r\nconst cellClasses = computed(() => {\r\n  return {\r\n    'cell--selected': props.isSelected,\r\n    'cell--editing': isEditing.value,\r\n    'cell--validation-error': validationError.value?.severity === 'Error' || validationError.value?.severity === 'Critical',\r\n    'cell--validation-warning': validationError.value?.severity === 'Warning' || validationError.value?.severity === 'Info',\r\n    'cell--readonly': props.column.isReadOnly,\r\n    'cell--auto-height': store.isAutoRowHeightEnabled,\r\n    // Special case: has newlines but AutoRowHeight is OFF - still wrap by newlines only\r\n    'cell--has-newlines': hasNewlines.value && !store.isAutoRowHeightEnabled\r\n  }\r\n})\r\n\r\nconst cellStyle = computed(() => {\r\n  // CSS Grid handles column widths via grid-template-columns\r\n  // No need for flexbox properties (flexGrow, flexShrink, flexBasis)\r\n  return {}\r\n})\r\n\r\nfunction handleMouseDown(event: MouseEvent) {\r\n  // Only handle left mouse button\r\n  if (event.button !== 0) return\r\n\r\n  const isCtrlPressed = event.ctrlKey\r\n\r\n  console.log('[DataGridCell] MouseDown:', { rowId: props.cell.rowId, columnName: props.cell.columnName, isEditing: isEditing.value })\r\n\r\n  // Call store's selectCell method\r\n  store.selectCell(props.cell.rowId, props.cell.columnName, isCtrlPressed)\r\n}\r\n\r\nfunction handleMouseEnter(event: MouseEvent) {\r\n  // Track hover state for validation tooltip\r\n  isHovered.value = true\r\n\r\n  // Calculate tooltip position (above the cell)\r\n  if (cellRef.value) {\r\n    const rect = cellRef.value.getBoundingClientRect()\r\n    tooltipPosition.value = {\r\n      left: rect.left,\r\n      top: rect.top - 4  // 4px above the cell\r\n    }\r\n  }\r\n\r\n  // Block drag selection if Ctrl is currently pressed (real-time check)\r\n  // This matches the original WinUI component behavior\r\n  if (event.ctrlKey || store.wasCtrlPressed) {\r\n    return\r\n  }\r\n\r\n  // Check if left button is still pressed (dragging)\r\n  const isLeftButtonPressed = event.buttons === 1\r\n\r\n  // If we have a pressed cell and left button is still pressed\r\n  if (store.pressedCell && !store.isDragging && isLeftButtonPressed) {\r\n    // Check if entering the SAME cell - ignore to prevent premature drag\r\n    if (\r\n      props.cell.rowId === store.pressedCell.rowId &&\r\n      props.cell.columnName === store.pressedCell.columnName\r\n    ) {\r\n      return\r\n    }\r\n\r\n    // Different cell - start drag selection\r\n    store.startDragSelection(props.cell.rowId, props.cell.columnName)\r\n  } else if (store.isDragging && isLeftButtonPressed) {\r\n    // Already dragging - expand selection\r\n    store.expandDragSelection(props.cell.rowId, props.cell.columnName)\r\n  }\r\n}\r\n\r\nfunction handleMouseLeave() {\r\n  // Clear hover state for validation tooltip\r\n  isHovered.value = false\r\n  tooltipPosition.value = null\r\n}\r\n\r\nfunction handleCellKeyDown(event: KeyboardEvent) {\r\n  // When cell is selected but NOT editing, Enter key enters edit mode\r\n  if (!isEditing.value && props.isSelected && event.key === 'Enter' && !props.column.isReadOnly) {\r\n    event.preventDefault()\r\n    enterEditMode()\r\n  }\r\n}\r\n\r\nasync function enterEditMode() {\r\n  if (props.column.isReadOnly) return\r\n\r\n  console.log('[DataGridCell] enterEditMode:', {\r\n    rowId: props.cell.rowId,\r\n    columnName: props.cell.columnName,\r\n    currentCellValue: props.cell.value,\r\n    storingAsOriginal: props.cell.value\r\n  })\r\n\r\n  // CRITICAL FIX: Store original value BEFORE editing starts\r\n  originalValue.value = props.cell.value\r\n\r\n  isEditing.value = true\r\n  editValue.value = props.cell.value\r\n\r\n  await nextTick()\r\n  inputRef.value?.focus()\r\n  inputRef.value?.select()\r\n}\r\n\r\nasync function handleDoubleClick() {\r\n  console.log('[DataGridCell] handleDoubleClick:', {\r\n    rowId: props.cell.rowId,\r\n    columnName: props.cell.columnName,\r\n    currentValue: props.cell.value\r\n  })\r\n  enterEditMode()\r\n}\r\n\r\n// Get all cells from the current row (for empty row check)\r\nfunction getRowCells() {\r\n  const row = store.rows.find((r: GridRow) => r.rowId === props.cell.rowId)\r\n  if (!row) return undefined\r\n\r\n  // Return array of { columnName, value } for all cells\r\n  return row.cells.map((c: GridCell) => ({ columnName: c.columnName, value: c.value }))\r\n}\r\n\r\nfunction handleInput() {\r\n  console.log('[DataGridCell] handleInput:', {\r\n    rowId: props.cell.rowId,\r\n    columnName: props.cell.columnName,\r\n    newValue: editValue.value,\r\n    autoValidate: store.config.autoValidate\r\n  })\r\n\r\n  // Throttled validation (300ms) with row cells for empty check - only if autoValidate is enabled\r\n  if (store.config.autoValidate && store.config.enableValidation) {\r\n    const rowCells = getRowCells()\r\n    validateCellThrottled(props.cell.rowId, props.cell.columnName, editValue.value, rowCells)\r\n  }\r\n\r\n  // Emit input event for AutoRowHeight real-time adjustment\r\n  emit('cellInput', props.cell.rowId, props.cell.columnName, editValue.value)\r\n}\r\n\r\nfunction confirmEdit() {\r\n  console.log('[DataGridCell] confirmEdit:', {\r\n    rowId: props.cell.rowId,\r\n    columnName: props.cell.columnName,\r\n    confirmedValue: editValue.value,\r\n    originalWas: originalValue.value\r\n  })\r\n\r\n  // CRITICAL FIX: Set flag to prevent handleBlur from canceling during confirm\r\n  isConfirming.value = true\r\n\r\n  // Re-validate immediately before confirming (ensures empty values are properly validated) - only if autoValidate is enabled\r\n  if (store.config.autoValidate && store.config.enableValidation) {\r\n    const rowCells = getRowCells()\r\n    validateCellThrottled(props.cell.rowId, props.cell.columnName, editValue.value, rowCells)\r\n  }\r\n\r\n  // Always commit edit, even if there's a validation error\r\n  // Validation errors will be shown but won't block input\r\n  emit('editComplete', props.cell.rowId, props.cell.columnName, editValue.value)\r\n  isEditing.value = false\r\n\r\n  // Clear stored original value after successful commit\r\n  originalValue.value = null\r\n\r\n  // Restore focus to the cell so pressing Enter again will re-enter edit mode\r\n  nextTick(() => {\r\n    try {\r\n      console.log(`[DataGridCell] confirmEdit - Attempting to restore focus to cell: rowId=${props.cell.rowId}, column=${props.cell.columnName}`)\r\n      if (cellRef.value) {\r\n        cellRef.value.focus()\r\n        console.log('[DataGridCell] confirmEdit - Focus restored successfully')\r\n      } else {\r\n        console.log('[DataGridCell] confirmEdit - WARNING: cellRef.value is null/undefined')\r\n      }\r\n    } catch (error) {\r\n      console.log(`[DataGridCell] confirmEdit - ERROR restoring focus: ${error}`)\r\n    }\r\n  })\r\n\r\n  // Reset confirming flag after a delay to ensure blur doesn't cancel\r\n  setTimeout(() => {\r\n    isConfirming.value = false\r\n  }, 100)\r\n}\r\n\r\nfunction handleKeyDown(event: KeyboardEvent) {\r\n  console.log('[DataGridCell] handleKeyDown:', {\r\n    rowId: props.cell.rowId,\r\n    columnName: props.cell.columnName,\r\n    key: event.key,\r\n    shift: event.shiftKey,\r\n    ctrl: event.ctrlKey\r\n  })\r\n\r\n  // ESC = cancel edit and restore original value\r\n  if (event.key === 'Escape') {\r\n    event.preventDefault()\r\n    event.stopPropagation()  // CRITICAL FIX: Prevent event from bubbling to parent div\r\n    cancelEdit()\r\n    return\r\n  }\r\n\r\n  // Enter without Shift = confirm edit\r\n  if (event.key === 'Enter' && !event.shiftKey) {\r\n    event.preventDefault()\r\n    event.stopPropagation()  // CRITICAL FIX: Prevent event from bubbling to parent div handleCellKeyDown\r\n    confirmEdit()\r\n    return\r\n  }\r\n\r\n  // Shift+Enter = new line (default textarea behavior, just allow it)\r\n  // Tab = insert tab character (prevent default tab navigation)\r\n  if (event.key === 'Tab') {\r\n    event.preventDefault()\r\n    const target = event.target as HTMLTextAreaElement\r\n    const start = target.selectionStart\r\n    const end = target.selectionEnd\r\n\r\n    // Insert tab character at cursor position\r\n    editValue.value = editValue.value.substring(0, start) + '\\t' + editValue.value.substring(end)\r\n\r\n    // Move cursor after the tab\r\n    nextTick(() => {\r\n      target.selectionStart = target.selectionEnd = start + 1\r\n    })\r\n  }\r\n}\r\n\r\nfunction cancelEdit() {\r\n  console.log('[DataGridCell] cancelEdit:', {\r\n    rowId: props.cell.rowId,\r\n    columnName: props.cell.columnName,\r\n    originalValue: originalValue.value,\r\n    currentEditValue: editValue.value\r\n  })\r\n\r\n  // CRITICAL FIX: Restore original value from BEFORE editing started\r\n  editValue.value = originalValue.value\r\n  isEditing.value = false\r\n\r\n  // CRITICAL FIX: Emit editComplete with original value to restore it in the store\r\n  emit('editComplete', props.cell.rowId, props.cell.columnName, originalValue.value)\r\n\r\n  // Re-validate with original value - only if autoValidate is enabled\r\n  if (store.config.autoValidate && store.config.enableValidation) {\r\n    const rowCells = getRowCells()\r\n    validateCellThrottled(props.cell.rowId, props.cell.columnName, originalValue.value, rowCells)\r\n  }\r\n\r\n  // Clear stored original value\r\n  originalValue.value = null\r\n\r\n  // Restore focus to the cell so pressing Enter again will re-enter edit mode\r\n  nextTick(() => {\r\n    try {\r\n      console.log(`[DataGridCell] cancelEdit - Attempting to restore focus to cell: rowId=${props.cell.rowId}, column=${props.cell.columnName}`)\r\n      if (cellRef.value) {\r\n        cellRef.value.focus()\r\n        console.log('[DataGridCell] cancelEdit - Focus restored successfully')\r\n      } else {\r\n        console.log('[DataGridCell] cancelEdit - WARNING: cellRef.value is null/undefined')\r\n      }\r\n    } catch (error) {\r\n      console.log(`[DataGridCell] cancelEdit - ERROR restoring focus: ${error}`)\r\n    }\r\n  })\r\n}\r\n\r\nfunction handleBlur() {\r\n  console.log('[DataGridCell] handleBlur:', {\r\n    rowId: props.cell.rowId,\r\n    columnName: props.cell.columnName,\r\n    isEditing: isEditing.value,\r\n    isConfirming: isConfirming.value\r\n  })\r\n\r\n  // CRITICAL FIX: Don't cancel if we're in the process of confirming (prevents race condition)\r\n  // Cancel edit immediately on blur (clicking away or focus loss) ONLY if not confirming\r\n  if (isEditing.value && !isConfirming.value) {\r\n    cancelEdit()\r\n  }\r\n}\r\n\r\nfunction handleContextMenu(event: MouseEvent) {\r\n  // Only show context menu with Ctrl key pressed\r\n  if (!event.ctrlKey) {\r\n    return\r\n  }\r\n\r\n  event.preventDefault()\r\n\r\n  // Calculate selected row IDs and indices (like original component)\r\n  const selectedRowData = new Map<string, number>() // rowId -> rowIndex\r\n  store.selectedCells.forEach((cellKey: string) => {\r\n    const [rowId] = cellKey.split(':')\r\n    const row = store.rows.find((r: GridRow) => r.rowId === rowId)\r\n    if (row) {\r\n      selectedRowData.set(rowId, row.rowIndex)\r\n    }\r\n  })\r\n\r\n  const selectedRowCount = selectedRowData.size\r\n  const selectedRowIndices = Array.from(selectedRowData.values())\r\n\r\n  // Find min/max row indices (like original WinUI component)\r\n  const minRowIndex = selectedRowIndices.length > 0 ? Math.min(...selectedRowIndices) : 0\r\n  const maxRowIndex = selectedRowIndices.length > 0 ? Math.max(...selectedRowIndices) : 0\r\n\r\n  // Get rowId for min/max indices\r\n  const minRow = store.rows.find((r: GridRow) => r.rowIndex === minRowIndex)\r\n  const maxRow = store.rows.find((r: GridRow) => r.rowIndex === maxRowIndex)\r\n\r\n  ContextMenu.showContextMenu({\r\n    x: event.x,\r\n    y: event.y,\r\n    items: [\r\n      {\r\n        label: 'Copy',\r\n        icon: '📋',\r\n        onClick: () => emit('copy'),\r\n        disabled: !props.isSelected\r\n      },\r\n      {\r\n        label: 'Cut',\r\n        icon: '✂️',\r\n        onClick: () => emit('cut'),\r\n        disabled: !props.isSelected || props.column.isReadOnly\r\n      },\r\n      {\r\n        label: 'Paste',\r\n        icon: '📄',\r\n        onClick: () => emit('paste'),\r\n        disabled: props.column.isReadOnly\r\n      },\r\n      { divided: true },\r\n      {\r\n        label: 'Delete',\r\n        icon: '🗑️',\r\n        onClick: () => emit('delete'),\r\n        disabled: !props.isSelected || props.column.isReadOnly\r\n      },\r\n      { divided: true },\r\n      {\r\n        label: `Insert ${selectedRowCount} row(s) above`,\r\n        icon: '⬆️',\r\n        // Insert above the MINIMUM selected row index\r\n        onClick: () => emit('insertAbove', minRow?.rowId || props.cell.rowId, selectedRowCount || 1),\r\n        disabled: props.column.isReadOnly\r\n      },\r\n      {\r\n        label: `Insert ${selectedRowCount} row(s) below`,\r\n        icon: '⬇️',\r\n        // Insert below the MAXIMUM selected row index\r\n        onClick: () => emit('insertBelow', maxRow?.rowId || props.cell.rowId, selectedRowCount || 1),\r\n        disabled: props.column.isReadOnly\r\n      }\r\n    ]\r\n  })\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.grid-cell {\r\n  position: relative;\r\n  padding: 5px 8px;  /* Increased from 4px to 5px for better spacing */\r\n  border-right: 1px solid var(--dg-border-cell, #e0e0e0);\r\n  display: flex; /* Flex for internal content layout only */\r\n  align-items: flex-start;\r\n  background-color: var(--dg-cell-bg, #ffffff);\r\n  color: var(--dg-cell-fg, #212529);\r\n  font-size: 14px;  /* CRITICAL: Must match useAutoRowHeight config.fontSize */\r\n  height: 100%;\r\n  min-height: 100%;\r\n  box-sizing: border-box;\r\n  overflow: hidden; /* Prevent content from breaking grid layout */\r\n  /* Prevent browser text selection during drag selection */\r\n  user-select: none;\r\n  -webkit-user-select: none;\r\n  -moz-user-select: none;\r\n  -ms-user-select: none;\r\n}\r\n\r\n.grid-cell:hover {\r\n  background-color: var(--dg-cell-hover-bg, #f8f9fa);\r\n  color: var(--dg-cell-hover-fg, #212529);\r\n}\r\n\r\n.cell--selected {\r\n  /* Selection only changes background, not border - border is preserved from validation/other states */\r\n  background-color: var(--dg-cell-focused-bg, #bbdefb);  /* More prominent blue (was #e3f2fd) */\r\n  color: var(--dg-cell-focused-fg, #0d6efd);\r\n  /* No border - let other states (validation, etc.) control border/outline */\r\n}\r\n\r\n/* Prevent hover from removing selection background */\r\n.cell--selected:hover {\r\n  background-color: var(--dg-cell-focused-bg, #bbdefb);  /* Keep selection background on hover */\r\n  color: var(--dg-cell-focused-fg, #0d6efd);\r\n}\r\n\r\n.cell--editing {\r\n  padding: 0;\r\n}\r\n\r\n.cell--validation-error {\r\n  /* Use OUTLINE instead of BORDER to prevent layout shift (outline doesn't affect box model) */\r\n  outline: 2px solid var(--dg-validation-error-border, #ff4444);\r\n  outline-offset: -2px; /* Draw outline inside the cell */\r\n  background-color: var(--dg-validation-error-bg, #ffebee);\r\n  color: var(--dg-validation-error-fg, #c62828);\r\n  border: none;\r\n}\r\n\r\n.cell--validation-warning {\r\n  /* Use OUTLINE instead of BORDER to prevent layout shift (outline doesn't affect box model) */\r\n  /* DEFAULT: Red border same as error (user requested unified color) */\r\n  outline: 2px solid var(--dg-validation-warning-border, #ff4444);\r\n  outline-offset: -2px; /* Draw outline inside the cell */\r\n  /* DEFAULT: Red background same as error (user requested unified color) */\r\n  background-color: var(--dg-validation-warning-bg, #ffebee);\r\n  color: var(--dg-validation-warning-fg, #c62828);\r\n  border: none;\r\n}\r\n\r\n/* CRITICAL: When cell is BOTH selected AND has validation error, selection background overrides validation background */\r\n/* This makes selection visible on validation cells while keeping the red outline */\r\n.cell--selected.cell--validation-error,\r\n.cell--selected.cell--validation-warning {\r\n  background-color: var(--dg-cell-focused-bg, #bbdefb) !important;  /* More prominent blue */\r\n  /* Keep validation outline and color */\r\n}\r\n\r\n/* Prevent hover from removing selection background on validation cells */\r\n.cell--selected.cell--validation-error:hover,\r\n.cell--selected.cell--validation-warning:hover {\r\n  background-color: var(--dg-cell-focused-bg, #bbdefb) !important;  /* Keep selection background on hover */\r\n}\r\n\r\n.cell--readonly {\r\n  background-color: var(--dg-cell-readonly-bg, #f5f5f5);\r\n  color: var(--dg-cell-readonly-fg, #495057);\r\n  cursor: not-allowed;\r\n}\r\n\r\n.cell-text {\r\n  flex: 1;\r\n  min-width: 0; /* CRITICAL: Allow flex item to shrink below content size for text wrapping */\r\n  line-height: 1.5;\r\n  /* Default: no wrapping, overflow hidden (when AutoRowHeight is OFF) */\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  /* Prevent browser text selection */\r\n  user-select: none;\r\n  -webkit-user-select: none;\r\n  -moz-user-select: none;\r\n  -ms-user-select: none;\r\n}\r\n\r\n/* When AutoRowHeight is enabled, allow text wrapping */\r\n.cell--auto-height .cell-text {\r\n  white-space: pre-wrap !important;\r\n  word-wrap: break-word !important;\r\n  overflow-wrap: break-word !important;\r\n  overflow: visible !important;\r\n  text-overflow: clip !important;\r\n}\r\n\r\n/* When cell has newlines but AutoRowHeight is OFF - wrap ONLY at \\n, not at spaces */\r\n.cell--has-newlines .cell-text {\r\n  white-space: pre !important;\r\n  overflow: visible !important;\r\n  text-overflow: clip !important;\r\n}\r\n\r\n.cell-input {\r\n  width: 100%;\r\n  height: 100%;\r\n  border: none;\r\n  outline: none;\r\n  padding: 4px 8px;\r\n  font-family: inherit;\r\n  font-size: inherit;\r\n  background-color: var(--dg-cell-focused-bg, #e3f2fd);\r\n  color: var(--dg-cell-focused-fg, #0d6efd);\r\n  resize: none;\r\n  /* Hide overflow so row expands instead of showing scrollbars */\r\n  overflow: hidden;\r\n  overflow-x: hidden;\r\n  overflow-y: hidden;\r\n  /* CRITICAL: Enable text wrapping */\r\n  white-space: pre-wrap;\r\n  word-wrap: break-word;\r\n  overflow-wrap: break-word;\r\n  /* Remove scrollbars completely - all browsers */\r\n  scrollbar-width: none; /* Firefox */\r\n  -ms-overflow-style: none; /* IE/Edge */\r\n  /* Remove native appearance */\r\n  -webkit-appearance: none;\r\n  -moz-appearance: none;\r\n  appearance: none;\r\n}\r\n\r\n/* Hide scrollbars for webkit browsers */\r\n.cell-input::-webkit-scrollbar {\r\n  display: none !important;\r\n  width: 0 !important;\r\n  height: 0 !important;\r\n}\r\n\r\n/* Remove any browser-specific controls */\r\n.cell-input::-webkit-resizer,\r\n.cell-input::-webkit-scrollbar-corner,\r\n.cell-input::-webkit-scrollbar-track,\r\n.cell-input::-webkit-scrollbar-thumb,\r\n.cell-input::-webkit-scrollbar-button {\r\n  display: none !important;\r\n}\r\n\r\n/* Remove Mozilla scrollbar buttons */\r\n.cell-input::-moz-scrollbar-button {\r\n  display: none !important;\r\n}\r\n\r\n.validation-tooltip {\r\n  /* position: fixed is set inline via :style */\r\n  color: white;\r\n  padding: 4px 8px;\r\n  border-radius: 4px;\r\n  font-size: 12px;\r\n  white-space: nowrap;\r\n  z-index: 10000;  /* Very high z-index since it's in body */\r\n  pointer-events: none;\r\n  max-width: 300px;\r\n  white-space: normal;\r\n  transform: translateY(-100%);  /* Position above the calculated point */\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);  /* Add shadow for visibility */\r\n}\r\n\r\n.validation-tooltip--error {\r\n  background: var(--dg-validation-error-fg, #ff4444);\r\n}\r\n\r\n.validation-tooltip--warning {\r\n  background: var(--dg-validation-warning-fg, #ff9800);\r\n}\r\n\r\n/* Search highlighting */\r\n:deep(.search-highlight) {\r\n  background-color: var(--dg-search-highlight-bg, #ffeb3b);\r\n  color: var(--dg-search-highlight-fg, #000);\r\n  font-weight: 500;\r\n  padding: 0 2px;\r\n  border-radius: 2px;\r\n}\r\n</style>\r\n","<template>\r\n  <div\r\n    class=\"special-cell\"\r\n    :class=\"specialCellClasses\"\r\n    :style=\"cellStyle\"\r\n    @mousedown.stop\r\n    @mouseenter.stop\r\n  >\r\n    <!-- Row Number Column -->\r\n    <span v-if=\"specialType === 'RowNumber'\" class=\"row-number\">\r\n      {{ rowNumber }}\r\n    </span>\r\n\r\n    <!-- Checkbox Column -->\r\n    <input\r\n      v-else-if=\"specialType === 'Checkbox'\"\r\n      type=\"checkbox\"\r\n      class=\"checkbox-input\"\r\n      :checked=\"isChecked\"\r\n      @change=\"handleCheckboxChange\"\r\n    />\r\n\r\n    <!-- Validation Alerts Column -->\r\n    <div\r\n      v-else-if=\"specialType === 'ValidationAlerts'\"\r\n      class=\"validation-alerts\"\r\n      :class=\"{ 'has-errors': hasValidationErrors || hasValidationWarnings }\"\r\n      :title=\"validationMessage\"\r\n    >\r\n      <span class=\"validation-message\">\r\n        {{ validationMessage }}\r\n      </span>\r\n    </div>\r\n\r\n    <!-- Delete Row Button -->\r\n    <button\r\n      v-else-if=\"specialType === 'DeleteRow'\"\r\n      class=\"delete-button\"\r\n      :disabled=\"isDeleting\"\r\n      @click=\"handleDelete\"\r\n      title=\"Delete row\"\r\n    >\r\n      🗑️\r\n    </button>\r\n\r\n    <!-- Insert Row Button -->\r\n    <button\r\n      v-else-if=\"specialType === 'InsertRow'\"\r\n      class=\"insert-button\"\r\n      @click=\"handleInsert\"\r\n      title=\"Insert new row\"\r\n    >\r\n      ➕\r\n    </button>\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { ref, computed, inject, watch } from 'vue'\r\nimport type { GridColumn } from '@/stores/dataGridStore'\r\n\r\nexport type SpecialColumnType = 'RowNumber' | 'Checkbox' | 'ValidationAlerts' | 'DeleteRow' | 'InsertRow'\r\n\r\nconst props = defineProps<{\r\n  specialType: SpecialColumnType\r\n  rowId: string\r\n  rowIndex: number\r\n  column: GridColumn\r\n  isChecked?: boolean\r\n}>()\r\n\r\nconst emit = defineEmits<{\r\n  checkboxChange: [rowId: string, checked: boolean]\r\n  deleteRow: [rowId: string]\r\n  insertRow: [afterRowId: string]\r\n}>()\r\n\r\n// Debug: Watch isChecked prop changes\r\nwatch(() => props.isChecked, (newVal, oldVal) => {\r\n  if (props.specialType === 'Checkbox') {\r\n    console.log('[SpecialColumnCell] isChecked prop changed:', { rowId: props.rowId, newVal, oldVal })\r\n  }\r\n}, { immediate: true })\r\n\r\n// Inject validation from parent DataGrid component\r\nconst validation = inject('validation', null) as ReturnType<typeof import('@/composables/useValidation').useValidation> | null\r\n// validationErrors is now reactive<Record<>> instead of ref<Map<>>\r\nconst validationErrors = validation?.validationErrors || {}\r\n\r\nconst isDeleting = ref(false)\r\nconst lastDeleteClick = ref(0)\r\nconst DELETE_DEBOUNCE_MS = 300\r\n\r\nconst rowNumber = computed(() => props.rowIndex + 1)\r\n\r\nconst validationErrorsForRow = computed(() => {\r\n  return validationErrors[props.rowId] || []\r\n})\r\n\r\nconst hasValidationErrors = computed(() => {\r\n  return validationErrorsForRow.value.some((e: any) => e.severity === 'Error' || e.severity === 'Critical')\r\n})\r\n\r\nconst hasValidationWarnings = computed(() => {\r\n  return validationErrorsForRow.value.some((e: any) => e.severity === 'Warning')\r\n})\r\n\r\n// Format validation messages like in original component: \"columnName: message; columnName2: message2\"\r\nconst validationMessage = computed(() => {\r\n  const allErrors = validationErrorsForRow.value\r\n  if (allErrors.length === 0) return ''\r\n\r\n  // Join all errors with semicolon (like original component)\r\n  return allErrors\r\n    .map((e: any) => `${e.columnName}: ${e.message}`)\r\n    .join('; ')\r\n})\r\n\r\nconst specialCellClasses = computed(() => ({\r\n  'special-cell--row-number': props.specialType === 'RowNumber',\r\n  'special-cell--checkbox': props.specialType === 'Checkbox',\r\n  'special-cell--validation': props.specialType === 'ValidationAlerts',\r\n  'special-cell--delete': props.specialType === 'DeleteRow',\r\n  'special-cell--insert': props.specialType === 'InsertRow',\r\n}))\r\n\r\nconst cellStyle = computed(() => {\r\n  // CSS Grid handles column widths via grid-template-columns\r\n  // No need for flexbox properties\r\n  return {}\r\n})\r\n\r\nfunction handleCheckboxChange(event: Event) {\r\n  const target = event.target as HTMLInputElement\r\n  console.log('[SpecialColumnCell] Checkbox change:', { rowId: props.rowId, checked: target.checked, currentProp: props.isChecked })\r\n  emit('checkboxChange', props.rowId, target.checked)\r\n}\r\n\r\nfunction handleDelete() {\r\n  // Debounce protection - prevent rapid clicks\r\n  const now = Date.now()\r\n  if (now - lastDeleteClick.value < DELETE_DEBOUNCE_MS) {\r\n    return\r\n  }\r\n  lastDeleteClick.value = now\r\n\r\n  if (confirm('Are you sure you want to delete this row?')) {\r\n    isDeleting.value = true\r\n    emit('deleteRow', props.rowId)\r\n\r\n    // Reset deleting state after 1 second\r\n    setTimeout(() => {\r\n      isDeleting.value = false\r\n    }, 1000)\r\n  }\r\n}\r\n\r\nfunction handleInsert() {\r\n  emit('insertRow', props.rowId)\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.special-cell {\r\n  position: relative;\r\n  padding: 4px 8px;\r\n  border-right: 1px solid var(--dg-border-cell, #e0e0e0);\r\n  display: flex;\r\n  align-items: flex-start; /* Changed from center to flex-start for multi-line content */\r\n  justify-content: center;\r\n  background-color: var(--dg-special-rownumber-bg, #f5f5f5);\r\n  height: 100%;\r\n  min-height: 100%;\r\n  width: 100%; /* CRITICAL: Fill grid track width */\r\n  max-width: 100%; /* CRITICAL: Never exceed grid track width */\r\n  box-sizing: border-box;\r\n  overflow: hidden; /* CRITICAL: Hide all overflow */\r\n  overflow-x: hidden !important; /* Prevent horizontal overflow */\r\n  overflow-y: hidden !important; /* Hide scrollbars */\r\n  /* Remove all scrollbars - all browsers */\r\n  scrollbar-width: none; /* Firefox */\r\n  -ms-overflow-style: none; /* IE/Edge */\r\n}\r\n\r\n/* Hide scrollbars for webkit browsers */\r\n.special-cell::-webkit-scrollbar {\r\n  display: none !important;\r\n  width: 0 !important;\r\n  height: 0 !important;\r\n}\r\n\r\n/* Remove all webkit scrollbar parts */\r\n.special-cell::-webkit-scrollbar-button,\r\n.special-cell::-webkit-scrollbar-track,\r\n.special-cell::-webkit-scrollbar-thumb,\r\n.special-cell::-webkit-scrollbar-corner {\r\n  display: none !important;\r\n}\r\n\r\n/* Remove Mozilla scrollbar buttons */\r\n.special-cell::-moz-scrollbar-button {\r\n  display: none !important;\r\n}\r\n\r\n.special-cell--row-number {\r\n  color: var(--dg-special-rownumber-fg, #666);\r\n  font-weight: 500;\r\n  user-select: none;\r\n}\r\n\r\n.special-cell--checkbox {\r\n  cursor: pointer;\r\n  background-color: var(--dg-special-checkbox-bg, #ffffff);\r\n}\r\n\r\n.checkbox-input {\r\n  cursor: pointer;\r\n  width: 16px;\r\n  height: 16px;\r\n  border: 1px solid var(--dg-special-checkbox-border, #ced4da);\r\n}\r\n\r\n.special-cell--validation {\r\n  padding: 0;\r\n}\r\n\r\n.validation-alerts {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: flex-start;\r\n  width: 100%;\r\n  max-width: 100%; /* CRITICAL: Never exceed parent width */\r\n  height: 100%;\r\n  padding: 4px 8px;\r\n  overflow: hidden; /* CRITICAL: Clip content that exceeds bounds */\r\n  box-sizing: border-box; /* Include padding in width calculation */\r\n}\r\n\r\n.validation-alerts.has-errors {\r\n  background-color: var(--dg-special-validation-error-bg, #ffebee);\r\n}\r\n\r\n.validation-message {\r\n  font-size: 11px;\r\n  color: var(--dg-special-validation-error-fg, #c62828);\r\n  /* CHANGED: Allow text wrapping instead of ellipsis for AutoRowHeight support */\r\n  white-space: pre-wrap; /* Wrap text and preserve spaces */\r\n  word-wrap: break-word; /* Break long words */\r\n  overflow-wrap: break-word; /* Modern CSS property for word breaking */\r\n  display: block;\r\n  width: 100%;\r\n  max-width: 100%; /* CRITICAL: Never exceed parent width */\r\n  min-width: 0; /* CRITICAL: Allow flex item to shrink below content size */\r\n  line-height: 1.5; /* Match DataGridCell line-height */\r\n  box-sizing: border-box;\r\n}\r\n\r\n.validation-icon {\r\n  font-size: 18px;\r\n  cursor: help;\r\n}\r\n\r\n.validation-icon.error {\r\n  color: var(--dg-validation-error-fg, #ff4444);\r\n}\r\n\r\n.validation-icon.warning {\r\n  color: var(--dg-validation-warning-fg, #ff9800);\r\n}\r\n\r\n.delete-button,\r\n.insert-button {\r\n  border: none;\r\n  background: var(--dg-special-delete-bg, transparent);\r\n  color: var(--dg-special-delete-fg, #dc3545);\r\n  font-size: 16px;\r\n  cursor: pointer;\r\n  padding: 2px 4px;\r\n  transition: transform 0.1s, background-color 0.1s;\r\n  /* Remove browser default styling and controls */\r\n  -webkit-appearance: none !important;\r\n  -moz-appearance: none !important;\r\n  appearance: none !important;\r\n  -webkit-user-select: none;\r\n  -moz-user-select: none;\r\n  user-select: none;\r\n  outline: none;\r\n  /* Remove all scrollbars and arrows */\r\n  overflow: hidden !important;\r\n  scrollbar-width: none;\r\n  -ms-overflow-style: none;\r\n}\r\n\r\n/* Remove webkit scrollbar and all related controls from buttons */\r\n.delete-button::-webkit-scrollbar,\r\n.insert-button::-webkit-scrollbar {\r\n  display: none !important;\r\n  width: 0 !important;\r\n  height: 0 !important;\r\n}\r\n\r\n.delete-button::-webkit-scrollbar-button,\r\n.delete-button::-webkit-scrollbar-track,\r\n.delete-button::-webkit-scrollbar-thumb,\r\n.delete-button::-webkit-scrollbar-corner,\r\n.insert-button::-webkit-scrollbar-button,\r\n.insert-button::-webkit-scrollbar-track,\r\n.insert-button::-webkit-scrollbar-thumb,\r\n.insert-button::-webkit-scrollbar-corner {\r\n  display: none !important;\r\n}\r\n\r\n/* Remove webkit number input spinners (just in case) */\r\n.delete-button::-webkit-outer-spin-button,\r\n.delete-button::-webkit-inner-spin-button,\r\n.insert-button::-webkit-outer-spin-button,\r\n.insert-button::-webkit-inner-spin-button {\r\n  -webkit-appearance: none !important;\r\n  margin: 0 !important;\r\n  display: none !important;\r\n}\r\n\r\n/* Remove Mozilla scrollbar buttons */\r\n.delete-button::-moz-scrollbar-button,\r\n.insert-button::-moz-scrollbar-button {\r\n  display: none !important;\r\n}\r\n\r\n.delete-button:hover:not(:disabled) {\r\n  transform: scale(1.2);\r\n  background-color: var(--dg-special-delete-hover-bg, #ffebee);\r\n}\r\n\r\n.delete-button:disabled {\r\n  opacity: 0.5;\r\n  cursor: not-allowed;\r\n}\r\n\r\n.insert-button {\r\n  background: var(--dg-special-insert-bg, transparent);\r\n  color: var(--dg-special-insert-fg, #28a745);\r\n}\r\n\r\n.insert-button:hover {\r\n  transform: scale(1.2);\r\n  background-color: var(--dg-special-insert-hover-bg, #e8f5e9);\r\n  color: var(--dg-special-insert-hover-fg, #1b5e20);\r\n}\r\n\r\n.insert-button:active,\r\n.delete-button:active {\r\n  transform: scale(0.95);\r\n}\r\n</style>\r\n","<template>\r\n  <div class=\"grid-row\" :style=\"{ height: row.height + 'px', gridTemplateColumns }\">\r\n    <template v-for=\"column in columns\" :key=\"`${row.rowId}:${column.name}`\">\r\n      <!-- Special Column Cell -->\r\n      <SpecialColumnCell\r\n        v-if=\"column.specialType\"\r\n        :special-type=\"column.specialType\"\r\n        :row-id=\"row.rowId\"\r\n        :row-index=\"row.rowIndex\"\r\n        :column=\"column\"\r\n        :is-checked=\"column.specialType === 'Checkbox' ? isRowCheckedComputed : undefined\"\r\n        @checkbox-change=\"handleCheckboxChange\"\r\n        @delete-row=\"handleDeleteRow\"\r\n        @insert-row=\"handleInsertRow\"\r\n      />\r\n\r\n      <!-- Regular Data Cell -->\r\n      <DataGridCell\r\n        v-else\r\n        :cell=\"getCellForColumn(column.name)\"\r\n        :column=\"column\"\r\n        :is-selected=\"store.isCellSelected(row.rowId, column.name)\"\r\n        :grid-id=\"gridId\"\r\n        @edit-complete=\"handleEditComplete\"\r\n        @cell-input=\"handleCellInput\"\r\n        @insert-above=\"handleInsertAbove\"\r\n        @insert-below=\"handleInsertBelow\"\r\n      />\r\n    </template>\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { computed } from 'vue'\r\nimport DataGridCell from './DataGridCell.vue'\r\nimport SpecialColumnCell from './SpecialColumnCell.vue'\r\nimport { useDataGridStore, type GridRow, type GridColumn, type GridCell } from '@/stores/dataGridStore'\r\n\r\nconst props = defineProps<{\r\n  row: GridRow\r\n  columns: GridColumn[]\r\n  gridTemplateColumns: string\r\n  gridId?: string\r\n}>()\r\n\r\nconst emit = defineEmits<{\r\n  cellEditComplete: [rowId: string, columnName: string, value: any]\r\n  cellInput: [rowId: string, columnName: string, value: any]\r\n  checkboxChange: [rowId: string, checked: boolean]\r\n  deleteRow: [rowId: string]\r\n  insertRow: [afterRowId: string]\r\n  insertAbove: [rowId: string, count: number]\r\n  insertBelow: [rowId: string, count: number]\r\n}>()\r\n\r\nconst store = useDataGridStore(props.gridId)()\r\n\r\n// Log checkbox state for debugging\r\nconst isRowCheckedComputed = computed(() => {\r\n  const checked = store.isRowChecked(props.row.rowId)\r\n  console.log('[DataGridRow] Row checked state:', { rowId: props.row.rowId, checked })\r\n  return checked\r\n})\r\n\r\nfunction getCellForColumn(columnName: string): GridCell {\r\n  const cell = props.row.cells.find(c => c.columnName === columnName)\r\n\r\n  // If cell doesn't exist for this column, return a placeholder\r\n  if (!cell) {\r\n    return {\r\n      rowId: props.row.rowId,\r\n      columnName: columnName,\r\n      value: null,\r\n      isSelected: false,\r\n      isValidationError: false\r\n    }\r\n  }\r\n\r\n  return cell\r\n}\r\n\r\nfunction handleEditComplete(rowId: string, columnName: string, value: any) {\r\n  emit('cellEditComplete', rowId, columnName, value)\r\n}\r\n\r\nfunction handleCellInput(rowId: string, columnName: string, value: any) {\r\n  emit('cellInput', rowId, columnName, value)\r\n}\r\n\r\nfunction handleCheckboxChange(rowId: string, checked: boolean) {\r\n  emit('checkboxChange', rowId, checked)\r\n}\r\n\r\nfunction handleDeleteRow(rowId: string) {\r\n  emit('deleteRow', rowId)\r\n}\r\n\r\nfunction handleInsertRow(afterRowId: string) {\r\n  emit('insertRow', afterRowId)\r\n}\r\n\r\nfunction handleInsertAbove(rowId: string, count: number) {\r\n  emit('insertAbove', rowId, count)\r\n}\r\n\r\nfunction handleInsertBelow(rowId: string, count: number) {\r\n  emit('insertBelow', rowId, count)\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.grid-row {\r\n  display: grid; /* Changed from flex to grid for perfect column alignment */\r\n  grid-auto-rows: 100%; /* ✅ Grid tracks fill 100% of row height */\r\n  /* grid-template-columns applied via inline style from parent */\r\n  border-bottom: 1px solid #e0e0e0;\r\n  width: auto; /* ✅ FIX: Allow row to grow based on minWidth for horizontal scroll */\r\n  /* REMOVED: max-width: 100% - was preventing horizontal scroll from working correctly */\r\n  /* REMOVED min-width: fit-content - this was causing each row to calculate 1fr differently! */\r\n  /* All rows MUST have identical width for 1fr to resolve to same pixels */\r\n}\r\n\r\n.grid-row:hover {\r\n  background-color: #fafafa;\r\n}\r\n</style>\r\n","<template>\n  <div\n    ref=\"placeholderRef\"\n    class=\"lazy-row-placeholder\"\n    :style=\"{ height: row.height + 'px' }\"\n  >\n    <DataGridRow\n      v-if=\"isVisible\"\n      :row=\"row\"\n      :columns=\"columns\"\n      :grid-template-columns=\"gridTemplateColumns\"\n      :min-table-width=\"minTableWidth\"\n      :grid-id=\"gridId\"\n      v-bind=\"$attrs\"\n    />\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, computed, inject, onMounted, onUnmounted, type Ref } from 'vue'\nimport DataGridRow from './DataGridRow.vue'\nimport type { GridRow, GridColumn } from '@/stores/dataGridStore'\n\nconst props = defineProps<{\n  row: GridRow\n  columns: GridColumn[]\n  gridTemplateColumns: string\n  minTableWidth?: number\n  gridId?: string\n}>()\n\ndefineOptions({\n  inheritAttrs: false  // Forward attrs to DataGridRow\n})\n\nconst placeholderRef = ref<HTMLDivElement | null>(null)\n\n// ✅ RIEŠENIE #1A: Inject shared observer and visibility map as Refs from parent DataGrid\n// ✅ KAŽDÁ DataGrid inštancia poskytuje SVOJ observer cez provide()\n// ✅ LazyRow injektuje z NAJBLIŽŠIEHO parenta (svojho DataGrid)\n// ✅ NEMÔŽE dôjsť k cross-contamination medzi inštanciami\nconst observer = inject<Ref<IntersectionObserver | null>>('intersectionObserver')\nconst rowVisibility = inject<Ref<Map<string, boolean>>>('rowVisibility')\n\n// ✅ RIEŠENIE #2: Enhanced error handling with defensive checks\n// ✅ RIEŠENIE #1C: Empty rows always visible (no lazy rendering needed)\n// Compute visibility from shared map using .value to access the Ref\nconst isVisible = computed(() => {\n  // ✅ RIEŠENIE #1C: Check if row is empty (all cells null/empty)\n  const isEmpty = props.row.cells.every(cell =>\n    cell.value === null || cell.value === undefined || cell.value === ''\n  )\n\n  // Empty rows always visible - no lazy rendering needed for empty rows\n  if (isEmpty) {\n    return true\n  }\n\n  // Defensive check for null/undefined\n  if (!rowVisibility || !rowVisibility.value) {\n    console.warn('[LazyRow] rowVisibility not available, rendering by default for row:', props.row.rowId)\n    return true  // Fallback: render by default if map not available\n  }\n\n  // ✅ RIEŠENIE #1C: Default to true for non-empty rows (visible until proven invisible)\n  const visibility = rowVisibility.value.get(props.row.rowId) ?? true\n  return visibility\n})\n\nonMounted(() => {\n  // ✅ Use observer.value to access the IntersectionObserver\n  if (!observer || !observer.value || !placeholderRef.value) return\n\n  // Set rowId as data attribute for observer callback\n  placeholderRef.value.dataset.rowId = props.row.rowId\n\n  // Register with shared observer\n  observer.value.observe(placeholderRef.value)\n})\n\nonUnmounted(() => {\n  // ✅ Use observer.value and rowVisibility.value\n  if (!observer || !observer.value || !placeholderRef.value) return\n\n  // Unregister from shared observer\n  observer.value.unobserve(placeholderRef.value)\n\n  // Clean up visibility map\n  if (rowVisibility && rowVisibility.value) {\n    rowVisibility.value.delete(props.row.rowId)\n  }\n})\n</script>\n\n<style scoped>\n.lazy-row-placeholder {\n  /* Placeholder preserves space for unrendered row */\n  width: 100%;\n}\n</style>\n","<template>\r\n  <div class=\"pagination\">\r\n    <button @click=\"emit('pageChange', 1)\" :disabled=\"currentPage === 1\">\r\n      First\r\n    </button>\r\n    <button @click=\"emit('pageChange', currentPage - 1)\" :disabled=\"currentPage === 1\">\r\n      Previous\r\n    </button>\r\n\r\n    <!-- Individual page number buttons -->\r\n    <div class=\"page-numbers\">\r\n      <button\r\n        v-for=\"page in visiblePages\"\r\n        :key=\"page\"\r\n        :class=\"{ 'page-number': true, 'active': page === currentPage }\"\r\n        @click=\"emit('pageChange', page)\"\r\n      >\r\n        {{ page }}\r\n      </button>\r\n    </div>\r\n\r\n    <button @click=\"emit('pageChange', currentPage + 1)\" :disabled=\"currentPage === totalPages\">\r\n      Next\r\n    </button>\r\n    <button @click=\"emit('pageChange', totalPages)\" :disabled=\"currentPage === totalPages\">\r\n      Last\r\n    </button>\r\n\r\n    <span class=\"page-info\">\r\n      ({{ totalRows }} rows)\r\n    </span>\r\n\r\n    <select :value=\"pageSize\" @change=\"handlePageSizeChange\">\r\n      <option v-for=\"size in sortedPageSizeOptions\" :key=\"size\" :value=\"size\">{{ size }}</option>\r\n    </select>\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { computed } from 'vue'\r\n\r\nconst props = withDefaults(defineProps<{\r\n  currentPage: number\r\n  pageSize: number\r\n  totalRows: number\r\n  pageSizeOptions?: number[]\r\n}>(), {\r\n  pageSizeOptions: () => [50, 100, 200, 500]\r\n})\r\n\r\nconst emit = defineEmits<{\r\n  pageChange: [page: number]\r\n  pageSizeChange: [size: number]\r\n}>()\r\n\r\n// Sort options from smallest to largest for display\r\n// If current pageSize is not in the options, include it (but only while it's the current value)\r\nconst sortedPageSizeOptions = computed(() => {\r\n  const options = [...props.pageSizeOptions]\r\n\r\n  // Add current pageSize if not in options (will be removed from list once user changes to another value)\r\n  if (!options.includes(props.pageSize)) {\r\n    options.push(props.pageSize)\r\n  }\r\n\r\n  return options.sort((a, b) => a - b)\r\n})\r\n\r\nconst totalPages = computed(() => Math.ceil(props.totalRows / props.pageSize))\r\n\r\n// Generate visible page numbers - intelligently distribute max 20 pages across range\r\n// If total <= 20: show all pages (1 2 3 4 ... 20)\r\n// If total > 20: distribute evenly (1 6 11 16 21 26 ... 96)\r\n// Always include: first, last, and current page\r\nconst visiblePages = computed(() => {\r\n  const total = totalPages.value\r\n  const current = props.currentPage\r\n  const maxVisible = 20\r\n\r\n  if (total <= maxVisible) {\r\n    // Show all pages if 20 or fewer\r\n    const pages: number[] = []\r\n    for (let i = 1; i <= total; i++) {\r\n      pages.push(i)\r\n    }\r\n    return pages\r\n  }\r\n\r\n  // Calculate step size to show ~20 pages distributed across range\r\n  const step = Math.ceil(total / maxVisible)\r\n  const pages = new Set<number>()\r\n\r\n  // Always add first and last page\r\n  pages.add(1)\r\n  pages.add(total)\r\n\r\n  // Always add current page and neighbors\r\n  pages.add(current)\r\n  if (current > 1) pages.add(current - 1)\r\n  if (current < total) pages.add(current + 1)\r\n\r\n  // Add evenly distributed pages\r\n  for (let i = 1; i <= total; i += step) {\r\n    pages.add(i)\r\n  }\r\n\r\n  // Convert to sorted array\r\n  return Array.from(pages).sort((a, b) => a - b)\r\n})\r\n\r\nfunction handlePageSizeChange(event: Event) {\r\n  const target = event.target as HTMLSelectElement\r\n  emit('pageSizeChange', Number(target.value))\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.pagination {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  padding: 12px;\r\n  background-color: var(--dg-ui-pagination-bg, #f5f5f5);\r\n  color: var(--dg-ui-pagination-fg, #212529);\r\n  border-top: 1px solid var(--dg-ui-pagination-border, #ccc);\r\n}\r\n\r\nbutton {\r\n  padding: 6px 12px;\r\n  background-color: var(--dg-header-sort-indicator, #2196f3);\r\n  color: white;\r\n  border: none;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  font-size: 14px;\r\n}\r\n\r\nbutton:hover:not(:disabled) {\r\n  background-color: var(--dg-ui-pagination-button-hover-bg, #1976d2);\r\n}\r\n\r\nbutton:disabled {\r\n  background-color: var(--dg-cell-disabled-bg, #ccc);\r\n  color: var(--dg-cell-disabled-fg, #6c757d);\r\n  cursor: not-allowed;\r\n}\r\n\r\n.page-numbers {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 4px;\r\n  overflow-x: auto; /* Allow horizontal scroll if many pages */\r\n  max-width: 600px; /* Limit width, will scroll if more pages */\r\n  padding: 2px 0; /* Padding for scrollbar */\r\n}\r\n\r\n.page-number {\r\n  min-width: 36px;\r\n  padding: 6px 8px;\r\n  background-color: var(--dg-ui-pagination-bg, #ffffff);\r\n  color: var(--dg-ui-pagination-fg, #212529);\r\n  border: 1px solid var(--dg-ui-pagination-border, #ccc);\r\n  border-radius: 4px;\r\n}\r\n\r\n.page-number:hover:not(:disabled):not(.active) {\r\n  background-color: var(--dg-ui-pagination-button-hover-bg, #e3f2fd);\r\n  color: var(--dg-header-sort-indicator, #2196f3);\r\n}\r\n\r\n.page-number.active {\r\n  background-color: var(--dg-header-sort-indicator, #2196f3);\r\n  color: white;\r\n  font-weight: bold;\r\n  border-color: var(--dg-header-sort-indicator, #2196f3);\r\n}\r\n\r\n.page-info {\r\n  margin: 0 8px;\r\n  font-size: 14px;\r\n  color: var(--dg-ui-pagination-fg, #666);\r\n}\r\n\r\nselect {\r\n  padding: 6px 8px;\r\n  border: 1px solid var(--dg-ui-pagination-border, #ccc);\r\n  background-color: var(--dg-ui-pagination-bg, #ffffff);\r\n  color: var(--dg-ui-pagination-fg, #212529);\r\n  border-radius: 4px;\r\n  font-size: 14px;\r\n}\r\n</style>\r\n","<template>\r\n  <teleport to=\"body\">\r\n    <div v-if=\"visible\" class=\"filter-flyout-overlay\" @click.self=\"handleClose\">\r\n      <div class=\"filter-flyout\" :style=\"{ top: position.y + 'px', left: position.x + 'px' }\">\r\n        <!-- Header -->\r\n        <div class=\"filter-header\">\r\n          <h3 class=\"filter-title\">Filter: {{ columnName }}</h3>\r\n          <button class=\"close-button\" @click=\"handleClose\">✕</button>\r\n        </div>\r\n\r\n        <!-- Mode selector -->\r\n        <div class=\"filter-mode\">\r\n          <label>\r\n            <input\r\n              type=\"radio\"\r\n              :value=\"'checkbox'\"\r\n              v-model=\"filterMode\"\r\n              name=\"filterMode\"\r\n            />\r\n            <span>Checkbox</span>\r\n          </label>\r\n          <label>\r\n            <input\r\n              type=\"radio\"\r\n              :value=\"'regex'\"\r\n              v-model=\"filterMode\"\r\n              name=\"filterMode\"\r\n            />\r\n            <span>Regex</span>\r\n          </label>\r\n        </div>\r\n\r\n        <!-- Checkbox mode content -->\r\n        <div v-if=\"filterMode === 'checkbox'\" class=\"filter-content\">\r\n          <!-- Search box for filtering values -->\r\n          <input\r\n            v-model=\"searchText\"\r\n            type=\"text\"\r\n            class=\"filter-search\"\r\n            placeholder=\"Search values...\"\r\n          />\r\n\r\n          <!-- Select All / Deselect All buttons -->\r\n          <div class=\"filter-actions\">\r\n            <button class=\"action-button\" @click=\"selectAll\">Select All</button>\r\n            <button class=\"action-button\" @click=\"deselectAll\">Deselect All</button>\r\n          </div>\r\n\r\n          <!-- Values list with checkboxes -->\r\n          <div class=\"filter-values\">\r\n            <label\r\n              v-for=\"item in filteredValues\"\r\n              :key=\"item.value\"\r\n              class=\"value-item\"\r\n              :class=\"{ 'value-item--selected': item.isSelected }\"\r\n            >\r\n              <input\r\n                type=\"checkbox\"\r\n                v-model=\"item.isSelected\"\r\n                class=\"value-checkbox\"\r\n              />\r\n              <span class=\"value-text\">{{ item.displayText || displayText(item) }}</span>\r\n            </label>\r\n\r\n            <div v-if=\"filteredValues.length === 0\" class=\"no-values\">\r\n              No values found\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Regex mode content -->\r\n        <div v-else class=\"filter-content\">\r\n          <label class=\"regex-label\">\r\n            <span>Regex Pattern:</span>\r\n            <input\r\n              v-model=\"regexPattern\"\r\n              type=\"text\"\r\n              class=\"regex-input\"\r\n              placeholder=\"^test.*|.*example$\"\r\n            />\r\n          </label>\r\n\r\n          <div class=\"regex-help\">\r\n            <details>\r\n              <summary>Regex Examples</summary>\r\n              <ul>\r\n                <li><code>^test</code> - Starts with \"test\"</li>\r\n                <li><code>example$</code> - Ends with \"example\"</li>\r\n                <li><code>^test.*example$</code> - Starts with \"test\" and ends with \"example\"</li>\r\n                <li><code>test|example</code> - Contains \"test\" OR \"example\"</li>\r\n                <li><code>\\d{3}</code> - Contains exactly 3 digits</li>\r\n              </ul>\r\n            </details>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Footer buttons -->\r\n        <div class=\"filter-footer\">\r\n          <button class=\"footer-button footer-button--apply\" @click=\"handleApply\">\r\n            Apply Filter\r\n          </button>\r\n          <button class=\"footer-button footer-button--clear\" @click=\"handleClear\">\r\n            Clear Filter\r\n          </button>\r\n          <button class=\"footer-button footer-button--cancel\" @click=\"handleClose\">\r\n            Cancel\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </teleport>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { ref, computed, watch } from 'vue'\r\n\r\nexport interface FilterValue {\r\n  value: string\r\n  isSelected: boolean\r\n  count: number\r\n  displayText?: string\r\n}\r\n\r\nconst props = defineProps<{\r\n  visible: boolean\r\n  columnName: string\r\n  position: { x: number; y: number }\r\n  uniqueValues: FilterValue[]\r\n  currentMode?: 'checkbox' | 'regex'\r\n  currentPattern?: string\r\n}>()\r\n\r\nconst emit = defineEmits<{\r\n  close: []\r\n  applyCheckbox: [selectedValues: string[]]\r\n  applyRegex: [pattern: string]\r\n  clearFilter: []\r\n}>()\r\n\r\n// Local state\r\nconst filterMode = ref<'checkbox' | 'regex'>(props.currentMode || 'checkbox')\r\nconst searchText = ref('')\r\nconst regexPattern = ref(props.currentPattern || '')\r\nconst values = ref<FilterValue[]>([])\r\n\r\n// Watch for prop changes\r\nwatch(() => props.uniqueValues, (newValues) => {\r\n  values.value = newValues.map(v => ({ ...v }))\r\n}, { immediate: true, deep: true })\r\n\r\nwatch(() => props.currentPattern, (newPattern) => {\r\n  if (newPattern) {\r\n    regexPattern.value = newPattern\r\n  }\r\n}, { immediate: true })\r\n\r\n// Computed: filtered values based on search text\r\nconst filteredValues = computed(() => {\r\n  if (!searchText.value) {\r\n    return values.value\r\n  }\r\n\r\n  const search = searchText.value.toLowerCase()\r\n  return values.value.filter(item =>\r\n    item.value.toLowerCase().includes(search)\r\n  )\r\n})\r\n\r\n// Computed: display text with count\r\nconst displayText = (item: FilterValue) => {\r\n  return item.count > 0 ? `${item.value} (${item.count})` : item.value\r\n}\r\n\r\n// Methods\r\nfunction selectAll() {\r\n  filteredValues.value.forEach(item => {\r\n    item.isSelected = true\r\n  })\r\n}\r\n\r\nfunction deselectAll() {\r\n  filteredValues.value.forEach(item => {\r\n    item.isSelected = false\r\n  })\r\n}\r\n\r\nfunction handleApply() {\r\n  if (filterMode.value === 'checkbox') {\r\n    const selectedValues = values.value\r\n      .filter(item => item.isSelected)\r\n      .map(item => item.value)\r\n\r\n    emit('applyCheckbox', selectedValues)\r\n  } else {\r\n    emit('applyRegex', regexPattern.value)\r\n  }\r\n\r\n  handleClose()\r\n}\r\n\r\nfunction handleClear() {\r\n  emit('clearFilter')\r\n  handleClose()\r\n}\r\n\r\nfunction handleClose() {\r\n  emit('close')\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.filter-flyout-overlay {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background-color: rgba(0, 0, 0, 0.3);\r\n  z-index: 1000;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.filter-flyout {\r\n  position: fixed;\r\n  background-color: var(--dg-ui-dialog-bg, white);\r\n  color: var(--dg-ui-dialog-fg, #212529);\r\n  border: 1px solid var(--dg-ui-dialog-border, #ccc);\r\n  border-radius: 8px;\r\n  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);\r\n  min-width: 320px;\r\n  max-width: 480px;\r\n  max-height: 600px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  z-index: 1001;\r\n}\r\n\r\n.filter-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 12px 16px;\r\n  border-bottom: 1px solid var(--dg-border-cell, #e0e0e0);\r\n  background-color: var(--dg-header-bg, #f5f5f5);\r\n}\r\n\r\n.filter-title {\r\n  margin: 0;\r\n  font-size: 16px;\r\n  font-weight: 600;\r\n  color: var(--dg-header-fg, #212529);\r\n}\r\n\r\n.close-button {\r\n  background: none;\r\n  border: none;\r\n  font-size: 20px;\r\n  cursor: pointer;\r\n  padding: 0;\r\n  width: 24px;\r\n  height: 24px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  color: var(--dg-ui-dialog-fg, #666);\r\n  border-radius: 4px;\r\n}\r\n\r\n.close-button:hover {\r\n  background-color: var(--dg-cell-hover-bg, #e0e0e0);\r\n  color: var(--dg-ui-dialog-fg, #000);\r\n}\r\n\r\n.filter-mode {\r\n  display: flex;\r\n  gap: 16px;\r\n  padding: 12px 16px;\r\n  border-bottom: 1px solid var(--dg-border-cell, #e0e0e0);\r\n}\r\n\r\n.filter-mode label {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 6px;\r\n  cursor: pointer;\r\n  font-size: 14px;\r\n}\r\n\r\n.filter-mode input[type=\"radio\"] {\r\n  cursor: pointer;\r\n}\r\n\r\n.filter-content {\r\n  flex: 1;\r\n  padding: 16px;\r\n  overflow-y: auto;\r\n  min-height: 200px;\r\n}\r\n\r\n.filter-search {\r\n  width: 100%;\r\n  padding: 8px 12px;\r\n  border: 1px solid var(--dg-ui-filter-border, #ccc);\r\n  border-radius: 4px;\r\n  font-size: 14px;\r\n  background-color: var(--dg-ui-filter-bg, white);\r\n  color: var(--dg-ui-filter-fg, #212529);\r\n  margin-bottom: 12px;\r\n}\r\n\r\n.filter-search:focus {\r\n  outline: none;\r\n  border-color: var(--dg-border-focused-cell, #2196f3);\r\n  box-shadow: 0 0 0 2px rgba(33, 150, 243, 0.1);\r\n}\r\n\r\n.filter-actions {\r\n  display: flex;\r\n  gap: 8px;\r\n  margin-bottom: 12px;\r\n}\r\n\r\n.action-button {\r\n  flex: 1;\r\n  padding: 6px 12px;\r\n  background-color: var(--dg-ui-pagination-bg, #f8f9fa);\r\n  border: 1px solid var(--dg-border-cell, #ccc);\r\n  border-radius: 4px;\r\n  font-size: 13px;\r\n  cursor: pointer;\r\n  color: var(--dg-ui-pagination-fg, #212529);\r\n}\r\n\r\n.action-button:hover {\r\n  background-color: var(--dg-cell-hover-bg, #e9ecef);\r\n}\r\n\r\n.filter-values {\r\n  max-height: 300px;\r\n  overflow-y: auto;\r\n  border: 1px solid var(--dg-border-cell, #e0e0e0);\r\n  border-radius: 4px;\r\n  background-color: var(--dg-cell-bg, white);\r\n}\r\n\r\n.value-item {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  padding: 8px 12px;\r\n  cursor: pointer;\r\n  border-bottom: 1px solid var(--dg-border-cell, #f0f0f0);\r\n  font-size: 14px;\r\n}\r\n\r\n.value-item:last-child {\r\n  border-bottom: none;\r\n}\r\n\r\n.value-item:hover {\r\n  background-color: var(--dg-cell-hover-bg, #f8f9fa);\r\n}\r\n\r\n.value-item--selected {\r\n  background-color: var(--lb-item-selected-bg, #e3f2fd);\r\n}\r\n\r\n.value-checkbox {\r\n  cursor: pointer;\r\n}\r\n\r\n.value-text {\r\n  flex: 1;\r\n}\r\n\r\n.no-values {\r\n  text-align: center;\r\n  padding: 24px;\r\n  color: var(--dg-ui-placeholder, #999);\r\n  font-size: 14px;\r\n}\r\n\r\n.regex-label {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 8px;\r\n  font-size: 14px;\r\n  font-weight: 500;\r\n}\r\n\r\n.regex-input {\r\n  width: 100%;\r\n  padding: 8px 12px;\r\n  border: 1px solid var(--dg-ui-filter-border, #ccc);\r\n  border-radius: 4px;\r\n  font-size: 14px;\r\n  font-family: 'Consolas', 'Monaco', monospace;\r\n  background-color: var(--dg-ui-filter-bg, white);\r\n  color: var(--dg-ui-filter-fg, #212529);\r\n}\r\n\r\n.regex-input:focus {\r\n  outline: none;\r\n  border-color: var(--dg-border-focused-cell, #2196f3);\r\n  box-shadow: 0 0 0 2px rgba(33, 150, 243, 0.1);\r\n}\r\n\r\n.regex-help {\r\n  margin-top: 16px;\r\n  font-size: 13px;\r\n}\r\n\r\n.regex-help details {\r\n  background-color: var(--dg-ui-menu-bg, #f8f9fa);\r\n  border: 1px solid var(--dg-border-cell, #e0e0e0);\r\n  border-radius: 4px;\r\n  padding: 8px;\r\n}\r\n\r\n.regex-help summary {\r\n  cursor: pointer;\r\n  font-weight: 500;\r\n  color: var(--dg-header-sort-indicator, #2196f3);\r\n}\r\n\r\n.regex-help ul {\r\n  margin: 8px 0 0 0;\r\n  padding-left: 20px;\r\n}\r\n\r\n.regex-help li {\r\n  margin: 4px 0;\r\n}\r\n\r\n.regex-help code {\r\n  background-color: var(--dg-cell-bg, #e9ecef);\r\n  padding: 2px 6px;\r\n  border-radius: 3px;\r\n  font-family: 'Consolas', 'Monaco', monospace;\r\n  font-size: 12px;\r\n}\r\n\r\n.filter-footer {\r\n  display: flex;\r\n  gap: 8px;\r\n  padding: 12px 16px;\r\n  border-top: 1px solid var(--dg-border-cell, #e0e0e0);\r\n  background-color: var(--dg-ui-pagination-bg, #f8f9fa);\r\n}\r\n\r\n.footer-button {\r\n  flex: 1;\r\n  padding: 8px 16px;\r\n  border: 1px solid var(--dg-border-cell, #ccc);\r\n  border-radius: 4px;\r\n  font-size: 14px;\r\n  font-weight: 500;\r\n  cursor: pointer;\r\n  transition: all 0.2s;\r\n}\r\n\r\n.footer-button--apply {\r\n  background-color: var(--dg-header-sort-indicator, #2196f3);\r\n  color: white;\r\n  border-color: var(--dg-header-sort-indicator, #2196f3);\r\n}\r\n\r\n.footer-button--apply:hover {\r\n  background-color: #1976d2;\r\n  border-color: #1976d2;\r\n}\r\n\r\n.footer-button--clear {\r\n  background-color: var(--dg-validation-warning-bg, #fff3cd);\r\n  color: var(--dg-validation-warning-fg, #856404);\r\n  border-color: var(--dg-validation-warning-border, #ffc107);\r\n}\r\n\r\n.footer-button--clear:hover {\r\n  background-color: #ffe69c;\r\n}\r\n\r\n.footer-button--cancel {\r\n  background-color: var(--dg-ui-pagination-bg, #f8f9fa);\r\n  color: var(--dg-ui-pagination-fg, #212529);\r\n}\r\n\r\n.footer-button--cancel:hover {\r\n  background-color: var(--dg-cell-hover-bg, #e9ecef);\r\n}\r\n\r\n/* Scrollbar styling */\r\n.filter-values::-webkit-scrollbar,\r\n.filter-content::-webkit-scrollbar {\r\n  width: 8px;\r\n}\r\n\r\n.filter-values::-webkit-scrollbar-track,\r\n.filter-content::-webkit-scrollbar-track {\r\n  background: var(--lb-scrollbar-track-bg, #f1f1f1);\r\n  border-radius: 4px;\r\n}\r\n\r\n.filter-values::-webkit-scrollbar-thumb,\r\n.filter-content::-webkit-scrollbar-thumb {\r\n  background: var(--lb-scrollbar-thumb-bg, #c1c1c1);\r\n  border-radius: 4px;\r\n}\r\n\r\n.filter-values::-webkit-scrollbar-thumb:hover,\r\n.filter-content::-webkit-scrollbar-thumb:hover {\r\n  background: var(--lb-scrollbar-thumb-hover-bg, #a8a8a8);\r\n}\r\n</style>\r\n","<template>\n  <div class=\"data-grid\" :style=\"cssVariables\">\n    <!-- Loading overlay during processing -->\n    <div v-if=\"isProcessing\" class=\"processing-overlay\">\n      <div class=\"processing-content\">\n        <div class=\"processing-spinner\"></div>\n        <div class=\"processing-text\">Processing {{ store.rows.length }} rows...</div>\n\n        <!-- ✅ RIEŠENIE #4: Progress bar for validation -->\n        <div v-if=\"validationProgress.isValidating\" class=\"progress-container\">\n          <div class=\"progress-bar-wrapper\">\n            <div class=\"progress-bar\" :style=\"{ width: validationProgress.percentage + '%' }\"></div>\n          </div>\n          <div class=\"progress-text\">\n            {{ validationProgress.current }} / {{ validationProgress.total }} cells validated ({{ validationProgress.percentage }}%)\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- ✅ RIEŠENIE #4: Loading overlay during data operations -->\n    <div v-if=\"loadingState.isLoading\" class=\"loading-overlay\">\n      <div class=\"loading-content\">\n        <div class=\"loading-spinner\"></div>\n        <div class=\"loading-text\">{{ loadingState.operation }}</div>\n\n        <!-- Progress bar if we have total count -->\n        <div v-if=\"loadingState.total > 0\" class=\"progress-container\">\n          <div class=\"progress-bar-wrapper\">\n            <div class=\"progress-bar\" :style=\"{ width: loadingState.percentage + '%' }\"></div>\n          </div>\n          <div class=\"progress-text\">\n            {{ loadingState.progress }} / {{ loadingState.total }} ({{ loadingState.percentage }}%)\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- Toolbar -->\n    <div class=\"grid-toolbar\">\n      <!-- Auto Row Height toggle -->\n      <div class=\"toolbar-section\">\n        <button\n          class=\"toolbar-button\"\n          :class=\"{ 'toolbar-button--active': store.isAutoRowHeightEnabled }\"\n          @click=\"toggleAutoRowHeight\"\n          :title=\"store.isAutoRowHeightEnabled ? 'Disable auto row height' : 'Enable auto row height'\"\n        >\n          📏 Auto Height {{ store.isAutoRowHeightEnabled ? 'ON' : 'OFF' }}\n        </button>\n      </div>\n    </div>\n\n    <!-- Hidden columns notification -->\n    <!-- ✅ RIEŠENIE: Kontroluj enableHideColumn - panel sa zobrazí LEN ak je povolené skrývanie -->\n    <div v-if=\"enableHideColumn !== false && hiddenColumns.length > 0\" class=\"hidden-columns-panel\">\n      <span class=\"hidden-columns-label\">Hidden columns:</span>\n      <button\n        v-for=\"col in hiddenColumns\"\n        :key=\"col.name\"\n        class=\"show-column-button\"\n        @click=\"showColumn(col.name)\"\n        :title=\"`Show column: ${col.header}`\"\n      >\n        {{ col.header }}\n      </button>\n      <button class=\"show-all-button\" @click=\"showAllColumns\" title=\"Show all columns\">\n        Show All\n      </button>\n    </div>\n\n    <div class=\"grid-container\">\n      <!-- ✅ Wrapper for horizontal scroll -->\n      <div class=\"table-content\">\n        <!-- ✅ RIEŠENIE A: Wrapper pre column grouping - header + rows scrollujú spoločne -->\n        <div class=\"table-inner\" :style=\"{ minWidth: minTableWidth ? `${minTableWidth}px` : undefined }\">\n          <DataGridHeader\n            :columns=\"allColumns\"\n            :grid-template-columns=\"gridTemplateColumns\"\n            :grid-id=\"instanceId\"\n            :is-grid-ready=\"isGridReady\"\n            :is-processing=\"isProcessing\"\n            :show-hidden-columns-panel=\"showHiddenColumnsPanel\"\n            :enable-hide-column=\"enableHideColumn\"\n            :enable-auto-fit=\"enableAutoFit\"\n            @sort=\"handleSort\"\n            @resize=\"handleResize\"\n            @hideColumn=\"handleHideColumn\"\n            @autoFitColumn=\"handleAutoFitColumn\"\n            @show-filter=\"handleShowFilter\"\n          />\n\n          <div ref=\"scrollerRef\" class=\"scroller\">\n            <LazyRow\n              v-for=\"item in visibleRows\"\n              :key=\"item.rowId\"\n              :row=\"item\"\n              :columns=\"allColumns\"\n              :grid-template-columns=\"gridTemplateColumns\"\n              :grid-id=\"instanceId\"\n              @cell-edit-complete=\"handleCellEditComplete\"\n              @cell-input=\"handleCellInput\"\n              @checkbox-change=\"handleCheckboxChange\"\n              @delete-row=\"handleDeleteRow\"\n              @insert-row=\"handleInsertRow\"\n              @insert-above=\"handleInsertAbove\"\n              @insert-below=\"handleInsertBelow\"\n            />\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <PaginationControl\n      :page-size=\"store.pageSize\"\n      :page-size-options=\"store.config.pageSizeOptions\"\n      :total-rows=\"store.totalRows\"\n      :current-page=\"store.currentPage\"\n      @page-change=\"store.goToPage\"\n      @page-size-change=\"store.setPageSize\"\n    />\n\n    <FilterFlyout\n      :visible=\"filterFlyout.visible\"\n      :column-name=\"filterFlyout.columnName\"\n      :position=\"filterFlyout.position\"\n      :unique-values=\"filterFlyout.uniqueValues\"\n      :current-mode=\"filterFlyout.mode\"\n      :current-pattern=\"filterFlyout.pattern\"\n      @close=\"closeFilterFlyout\"\n      @apply-checkbox=\"handleApplyCheckboxFilter\"\n      @apply-regex=\"handleApplyRegexFilter\"\n      @clear-filter=\"handleClearFilter\"\n    />\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, computed, watch, onMounted, onUnmounted, onBeforeMount, onBeforeUnmount, provide, nextTick } from 'vue'\nimport { useDebounceFn } from '@vueuse/core'\nimport { useDataGridStore, type GridColumn, type GridRow, type GridCell } from '@/stores/dataGridStore'\nimport { useValidation } from '@/composables/useValidation'\nimport { useCopyPaste } from '@/composables/useCopyPaste'\nimport { useImportExport, ImportMode } from '@/composables/useImportExport'\nimport { useAutoRowHeight, defaultAutoRowHeightConfig } from '@/composables/useAutoRowHeight'\nimport { useShortcuts, createDefaultShortcuts, ShortcutContext } from '@/composables/useShortcuts'\nimport { useLogger } from '@/composables/useLogger'\nimport { gridApi } from '@/services/gridApi'\nimport { generateDataGridCSSVariables, defaultDataGridTheme } from '@/composables/useTheme'\nimport type { DataGridTheme } from '@/types/theme'\nimport { useFiltering, type FilterExpression, type SimpleFilter, type CompositeFilter } from '@/composables/useFiltering'\nimport DataGridHeader from './DataGridHeader.vue'\nimport DataGridRow from './DataGridRow.vue'\nimport LazyRow from './LazyRow.vue'\nimport PaginationControl from './PaginationControl.vue'\nimport FilterFlyout from './FilterFlyout.vue'\nimport type { FilterValue } from './FilterFlyout.vue'\n\nconst props = withDefaults(defineProps<{\n  config?: any\n  columns?: GridColumn[]\n  gridId?: string  // Optional unique ID for this grid instance\n  theme?: Partial<DataGridTheme>  // Optional theme customization\n  minTableWidth?: number  // Minimum table width in pixels - triggers horizontal scroll when container is smaller\n  width?: string  // Table width (e.g., \"100%\", \"800px\", \"50vw\") - defaults to \"100%\"\n  height?: string  // Table height (e.g., \"600px\", \"80vh\", \"auto\") - defaults to \"600px\"\n  autoRowHeightEnabled?: boolean  // Optional: Enable AutoRowHeight on initialization (default: false)\n  minRows?: number  // Optional: Minimum number of rows to display (default: 5)\n  showHiddenColumnsPanel?: boolean  // Optional: Show hidden columns panel (default: true)\n  enableHideColumn?: boolean   // ✅ NOVÝ PROP #1 - zapne/vypne Hide v menu + panel\n  enableAutoFit?: boolean       // ✅ NOVÝ PROP #2 - zapne/vypne AutoFit v menu\n}>(), {\n  enableHideColumn: true,  // ✅ DEFAULT: zapnuté\n  enableAutoFit: true       // ✅ DEFAULT: zapnuté\n})\n\n// Generate unique store ID for this grid instance\nconst instanceId = props.gridId || `grid-${Math.random().toString(36).substr(2, 9)}`\n\n// Initialize logger for this component\nconst logger = useLogger(`DataGrid[${instanceId}]`)\nlogger.info('⚙️ Component initializing', {\n  gridId: instanceId,\n  hasConfig: !!props.config,\n  hasColumns: !!props.columns,\n  columnCount: props.columns?.length || 0\n})\n\n// Create a unique store instance for this DataGrid\nconsole.log('[DataGrid] Creating store with ID:', instanceId)\nconst storeFactory = useDataGridStore(instanceId)\nconsole.log('[DataGrid] Store factory created:', typeof storeFactory, storeFactory)\n\nlet store: ReturnType<typeof storeFactory>\ntry {\n  store = storeFactory()\n  console.log('[DataGrid] Store instance created:', store)\n  logger.debug('📦 Store created', { instanceId })\n} catch (error) {\n  console.error('[DataGrid] FAILED to create store:', error)\n  logger.error('❌ Store creation failed', { instanceId, error })\n  throw error\n}\n\n// Set initial AutoRowHeight state from props (default: false)\nif (props.autoRowHeightEnabled !== undefined) {\n  store.setAutoRowHeightEnabled(props.autoRowHeightEnabled)\n  logger.info(`🔧 AutoRowHeight initialized to: ${props.autoRowHeightEnabled}`)\n}\n\n// Set minimum rows from props (default: 5)\nif (props.minRows !== undefined) {\n  store.setMinRows(props.minRows)\n  logger.info(`🔧 MinRows initialized to: ${props.minRows}`)\n}\n\n// Create validation instance for this DataGrid and provide it to child components\nconst validation = useValidation()\nprovide('validation', validation)\n\n// ✅ RIEŠENIE #1: Create observer refs BEFORE providing them (fix ReferenceError)\n// ✅ RIEŠENIE C: Shared IntersectionObserver for lazy row rendering\n// ✅ KAŽDÁ DataGrid inštancia vytvorí SVOJ VLASTNÝ observer\n// ✅ Observer je scoped na túto inštanciu cez provide()\n// ✅ Iné DataGrid inštancie majú SVOJE observery (úplne oddelené)\nconst rowVisibility = ref(new Map<string, boolean>())\nconst sharedObserver = ref<IntersectionObserver | null>(null)\n\n// ✅ RIEŠENIE #2: Wrap provide() in try-catch for better error logging\ntry {\n  // ✅ Provide shared observer to child components (scoped to THIS DataGrid instance)\n  // ✅ LazyRow children will inject THESE values (not from other DataGrid instances)\n  provide('intersectionObserver', sharedObserver)\n  provide('rowVisibility', rowVisibility)\n  logger.debug('✅ Observer refs created and provided successfully')\n} catch (error) {\n  logger.error('❌ Failed to initialize observer:', error)\n  console.error('[DataGrid] Setup error:', error)\n  throw error  // Re-throw to show in Vue error handler\n}\n\n// Create copy/paste instance\nconst copyPaste = useCopyPaste()\n\n// Create import/export instance\nconst importExport = useImportExport()\n\n// Create filtering instance\nconst { filterRows: filterRowsHelper, evaluateFilter } = useFiltering()\n\n// ✅ FIX: Loading flag to prevent race conditions\nconst isGridReady = ref(false)\n\n// ✅ FIX: Processing flag to prevent interactions during validation/AutoRowHeight\nconst isProcessing = ref(false)\n\n// ✅ RIEŠENIE #1: Validation guard to prevent concurrent validation runs\nconst isValidating = ref(false)\n\n// ✅ RIEŠENIE #4: Progress tracking for validation\nconst validationProgress = ref({\n  isValidating: false,\n  current: 0,\n  total: 0,\n  percentage: 0\n})\n\n// ✅ RIEŠENIE #5: Cancellation token for validation\nlet validationCancelled = false\n\n// Create auto row height instance with dynamic maxHeight based on container height\nconst containerHeight = ref(800)  // Default container height (will be measured dynamically)\n\n// Compute maxHeight as 70% of container height, minimum 32px\nconst computedMaxHeight = computed(() => {\n  const maxHeight = Math.max(32, Math.floor(containerHeight.value * 0.7))\n  console.log(`[AutoRowHeight] Computed maxHeight: ${maxHeight}px (container: ${containerHeight.value}px)`)\n  return maxHeight\n})\n\n// Initialize with dynamic config\nconst autoRowHeight = useAutoRowHeight({\n  minHeight: 32,\n  maxHeight: computedMaxHeight.value,\n  fontFamily: 'system-ui, -apple-system, sans-serif',\n  fontSize: 14,\n  enableWrapping: true,\n  padding: 16\n})\n\n// Watch for container height changes and update maxHeight\nwatch(computedMaxHeight, async (newMaxHeight) => {\n  console.log(`[AutoRowHeight] maxHeight changed to: ${newMaxHeight}px`)\n  autoRowHeight.updateMaxHeight(newMaxHeight)\n\n  // If AutoRowHeight is enabled, recalculate all row heights with new maxHeight\n  if (store.isAutoRowHeightEnabled && store.rows.length > 0) {\n    console.log('[AutoRowHeight] maxHeight changed - recalculating all row heights...')\n    await applyAutoRowHeightToAll()\n  }\n})\n\n// Measure container height function (defined at top level for cleanup)\nconst measureContainerHeight = () => {\n  // CRITICAL FIX: Guard against undefined $el\n  if (!scrollerRef.value) {\n    console.log('[AutoRowHeight] Cannot measure: scrollerRef is null')\n    return\n  }\n\n  const height = scrollerRef.value.clientHeight\n  if (height > 0) {\n    containerHeight.value = height\n    console.log(`[AutoRowHeight] Container height measured: ${height}px`)\n  } else {\n    console.log('[AutoRowHeight] Container height is 0, keeping default')\n  }\n}\n\n// ✅ RIEŠENIE C: Single async onMounted - ensures proper initialization sequence\nonMounted(async () => {\n  logger.info('========== ✅ Component mounted - START initialization ==========', {\n    gridId: props.gridId,\n    autoRowHeight: store.isAutoRowHeightEnabled,\n    rowCount: store.rows.length,\n    columnCount: store.columns.length\n  })\n\n  // 1. Register event listeners FIRST\n  document.addEventListener('mouseup', handleDocumentMouseUp)\n  document.addEventListener('keydown', handleKeyboardShortcuts)\n  logger.debug('🎯 Event listeners registered (mouseup, keydown)')\n\n  // 2. Auto-initialize: If columns are provided but no rows exist, initialize empty rows\n  if (props.columns && props.columns.length > 0 && store.rows.length === 0) {\n    logger.info('🔧 Auto-initializing empty rows from provided columns', {\n      columnCount: props.columns.length\n    })\n    try {\n      store.setColumns(props.columns)\n      store.initializeEmptyRows()\n      logger.info(`✅ Auto-initialized ${store.rows.length} empty rows`)\n    } catch (error) {\n      logger.error('❌ Failed to set columns:', error)\n      alert(`Column configuration error: ${error instanceof Error ? error.message : 'Unknown error'}`)\n    }\n  }\n\n  // 3. Check backend connection (async)\n  checkBackendConnection()\n\n  // 4. Wait for DOM to be ready\n  await nextTick()\n  logger.debug('⏰ DOM ready after nextTick')\n\n  // 5. Measure container height\n  measureContainerHeight()\n\n  // 6. Apply AutoRowHeight if enabled (async operation)\n  if (store.isAutoRowHeightEnabled && store.rows.length > 0) {\n    logger.info('📏 AutoRowHeight enabled - applying heights...')\n    await nextTick()\n    try {\n      await applyAutoRowHeightToAll()\n      logger.info('✅ AutoRowHeight applied successfully on mount')\n    } catch (error) {\n      logger.error('❌ AutoRowHeight ERROR on mount:', error)\n    }\n  } else {\n    logger.debug(`⏭️ Skipping AutoRowHeight: enabled=${store.isAutoRowHeightEnabled}, rowCount=${store.rows.length}`)\n  }\n\n  // 7. Create shared IntersectionObserver for lazy row rendering\n  // ✅ FIX: Create AFTER nextTick so scrollerRef.value is available\n  // ✅ FIX: Use scrollerRef.value as root (not viewport) for proper horizontal scroll detection\n  await nextTick()  // Ensure scrollerRef is populated\n\n  if (!scrollerRef.value) {\n    logger.error('❌ scrollerRef not available for IntersectionObserver!')\n  } else {\n    sharedObserver.value = new IntersectionObserver(\n      (entries) => {\n        entries.forEach((entry) => {\n          const rowId = (entry.target as HTMLElement).dataset.rowId\n          if (rowId) {\n            // ✅ Updates rowVisibility for THIS DataGrid instance only\n            rowVisibility.value.set(rowId, entry.isIntersecting)\n          }\n        })\n      },\n      {\n        root: scrollerRef.value,  // ✅ FIX: Watch .scroller container, not viewport\n        rootMargin: '100px',  // Preload 100px before visible\n        threshold: 0\n      }\n    )\n    logger.info('👁️ IntersectionObserver created with root: .scroller for instance:', instanceId)\n  }\n\n  // 8. Register resize listener\n  window.addEventListener('resize', measureContainerHeight)\n  logger.debug('🎯 Resize listener registered')\n\n  // 9. ✅ FIX: Wheel handler ON .scroller for vertical scroll\n  // ✅ NO horizontal scroll sync needed - header and rows both in .table-content scroll context\n  if (scrollerRef.value) {\n    // Wheel handler for vertical scroll boundary control\n    const handleWheel = (event: WheelEvent) => {\n      if (!scrollerRef.value) return\n\n      const isVerticalScroll = Math.abs(event.deltaY) > Math.abs(event.deltaX)\n\n      if (isVerticalScroll) {\n        const maxScroll = scrollerRef.value.scrollHeight - scrollerRef.value.clientHeight\n        const currentScroll = scrollerRef.value.scrollTop\n\n        // Only prevent default AT boundaries to avoid page scroll\n        if ((event.deltaY < 0 && currentScroll <= 0) ||\n            (event.deltaY > 0 && currentScroll >= maxScroll)) {\n          event.preventDefault()\n        }\n        // Within bounds - browser handles scroll naturally\n      }\n    }\n\n    // ✅ FIX: Register on SCROLLER, not tableContent\n    scrollerRef.value.addEventListener('wheel', handleWheel, { passive: false })\n    logger.debug('🎯 Wheel event handler registered on .scroller')\n\n    // Cleanup v onBeforeUnmount\n    ;(window as any).__dataGridScrollCleanup = (window as any).__dataGridScrollCleanup || []\n    ;(window as any).__dataGridScrollCleanup.push(() => {\n      scrollerRef.value?.removeEventListener('wheel', handleWheel)\n    })\n  }\n\n  // 10. ONLY NOW mark grid as ready (after ALL async operations complete)\n  await nextTick()\n  isGridReady.value = true\n  logger.info('========== ✅ Grid marked as READY for user interaction ==========')\n\n  // 🔍 RIEŠENIE B: DIAGNOSTIC LOGS - Column grouping debug\n  await nextTick()\n  const tableContent = document.querySelector('.table-content') as HTMLElement | null\n  const tableInner = document.querySelector('.table-inner') as HTMLElement | null\n  const headerEl = document.querySelector('.grid-header') as HTMLElement | null\n  const scrollerEl = scrollerRef.value\n  const firstRow = document.querySelector('.grid-row') as HTMLElement | null\n\n  console.group('🔍 HORIZONTAL SCROLL DIAGNOSTIC')\n\n  console.log('📊 .table-content:', {\n    offsetWidth: tableContent?.offsetWidth,\n    scrollWidth: tableContent?.scrollWidth,\n    'overflow-x (CSS)': 'auto',\n    'overflow-x (computed)': tableContent ? getComputedStyle(tableContent).overflowX : null,\n    hasHorizontalScroll: (tableContent?.scrollWidth || 0) > (tableContent?.offsetWidth || 0)\n  })\n\n  console.log('📊 .table-inner (NOVÝ WRAPPER):', {\n    offsetWidth: tableInner?.offsetWidth,\n    scrollWidth: tableInner?.scrollWidth,\n    minWidth: tableInner?.style.minWidth,\n    'width (CSS)': 'fit-content',\n    'width (computed)': tableInner ? getComputedStyle(tableInner).width : null\n  })\n\n  console.log('📊 .grid-header:', {\n    offsetWidth: headerEl?.offsetWidth,\n    scrollWidth: headerEl?.scrollWidth,\n    gridTemplateColumns: headerEl?.style.gridTemplateColumns,\n    'minWidth removed': '✅'\n  })\n\n  console.log('📊 .scroller:', {\n    offsetWidth: scrollerEl?.offsetWidth,\n    scrollWidth: scrollerEl?.scrollWidth,\n    'overflow-x (CSS)': 'hidden',\n    'overflow-x (computed)': scrollerEl ? getComputedStyle(scrollerEl).overflowX : null,\n    'overflow-y (computed)': scrollerEl ? getComputedStyle(scrollerEl).overflowY : null,\n    hasHorizontalScroll: (scrollerEl?.scrollWidth || 0) > (scrollerEl?.offsetWidth || 0)\n  })\n\n  console.log('📊 .grid-row (first):', {\n    offsetWidth: firstRow?.offsetWidth,\n    scrollWidth: firstRow?.scrollWidth,\n    gridTemplateColumns: firstRow?.style.gridTemplateColumns,\n    'minWidth removed': '✅'\n  })\n\n  console.log('🎯 COLUMN GROUPING CHECK:')\n  console.log('  .table-inner width === .grid-header width?',\n    tableInner?.offsetWidth === headerEl?.offsetWidth ? '✅' : '❌',\n    `(${tableInner?.offsetWidth} vs ${headerEl?.offsetWidth})`\n  )\n  console.log('  .table-inner width === .scroller width?',\n    tableInner?.offsetWidth === scrollerEl?.offsetWidth ? '✅' : '❌',\n    `(${tableInner?.offsetWidth} vs ${scrollerEl?.offsetWidth})`\n  )\n  console.log('  Header width === Row width?',\n    headerEl?.offsetWidth === firstRow?.offsetWidth ? '✅' : '❌',\n    `(${headerEl?.offsetWidth} vs ${firstRow?.offsetWidth})`\n  )\n  console.log('  Scroller has horizontal scroll?',\n    (scrollerEl?.scrollWidth || 0) > (scrollerEl?.offsetWidth || 0) ? '❌ PROBLÉM!' : '✅ OK'\n  )\n\n  console.log('⚠️ CSS SPEC VIOLATION CHECK:')\n  if (scrollerEl) {\n    const computed = getComputedStyle(scrollerEl)\n    const overflowX = computed.overflowX\n    const overflowY = computed.overflowY\n    console.log(`  overflow-x: ${overflowX}, overflow-y: ${overflowY}`)\n    if (overflowX === 'auto' && overflowY === 'auto') {\n      console.log('  ❌ PROBLÉM: overflow-x konvertované z \"visible\" na \"auto\"!')\n      console.log('  → Toto vytvára DRUHÝ horizontal scrollbar!')\n    } else if (overflowX === 'hidden' && overflowY === 'auto') {\n      console.log('  ✅ OK: overflow-x je \"hidden\", overflow-y je \"auto\"')\n      console.log('  → Žiadny vnútorný horizontal scroll v .scroller!')\n    }\n  }\n\n  console.groupEnd()\n\n  // 🔍 RIEŠENIE C: Event listener na scroll (debug)\n  if (tableContent && scrollerEl) {\n    let lastScrollLeft = 0\n\n    const handleTableContentScroll = () => {\n      const scrollLeft = tableContent.scrollLeft\n      const scrollDelta = scrollLeft - lastScrollLeft\n      lastScrollLeft = scrollLeft\n\n      const currentHeaderLeft = headerEl?.getBoundingClientRect().left || 0\n      const currentRowLeft = firstRow?.getBoundingClientRect().left || 0\n      const misalignment = Math.abs(currentHeaderLeft - currentRowLeft)\n\n      console.log('🔄 .table-content scroll:', {\n        scrollLeft,\n        scrollDelta,\n        headerOffsetLeft: currentHeaderLeft,\n        rowOffsetLeft: currentRowLeft,\n        misalignment: misalignment.toFixed(2) + 'px',\n        status: misalignment < 1 ? '✅ ALIGNED' : '❌ MISALIGNED'\n      })\n    }\n\n    const handleScrollerScroll = () => {\n      if (scrollerEl.scrollLeft !== 0) {\n        console.warn('⚠️ .scroller horizontal scroll DETECTED:', {\n          scrollLeft: scrollerEl.scrollLeft,\n          message: 'This should NOT happen! Rows should not scroll horizontally inside .scroller',\n          solution: 'Check if .scroller has overflow-x: hidden (not visible or auto)'\n        })\n      }\n    }\n\n    tableContent.addEventListener('scroll', handleTableContentScroll, { passive: true })\n    scrollerEl.addEventListener('scroll', handleScrollerScroll, { passive: true })\n    console.log('🎯 Scroll event listeners registered for debugging')\n\n    // Cleanup\n    ;(window as any).__dataGridScrollCleanup = (window as any).__dataGridScrollCleanup || []\n    ;(window as any).__dataGridScrollCleanup.push(() => {\n      tableContent?.removeEventListener('scroll', handleTableContentScroll)\n      scrollerEl?.removeEventListener('scroll', handleScrollerScroll)\n    })\n  }\n})\n\n// ✅ RIEŠENIE #3: Watch props.columns a syncni ich do store\n// Toto zabezpečí, že keď parent (App.vue) zmení props.columns,\n// zmeny sa prejavia aj v tabuľke\nwatch(\n  () => props.columns,\n  (newColumns) => {\n    // ✅ RIEŠENIE: Guard - wait until store is ready and columns exist\n    if (!store || !newColumns || newColumns.length === 0) {\n      return\n    }\n\n    logger.info('[DataGrid] props.columns changed, syncing to store', {\n      columnCount: newColumns.length\n    })\n\n    // Update store.columns to match props.columns\n    // But preserve column states (isVisible, width) if they were changed by user\n    newColumns.forEach((propCol: GridColumn) => {\n        const existingCol = store.columns.find((c: GridColumn) => c.name === propCol.name)\n\n        if (existingCol) {\n          // Column already exists in store\n          // Update header, dataType, etc. from props, but keep user changes (isVisible, width)\n          // Keep user's isVisible if it was changed, otherwise use prop\n          // Keep user's width if it was changed, otherwise use prop\n          store.updateColumn(propCol.name, {\n            header: propCol.header,\n            dataType: propCol.dataType\n          })\n        } else {\n          // New column from props - add it to store\n          store.addColumn(propCol)\n        }\n      })\n  },\n  { deep: true, immediate: true }  // immediate: true = run on mount\n)\n\n// Cleanup on unmount (must be at top level, NOT inside onMounted)\nonBeforeUnmount(() => {\n  window.removeEventListener('resize', measureContainerHeight)\n  document.removeEventListener('mouseup', handleDocumentMouseUp)\n  document.removeEventListener('keydown', handleKeyboardShortcuts)\n\n  // ✅ RIEŠENIE: Cleanup scroll event handlers\n  if ((window as any).__dataGridScrollCleanup) {\n    ;(window as any).__dataGridScrollCleanup.forEach((cleanup: () => void) => cleanup())\n    ;(window as any).__dataGridScrollCleanup = []\n  }\n\n  logger.info('🧹 Cleanup: All event listeners removed')\n})\n\n// Use store.isAutoRowHeightEnabled instead of local ref\n\n// Backend API connection status\nconst isBackendConnected = ref(false)\nconst isLoadingFromBackend = ref(false)\nconst isSavingToBackend = ref(false)\n\n// ✅ RIEŠENIE #4: Detailed loading state with progress\nconst loadingState = ref({\n  isLoading: false,\n  operation: '',\n  progress: 0,\n  total: 0,\n  percentage: 0\n})\n\n// Scroller div ref for measurements\nconst scrollerRef = ref<HTMLDivElement>()\n\n// Get selected rows for copy/paste operations\nconst getSelectedRows = () => {\n  const selectedCells = Array.from(store.selectedCells) as string[]\n  if (selectedCells.length === 0) return []\n\n  // Get unique row IDs from selected cells\n  const rowIds = new Set(selectedCells.map((cellId) => cellId.split(':')[0]))\n  return store.rows.filter((row: GridRow) => rowIds.has(row.rowId))\n}\n\n// Get column names (excluding special columns)\nconst getDataColumnNames = () => {\n  return dataColumns.value\n    .filter((col: GridColumn) => !col.specialType)\n    .map((col: GridColumn) => col.name)\n}\n\n// Copy handler - copies ONLY selected cells with position preservation\nconst handleCopy = async () => {\n  console.log('[DataGrid] handleCopy called, selectedCells:', store.selectedCells.size)\n\n  if (store.selectedCells.size === 0) {\n    console.warn('[DataGrid] No cells selected for copy')\n    return\n  }\n\n  // ✅ RIEŠENIE #1: Use copySelectedCells instead of copyToClipboard\n  // This copies ONLY selected cells (not full rows) and preserves their positions\n  const result = await copyPaste.copySelectedCells(\n    store.selectedCells,\n    store.rows,\n    dataColumns.value\n  )\n\n  if (result.success) {\n    console.log('[DataGrid] Copy successful:', result.message)\n  } else {\n    console.error('[DataGrid] Copy failed:', result.message)\n  }\n}\n\n// Paste handler\nconst handlePaste = async () => {\n  const result = await copyPaste.pasteFromClipboard()\n\n  if (result.success && result.rows && result.rows.length > 0) {\n    // Find the target position (first selected cell or append to end)\n    const selectedCells = Array.from(store.selectedCells)\n    let targetRowIndex = store.rows.length\n\n    if (selectedCells.length > 0) {\n      // Get first selected cell position\n      const firstCellId = selectedCells[0] as string\n      const rowId = firstCellId.split(':')[0]\n      const rowIndex = store.rows.findIndex((r: GridRow) => r.rowId === rowId)\n      if (rowIndex >= 0) {\n        targetRowIndex = rowIndex\n      }\n    }\n\n    // Add pasted rows to the store\n    result.rows.forEach((rowData: any, index: number) => {\n      if (targetRowIndex + index < store.rows.length) {\n        // Overwrite existing row\n        const targetRow = store.rows[targetRowIndex + index]\n        Object.keys(rowData).forEach((key: string) => {\n          if (dataColumns.value.some((col: GridColumn) => col.name === key)) {\n            store.updateCell(targetRow.rowId, key, rowData[key])\n          }\n        })\n      } else {\n        // Append new row - insert empty row at end and populate with data\n        const lastRowId = store.rows[store.rows.length - 1]?.rowId\n        if (lastRowId) {\n          store.insertRow(lastRowId)\n          // Get the newly created row and update its cells with data\n          const newRow = store.rows[store.rows.length - 1]\n          Object.keys(rowData).forEach((key: string) => {\n            if (dataColumns.value.some((col: GridColumn) => col.name === key)) {\n              store.updateCell(newRow.rowId, key, rowData[key])\n            }\n          })\n        }\n      }\n    })\n\n    console.log(result.message)\n  } else {\n    console.error(result.message)\n  }\n}\n\n// Cut handler (copy + delete)\nconst handleCut = async () => {\n  await handleCopy()\n\n  // Delete selected cells content\n  const selectedCells = Array.from(store.selectedCells) as string[]\n  selectedCells.forEach((cellId) => {\n    const [rowId, columnName] = cellId.split(':')\n    if (!dataColumns.value.find((col: GridColumn) => col.name === columnName)?.isReadOnly) {\n      store.updateCell(rowId, columnName, null)\n    }\n  })\n}\n\n// Delete handler\nconst handleDelete = () => {\n  const selectedCells = Array.from(store.selectedCells) as string[]\n  selectedCells.forEach((cellId) => {\n    const [rowId, columnName] = cellId.split(':')\n    if (!dataColumns.value.find((col: GridColumn) => col.name === columnName)?.isReadOnly) {\n      store.updateCell(rowId, columnName, null)\n    }\n  })\n}\n\n// Select All handler\nconst handleSelectAll = () => {\n  // Select all cells in all rows\n  store.rows.forEach((row: GridRow) => {\n    dataColumns.value.forEach((col: GridColumn) => {\n      if (!col.specialType) { // Only select data columns\n        store.selectCell(row.rowId, col.name, true) // true for Ctrl to add to selection\n      }\n    })\n  })\n}\n\n// Register keyboard shortcuts\nconst shortcuts = useShortcuts({ enabled: true, context: ShortcutContext.Normal })\n\nshortcuts.registerShortcuts(createDefaultShortcuts({\n  onCopy: handleCopy,\n  onPaste: handlePaste,\n  onCut: handleCut,\n  onDelete: handleDelete,\n  onSelectAll: handleSelectAll,\n  onFind: () => console.log('Find not implemented yet')\n}))\n\nconst visibleRows = computed(() => store.visibleRows)\n\n// Use provided columns or default to store columns WITH DEFAULTS\n// ✅ RIEŠENIE #2: VŽDY používaj store.columns (nie props.columns)\n// Props.columns sa používajú len na inicializáciu v watcheri nižšie\nconst dataColumns = computed(() => {\n  const cols = store.columns\n\n  // Apply defaults to DATA columns (not special columns)\n  return cols.map((col: GridColumn) => {\n    // Skip special columns - they have their own defaults\n    if (col.specialType) {\n      return col\n    }\n\n    // Apply defaults for DATA columns only\n    return {\n      ...col,\n      minWidth: col.minWidth ?? 50,           // Default: 50\n      maxWidth: col.maxWidth ?? 200,          // Default: 200\n      isSortable: col.isSortable ?? false,    // Default: false\n      isFilterable: col.isFilterable ?? false, // Default: false\n      visibleForGrid: col.visibleForGrid ?? true  // ✅ RIEŠENIE #6: EXPLICIT DEFAULT\n    }\n  })\n})\n\n// Keyboard handler for Ctrl+C / Ctrl+V\nfunction handleKeyboardShortcuts(event: KeyboardEvent) {\n  // Only handle if Ctrl (or Cmd on Mac) is pressed\n  if (!event.ctrlKey && !event.metaKey) return\n\n  // Ctrl+C - Copy selected cells\n  if (event.key === 'c' || event.key === 'C') {\n    event.preventDefault()\n    console.log('[DataGrid] Ctrl+C pressed - copying selected cells')\n    handleCopySelectedCells()\n  }\n\n  // Ctrl+V - Paste from clipboard\n  if (event.key === 'v' || event.key === 'V') {\n    event.preventDefault()\n    console.log('[DataGrid] Ctrl+V pressed - pasting from clipboard')\n    handlePasteSelectedCells()\n  }\n}\n\n// Copy selected cells (new implementation with position preservation)\nasync function handleCopySelectedCells() {\n  if (store.selectedCells.size === 0) {\n    console.warn('[DataGrid] No cells selected for copy')\n    return\n  }\n\n  console.log('[DataGrid] Copying selected cells:', {\n    selectedCount: store.selectedCells.size,\n    selectedCells: Array.from(store.selectedCells)\n  })\n\n  // Use new copySelectedCells method that preserves positions\n  const result = await copyPaste.copySelectedCells(\n    store.selectedCells,\n    store.rows,\n    allColumns.value\n  )\n\n  if (result.success) {\n    console.log('[DataGrid] Copy successful:', result.message)\n  } else {\n    console.error('[DataGrid] Copy failed:', result.message)\n  }\n}\n\n// Paste from clipboard to selected cells\nasync function handlePasteSelectedCells() {\n  const result = await copyPaste.pasteFromClipboard()\n\n  if (result.success && result.rows && result.rows.length > 0) {\n    console.log('[DataGrid] Paste successful:', {\n      rowCount: result.rows.length,\n      headers: result.headers\n    })\n\n    // ✅ FIX: Filter data columns first (before calculating targetColIndex)\n    const dataColumnsOnly = allColumns.value.filter((col: GridColumn) => !col.specialType)\n\n    // Find the target position (first selected cell or top-left)\n    let targetRowIndex = 0\n    let targetColIndex = 0\n\n    if (store.selectedCells.size > 0) {\n      // Get first selected cell as paste target\n      const firstCellKey = Array.from(store.selectedCells)[0] as string\n      const [firstRowId, firstColName] = firstCellKey.split(':')\n      const firstRow = store.rows.find((r: GridRow) => r.rowId === firstRowId)\n\n      // ✅ FIX: Find index in dataColumnsOnly instead of allColumns\n      const firstColIdx = dataColumnsOnly.findIndex((c: GridColumn) => c.name === firstColName)\n\n      if (firstRow) {\n        targetRowIndex = firstRow.rowIndex\n        // ✅ FIX: If target is special column (findIndex = -1), use first data column\n        targetColIndex = firstColIdx !== -1 ? firstColIdx : 0\n      }\n\n      console.log('[DataGrid] Pasting at position:', {\n        targetRowIndex,\n        targetColIndex,\n        firstColName,\n        isSpecialColumn: targetColIndex === 0 && firstColIdx === -1,\n        dataColumnsCount: dataColumnsOnly.length\n      })\n    } else {\n      console.log('[DataGrid] Pasting at position (no selection):', {\n        targetRowIndex,\n        targetColIndex,\n        dataColumnsCount: dataColumnsOnly.length\n      })\n    }\n\n    // Paste data row by row, column by column\n    result.rows.forEach((rowData: any, rowOffset: number) => {\n      const pasteRowIndex = targetRowIndex + rowOffset\n\n      if (pasteRowIndex >= store.rows.length) {\n        console.warn('[DataGrid] Paste row out of bounds:', { pasteRowIndex, maxRows: store.rows.length })\n        return\n      }\n\n      const targetRow = store.rows[pasteRowIndex]\n\n      // ✅ FIX: Use headers array instead of Object.keys to preserve correct column order\n      // Object.keys may return keys in unexpected order, headers array is always in correct order\n      if (!result.headers) {\n        console.warn('[DataGrid] No headers in paste result, skipping row')\n        return\n      }\n\n      result.headers.forEach((columnKey: string, colOffset: number) => {\n        const pasteColIndex = targetColIndex + colOffset\n\n        if (pasteColIndex >= dataColumnsOnly.length) {\n          console.warn('[DataGrid] Paste column out of bounds:', { pasteColIndex, maxCols: dataColumnsOnly.length })\n          return\n        }\n\n        const targetColumn = dataColumnsOnly[pasteColIndex]\n        const value = rowData[columnKey] ?? null  // Use nullish coalescing for undefined values\n\n        // Update cell value\n        store.updateCell(targetRow.rowId, targetColumn.name, value)\n\n        console.log('[DataGrid] Pasted cell:', {\n          row: pasteRowIndex,\n          col: pasteColIndex,\n          columnName: targetColumn.name,\n          columnKey,\n          value\n        })\n      })\n    })\n\n    console.log('[DataGrid] Paste complete')\n\n    // ✅ FIX: Trigger validation after paste if autoValidate is enabled\n    if (store.config.autoValidate && store.config.enableValidation && validation) {\n      const rulesCount = validation?.validationRules?.value?.size || 0\n\n      if (rulesCount > 0) {\n        console.log('[DataGrid] Paste complete - triggering auto-validation...')\n\n        // Wait for UI to update\n        await nextTick()\n\n        // Validate only changed cells (cells affected by paste)\n        await validateAllCellsInBatches()\n\n        console.log('[DataGrid] Paste validation complete')\n      }\n    }\n  } else {\n    console.error('[DataGrid] Paste failed:', result.message)\n  }\n}\n\n// Lifecycle: Before mount\nonBeforeMount(() => {\n  logger.info('🔄 Component before mount')\n})\n\n// ✅ RIEŠENIE C: Second onMounted REMOVED - merged into single async onMounted above\n\n// Lifecycle: Before unmount\n// ✅ RIEŠENIE #3: Cleanup on unmount to prevent memory leaks\nonBeforeUnmount(() => {\n  logger.info('🔄 Component before unmount - starting cleanup')\n\n  // Cleanup shared observer\n  if (sharedObserver.value) {\n    console.log('[DataGrid] Disconnecting SharedIntersectionObserver...')\n    sharedObserver.value.disconnect()\n    sharedObserver.value = null\n  }\n  rowVisibility.value.clear()\n  console.log('[DataGrid] SharedIntersectionObserver destroyed for instance:', instanceId)\n\n  // Clear validation state\n  if (validation) {\n    console.log('[DataGrid] Clearing validation state...')\n    validation.clearValidationErrors()\n    validation.validationRules.value.clear()\n  }\n\n  // Clear store data\n  console.log('[DataGrid] Clearing store data...')\n  store.clearAllData()\n\n  logger.info('✅ Component cleanup complete')\n})\n\n// Lifecycle: Unmounted - cleanup event listeners\nonUnmounted(() => {\n  logger.info('🗑️ Component unmounted - final cleanup')\n  logger.info('👋 Component cleanup complete')\n})\n\n// Batch validation - validates cells in batches to avoid UI freeze\n// Solution B + C: Only validate unvalidated cells, process asynchronously in batches\n// SOLUTION 2: Enhanced logging to debug validation issues\n// ✅ RIEŠENIE #7: Calculate optimal batch size based on total cells\n// Adaptive batch sizing to balance memory usage and performance\nfunction calculateOptimalBatchSize(totalCells: number): number {\n  if (totalCells < 1000) {\n    return 25   // Small dataset: smaller batches for responsiveness\n  } else if (totalCells < 5000) {\n    return 50   // Medium dataset: moderate batch size\n  } else if (totalCells < 15000) {\n    return 100  // Large dataset: bigger batches\n  } else {\n    return 200  // Very large dataset: maximum batch size\n  }\n}\n\nasync function validateAllCellsInBatches() {\n  // ✅ RIEŠENIE #5: If validation is running, cancel it and wait for completion\n  if (isValidating.value) {\n    validationCancelled = true\n\n    // ✅ FIX: Async polling s OPRAVENOU deadlock detection\n    const waitForValidation = async (maxWaitMs: number = 5000): Promise<boolean> => {\n      const startWait = Date.now()\n      let iterations = 0\n\n      while (isValidating.value && Date.now() - startWait < maxWaitMs) {\n        iterations++\n        // Yield to UI thread\n        await nextTick()\n        await new Promise((resolve: (value: void | PromiseLike<void>) => void) => setTimeout(resolve, 100))\n      }\n\n      // ✅ CRITICAL FIX: Check AFTER loop exits (not inside loop!)\n      // Loop exits when: (1) isValidating becomes false, OR (2) timeout reached\n      // If timeout reached but isValidating is STILL true → DEADLOCK!\n      if (isValidating.value) {\n        // Loop exited due to timeout, but isValidating is STILL true → DEADLOCK DETECTED!\n        console.error('═══════════════════════════════════════════════════')\n        console.error(`[waitForValidation] ❌ DEADLOCK DETECTED after ${Date.now() - startWait}ms`)\n        console.error(`  Iterations: ${iterations}`)\n        console.error(`  isValidating was NEVER reset to false`)\n        console.error(`  This indicates validation hung or crashed without cleanup`)\n        console.error('═══════════════════════════════════════════════════')\n\n        // ✅ FORCE RESET to break deadlock\n        isValidating.value = false\n        console.error('[waitForValidation] Forced isValidating=false to break deadlock')\n\n        // ✅ Log to C# backend for diagnostics\n        try {\n          if ((window as any).chrome?.webview) {\n            (window as any).chrome.webview.postMessage(JSON.stringify({\n              type: 'error',\n              source: 'DataGrid.waitForValidation',\n              error: 'Validation deadlock detected - isValidating was never reset',\n              iterations: iterations,\n              elapsedMs: Date.now() - startWait,\n              timestamp: new Date().toISOString()\n            }))\n          }\n        } catch { }\n\n        return false  // Validation NOT ready\n      }\n\n      return true  // Validation ready\n    }\n\n    const validationReady = await waitForValidation(5000)\n\n    if (!validationReady) {\n      console.error('[validateAllCellsInBatches] ❌ WAIT FAILED - aborting')\n      return\n    }\n  }\n\n  // ✅ RIEŠENIE #1: Set flag before starting\n  isValidating.value = true\n  // ✅ RIEŠENIE #5: Reset cancellation flag\n  validationCancelled = false\n\n  try {\n    // 📊 LOG: Validation START\n    console.info('═══════════════════════════════════════════════════')\n    console.info('🔍 VALIDATION START')\n    console.info(`   Rows: ${store?.rows?.length ?? 0}, Columns: ${store?.columns?.length ?? 0}`)\n    console.info('═══════════════════════════════════════════════════')\n\n    // ✅ FIX: Comprehensive validation checks\n    if (!store || !store.config || !store.rows || !validation) {\n      return\n    }\n\n    if (!store.config.enableValidation) {\n      return\n    }\n\n    // ✅ RIEŠENIE #3: Extract columns with validation rules\n    const columnsWithRules = new Set<string>()\n\n    for (const [columnName, rules] of validation.validationRules.value.entries()) {\n      if (rules.length > 0) {\n        columnsWithRules.add(columnName)\n      }\n    }\n\n    // ✅ RIEŠENIE #1: EARLY EXIT if no validation rules at all\n    if (columnsWithRules.size === 0) {\n      return  // ← EXIT - žiadna validácia!\n    }\n\n    // ✅ RIEŠENIE #3: Pass columnsWithRules to filter out columns without rules\n    // ✅ FIX C: Only pass columnsWithRules if it has items (avoid empty Set issue)\n    // ✅ Now safe to pass columnsWithRules (guaranteed non-empty by check above)\n    // Solution B: Get only cells that need validation (changed or unvalidated)\n    // Pass forceValidateAll=true to validate ALL cells, including those in currently empty rows\n    const cellsToValidate = store.getCellsNeedingValidation(true, columnsWithRules)\n\n    if (cellsToValidate.length === 0) {\n      return\n    }\n\n    // ✅ RIEŠENIE #4: Initialize progress tracking\n    validationProgress.value = {\n      isValidating: true,\n      current: 0,\n      total: cellsToValidate.length,\n      percentage: 0\n    }\n\n    // ✅ RIEŠENIE #7: Dynamic batch size based on total cells\n    const PARALLEL_BATCH_SIZE = calculateOptimalBatchSize(cellsToValidate.length)\n    let validatedCount = 0\n\n    // Process in batches - validate ALL cells in batch SIMULTANEOUSLY\n    for (let i = 0; i < cellsToValidate.length; i += PARALLEL_BATCH_SIZE) {\n      // ✅ RIEŠENIE #5: Check cancellation before each batch\n      if (validationCancelled) {\n        console.log('[validateAllCellsInBatches] ⚠️ CANCELLED by user')\n        return\n      }\n\n      const batch = cellsToValidate.slice(i, i + PARALLEL_BATCH_SIZE)\n      const batchNumber = Math.floor(i / PARALLEL_BATCH_SIZE) + 1\n\n      // ✅ Create array of validation promises - ALL cells validate in parallel\n      const validationPromises = batch.map(({ rowId, columnName }: { rowId: string; columnName: string }) => {\n        // ✅ RIEŠENIE #3: Use O(1) Map.get() instead of O(n) array.find()\n        const row = store.getRow(rowId)\n        if (!row || !row.cells) {\n          console.warn('[validateAllCellsInBatches] ⚠️ Row not found or has no cells:', rowId)\n          return Promise.resolve()\n        }\n\n        const cell = row.cells.find((c: GridCell) => c.columnName === columnName)\n        if (!cell) {\n          console.warn('[validateAllCellsInBatches] ⚠️ Cell not found:', { rowId, columnName })\n          return Promise.resolve()\n        }\n\n        const rowCells = row.cells.map((c: GridCell) => ({ columnName: c.columnName, value: c.value }))\n\n        // ✅ RIEŠENIE #2: Use validateCellDirect with skipErrorCountUpdate=true for bulk validation\n        return validation.validateCellDirect(rowId, columnName, cell.value, rowCells, true)\n          .then(() => {\n            store.markCellValidated(rowId, columnName)\n            validatedCount++\n          })\n          .catch((err: any) => {\n            console.error('[validateAllCellsInBatches] ❌ Validation error:', { rowId, columnName, err })\n          })\n      })\n\n      // ✅ Wait for ALL cells in batch to complete (parallel execution)\n      await Promise.all(validationPromises)\n\n      // ✅ RIEŠENIE #4: Update progress after each batch\n      validationProgress.value.current = validatedCount\n      validationProgress.value.percentage = Math.round((validatedCount / cellsToValidate.length) * 100)\n\n      // Yield to UI after each batch to prevent freeze\n      await nextTick()\n    }\n\n    // ✅ RIEŠENIE #2: Update error count ONCE at the end of batch validation\n    validation.updateErrorCount()\n\n    // 📊 LOG: Validation SUCCESS\n    console.info('═══════════════════════════════════════════════════')\n    console.info(`✅ VALIDATION SUCCESS - ${validatedCount} cells validated`)\n    const errorCount = validation?.validationErrors?.value?.length ?? 0\n    console.info(`   Total errors: ${errorCount}`)\n    console.info('═══════════════════════════════════════════════════')\n  } catch (error) {\n    // 📊 LOG: Validation ERROR\n    console.error('═══════════════════════════════════════════════════')\n    console.error('❌ VALIDATION ERROR:', error)\n    console.error('═══════════════════════════════════════════════════')\n    throw error\n  } finally {\n    // ✅ RIEŠENIE #1: Always reset flag, even if error occurs\n    isValidating.value = false\n\n    // ✅ RIEŠENIE #4: Reset progress tracking\n    validationProgress.value.isValidating = false\n  }\n}\n\n// Watch for autoValidate toggle - validate all cells when enabled\nwatch(() => store.config.autoValidate, async (enabled, wasEnabled) => {\n  if (enabled && !wasEnabled && store.config.enableValidation) {\n    await validateAllCellsInBatches()\n  }\n})\n\nfunction handleDocumentMouseUp() {\n  if (store.isDragging || store.pressedCell) {\n    store.endDragSelection()\n  }\n}\n\n// Create special columns based on config\nconst specialColumns = computed(() => {\n  const cols: GridColumn[] = []\n  const config = store.config\n\n  if (config.showRowNumber) {\n    cols.push({\n      name: '__rowNumber',\n      header: '#',\n      width: 50,\n      minWidth: 40,\n      maxWidth: 80,\n      isVisible: true,\n      isReadOnly: true,\n      isSortable: false,\n      isFilterable: false,\n      specialType: 'RowNumber'\n    })\n  }\n\n  if (config.showCheckbox) {\n    cols.push({\n      name: '__checkbox',\n      header: '☑',\n      width: 40,\n      minWidth: 40,\n      maxWidth: 40,\n      isVisible: true,\n      isReadOnly: true,\n      isSortable: false,\n      isFilterable: true,  // ✅ FIX: Povoliť filtrovanie pre Checkbox stĺpec\n      specialType: 'Checkbox'\n    })\n  }\n\n  return cols\n})\n\n// Validation column (goes after data columns, before action columns)\n// ✅ FIX: Uses fixed width (NOT autoWidth) to prevent collapsing on horizontal scroll\n// Width can be overridden from backend config like other columns\nconst validationColumn = computed(() => {\n  const cols: GridColumn[] = []\n  const config = store.config\n\n  if (config.showValidationAlerts) {\n    cols.push({\n      name: '__validationAlerts',\n      header: '⚠ Validation',\n      width: 150,        // ✅ FIX: Default fixed width (configurable from backend)\n      minWidth: 100,     // ✅ FIX: Minimum width (configurable from backend)\n      maxWidth: 300,     // ✅ FIX: Maximum width (configurable from backend)\n      autoWidth: false,  // ✅ FIX: NO autoWidth - funguje ako ostatné stĺpce\n      isVisible: true,\n      isReadOnly: true,\n      isSortable: false,\n      isFilterable: false,\n      specialType: 'ValidationAlerts'\n    })\n  }\n\n  return cols\n})\n\n// Create action columns (at the end)\n// Order: Insert first, then Delete (as per original WinUI component)\nconst actionColumns = computed(() => {\n  const cols: GridColumn[] = []\n  const config = store.config\n\n  // Insert button first\n  if (config.showInsertButton) {\n    cols.push({\n      name: '__insertRow',\n      header: 'Insert',\n      width: 60,\n      minWidth: 50,\n      maxWidth: 80,\n      isVisible: true,\n      isReadOnly: true,\n      isSortable: false,\n      isFilterable: false,\n      specialType: 'InsertRow'\n    })\n  }\n\n  // Delete button second\n  if (config.showDeleteButton) {\n    cols.push({\n      name: '__deleteRow',\n      header: 'Delete',\n      width: 60,\n      minWidth: 50,\n      maxWidth: 80,\n      isVisible: true,\n      isReadOnly: true,\n      isSortable: false,\n      isFilterable: false,\n      specialType: 'DeleteRow'\n    })\n  }\n\n  return cols\n})\n\n// Combine columns in correct order:\n// 1. RowNumber, Checkbox (specialColumns)\n// 2. Data columns (only visible ones with visibleForGrid !== false)\n// 3. ValidationAlerts (validationColumn)\n// 4. Insert, Delete (actionColumns)\nconst allColumns = computed(() => [\n  ...specialColumns.value,\n  ...dataColumns.value.filter((col: GridColumn) => !col.specialType && col.isVisible && col.visibleForGrid !== false), // Only visible non-special columns that are shown in grid\n  ...validationColumn.value,\n  ...actionColumns.value\n])\n\n// Generate CSS Grid template columns\n// Example: \"50px 150px 200px 1fr 50px\" for fixed and auto-width columns\nconst gridTemplateColumns = computed(() => {\n  const template = allColumns.value.map((col: GridColumn) => {\n    if (col.autoWidth) {\n      return '1fr'  // Auto-width columns use fractional unit\n    }\n    return `${col.width}px`  // Fixed-width columns use pixels\n  }).join(' ')\n\n  // Debug: Log grid template and columns\n  console.log('[GridTemplate] All Columns:', allColumns.value.map((c: GridColumn) => ({\n    name: c.name,\n    header: c.header,\n    width: c.width,\n    autoWidth: c.autoWidth,\n    specialType: c.specialType\n  })))\n  console.log('[GridTemplate] Generated Template:', template)\n\n  return template\n})\n\n// ✅ RIEŠENIE #3B: Debug watch to verify gridTemplateColumns recalculates after AutoFit\nwatch(gridTemplateColumns, (newVal) => {\n  console.log('[DataGrid] ✅ gridTemplateColumns CHANGED:', newVal)\n}, { immediate: false })\n\n// Calculate minimum table width as sum of all visible column widths\n// This enables horizontal scroll when table is wider than container\nconst minTableWidth = computed(() => {\n  const totalWidth = allColumns.value.reduce((sum: number, col: GridColumn) => {\n    // Only count visible columns (visibleForGrid !== false)\n    // This includes special columns if they are shown\n    if (col.visibleForGrid === false) {\n      return sum\n    }\n    // ✅ Skip autoWidth columns (1fr) - they should fill remaining space, not force min-width\n    if (col.autoWidth) {\n      return sum\n    }\n    return sum + col.width\n  }, 0)\n\n  console.log('[GridTemplate] Min Table Width (fixed columns only):', totalWidth, 'px')\n  return totalWidth\n})\n\n// Watch for config changes from props\nwatch(() => props.config, (newConfig) => {\n  if (newConfig) {\n    store.setConfig(newConfig)\n  }\n}, { immediate: true, deep: true })\n\n// Watch for columns changes from props\nwatch(() => props.columns, (newColumns) => {\n  console.log('[DataGrid] Columns watch triggered:', {\n    hasColumns: newColumns?.length,\n    rowsLength: store.rows.length,\n    willInitialize: newColumns && newColumns.length > 0 && store.rows.length === 0\n  })\n\n  if (newColumns && newColumns.length > 0) {\n    try {\n      store.setColumns(newColumns)\n      console.log('[DataGrid] After setColumns, rowsLength:', store.rows.length)\n\n      // Initialize empty rows if store is empty\n      if (store.rows.length === 0) {\n        console.log('[DataGrid] Calling initializeEmptyRows...')\n        store.initializeEmptyRows()\n        console.log('[DataGrid] After initializeEmptyRows, rowsLength:', store.rows.length)\n      } else {\n        console.log('[DataGrid] SKIPPED initializeEmptyRows - rows already exist!')\n      }\n    } catch (error) {\n      console.error('[DataGrid] Failed to set columns:', error)\n      alert(`Column configuration error: ${error instanceof Error ? error.message : 'Unknown error'}`)\n    }\n  }\n}, { immediate: true, deep: true })\n\n// Watch validation rules - trigger auto-validation when rules are added after data exists\n// FIXED: Watch ruleCount (reactive counter) instead of validationRules.value (Map.set doesn't trigger reactivity)\nwatch(() => validation?.ruleCount?.value ?? 0, async (newCount, oldCount) => {\n  const rulesSize = validation?.validationRules?.value?.size || 0\n\n  // ✅ FIX: Pridať guard check pre store existenciu\n  if (!store || !store.rows) {\n    console.warn('[WATCHER] Store not initialized yet, skipping validation')\n    return\n  }\n\n  // Only auto-validate if:\n  // 1. Rules exist\n  // 2. Data already exists\n  // 3. Auto-validation is enabled in config\n  if (rulesSize === 0 || store.rows.length === 0 || !store.config.autoValidate) {\n    return\n  }\n\n  // Clear validation tracking before re-validating with new rules\n  store.clearValidationTracking()\n\n  try {\n    // FIXED: Double nextTick to ensure UI is stable before validation\n    await nextTick()\n    await nextTick()\n\n    await validateAllCellsInBatches()\n  } catch (error) {\n    console.error('[WATCHER] VALIDATION RULES CHANGED - FAILED')\n    console.error(`  Error: ${error}`)\n\n    // ✅ RIEŠENIE #3: CRITICAL - Force reset isValidating to prevent permanent deadlock\n    isValidating.value = false\n    console.error('[WATCHER] Forced isValidating=false after error')\n\n    // ✅ Show error to user\n    alert(`Auto-validation failed: ${error instanceof Error ? error.message : String(error)}`)\n\n    // ✅ Log to C# backend for crash diagnostics\n    try {\n      if ((window as any).chrome?.webview) {\n        (window as any).chrome.webview.postMessage(JSON.stringify({\n          type: 'error',\n          source: 'DataGrid.ruleCount.watcher',\n          error: error instanceof Error ? error.message : String(error),\n          stack: error instanceof Error ? error.stack : undefined,\n          timestamp: new Date().toISOString()\n        }))\n      }\n    } catch { }\n  }\n})\n\n// ✅ RIEŠENIE #4: Deep watch REMOVED - validácia je explicitne volaná v loadDataFromBackend() a v ruleCount watch\n\n// SOLUTION A: Watch errorCount ref from useValidation (reactive counter)\nwatch(() => validation?.errorCount?.value ?? 0, async (errorCount, oldErrorCount) => {\n  const newErrors = validation?.validationErrors\n\n  // FIXED: ALWAYS update validationErrorCount, even when errorCount = 0\n  // This ensures stale values are cleared when errors are resolved\n  store.rows.forEach((row: GridRow) => {\n    // If no errors object or no errors for this row, set to 0\n    const count = (newErrors && newErrors[row.rowId]) ? newErrors[row.rowId].length : 0\n    row.validationErrorCount = count\n  })\n\n  // If no errors, we're done - no need to recalculate heights\n  if (!newErrors || errorCount === 0) {\n    return\n  }\n\n  // Wait for Vue to finish current render cycle\n  await nextTick()\n\n  if (store.isAutoRowHeightEnabled) {\n    // If AutoRowHeight is ON, recalculate with validation text included\n    await applyAutoRowHeightToAll()\n  } else {\n    // If AutoRowHeight is OFF, reset all rows to default height\n    await resetAllRowHeights()\n  }\n})\n\nfunction handleSort(columnName: string, direction: 'asc' | 'desc') {\n  // Check if column exists and is sortable\n  const column = store.columns.find((c: GridColumn) => c.name === columnName)\n  if (!column) {\n    console.error(`[handleSort] Column not found: ${columnName}`)\n    return\n  }\n\n  if (!column.isSortable) {\n    console.warn(`[handleSort] Column '${columnName}' is not sortable`)\n    return\n  }\n\n  // Check if column has visibleForGrid=false (should not be sorted)\n  if (column.visibleForGrid === false) {\n    console.warn(`[handleSort] Column '${columnName}' has visibleForGrid=false, sorting not allowed`)\n    return\n  }\n\n  store.addSort(columnName, direction, false)\n}\n\nfunction handleResize(columnName: string, newWidth: number) {\n  const col = store.columns.find((c: GridColumn) => c.name === columnName)\n  if (col) {\n    col.width = newWidth\n  }\n}\n\nasync function handleCellEditComplete(rowId: string, columnName: string, value: any) {\n  store.updateCell(rowId, columnName, value)\n\n  // ✅ RIEŠENIE #4: Early exit checks for validation\n  const column = store.columns.find((c: GridColumn) => c.name === columnName)\n  if (!column) {\n    console.warn('[DataGrid] handleCellEditComplete: Column not found:', columnName)\n    return\n  }\n\n  // ✅ RIEŠENIE #4: Skip validation for hidden columns\n  if (column.visibleForGrid === false) {\n    // Continue to row height recalculation (don't return yet)\n  }\n  // CRITICAL: Validate cell immediately after edit if auto-validate is enabled\n  else if (store.config.autoValidate && store.config.enableValidation && validation) {\n    // ✅ RIEŠENIE #4: Skip validation if column has no rules\n    const hasRules = validation.validationRules.value.has(columnName) &&\n                     validation.validationRules.value.get(columnName)!.length > 0\n\n    if (!hasRules) {\n      // Continue to row height recalculation (don't return yet)\n    } else {\n      // ✅ NOW validate (only if visible AND has rules)\n      const row = store.rows.find((r: GridRow) => r.rowId === rowId)\n      const rowCells = row?.cells.map((c: GridCell) => ({ columnName: c.columnName, value: c.value }))\n      await validation.validateCellThrottled(rowId, columnName, value, rowCells)\n    }\n  }\n\n  // Recalculate row height if auto row height is enabled\n  if (store.isAutoRowHeightEnabled) {\n    await recalculateRowHeightAfterEdit(rowId)\n    await nextTick()\n  }\n  // ✅ FIX: When AutoRowHeight is OFF, ALWAYS recalculate height based on current row values\n  // This handles both:\n  // 1. Adding newlines (Shift+Enter) → increases height\n  // 2. Cancel edit (ESC) with previous newlines → restores original height\n  else {\n    await recalculateRowHeightForNewlines(rowId)\n  }\n}\n\nasync function handleCellInput(rowId: string, columnName: string, value: any) {\n\n  // Update cell value in store (needed for real-time validation and AutoRowHeight)\n  // cancelEdit() will restore original value if user cancels\n  store.updateCell(rowId, columnName, value)\n\n  // Recalculate row height in real-time if AutoRowHeight is enabled\n  if (store.isAutoRowHeightEnabled) {\n    await recalculateRowHeightAfterEdit(rowId)\n    await nextTick()\n  }\n  // Special case: if value contains newlines but AutoRowHeight is OFF, still recalculate\n  else if (value != null && String(value).includes('\\n')) {\n    await recalculateRowHeightForNewlines(rowId)\n  }\n}\n\nfunction handleCheckboxChange(rowId: string, checked: boolean) {\n  store.toggleCheckbox(rowId, checked)\n}\n\nfunction handleDeleteRow(rowId: string) {\n  store.deleteRow(rowId)\n}\n\nfunction handleInsertRow(afterRowId: string) {\n  store.insertRow(afterRowId)\n}\n\nfunction handleInsertAbove(rowId: string, count: number) {\n  store.insertMultipleRows(rowId, count, 'above')\n}\n\nfunction handleInsertBelow(rowId: string, count: number) {\n  store.insertMultipleRows(rowId, count, 'below')\n}\n\n// Hidden columns management\nconst hiddenColumns = computed(() => {\n  return dataColumns.value.filter((col: GridColumn) => !col.isVisible && !col.specialType && col.visibleForGrid !== false)\n})\n\nfunction handleHideColumn(columnName: string) {\n  console.log('[DataGrid] ✅ handleHideColumn CALLED with:', columnName)\n\n  const col = store.columns.find((c: GridColumn) => c.name === columnName)\n  console.log('[DataGrid] Found column:', col ? { name: col.name, specialType: col.specialType, isVisible: col.isVisible } : 'NOT FOUND')\n\n  if (col && !col.specialType) {\n    store.updateColumn(columnName, { isVisible: false })\n    console.log(`[DataGrid] ✅ Hidden column: ${columnName}`)\n  } else {\n    console.warn(`[DataGrid] ❌ Cannot hide column: ${columnName} (specialType: ${col?.specialType})`)\n  }\n}\n\nfunction showColumn(columnName: string) {\n  store.updateColumn(columnName, { isVisible: true })\n  console.log(`Shown column: ${columnName}`)\n}\n\nfunction showAllColumns() {\n  store.columns.forEach((col: GridColumn) => {\n    if (!col.specialType) {\n      store.updateColumn(col.name, { isVisible: true })\n    }\n  })\n  console.log('Shown all columns')\n}\n\nfunction handleAutoFitColumn(columnName: string) {\n  console.log('[DataGrid] ✅ handleAutoFitColumn CALLED with:', columnName)\n\n  const col = store.columns.find((c: GridColumn) => c.name === columnName)\n  if (!col) {\n    console.warn('[DataGrid] ❌ Column not found:', columnName)\n    return\n  }\n\n  console.log('[DataGrid] Found column:', { name: col.name, currentWidth: col.width, minWidth: col.minWidth, maxWidth: col.maxWidth })\n\n  // Create a temporary canvas to measure text width\n  const canvas = document.createElement('canvas')\n  const context = canvas.getContext('2d')\n  if (!context) {\n    console.error('[DataGrid] ❌ Canvas context not available')\n    return\n  }\n\n  // Set font to match grid cell font\n  context.font = '14px system-ui, -apple-system, sans-serif'\n\n  let maxWidth = 0\n\n  // Measure header text\n  const headerWidth = context.measureText(col.header).width\n  maxWidth = Math.max(maxWidth, headerWidth + 40) // Add padding for sort icon, etc.\n  console.log('[DataGrid] Header width:', headerWidth, '→ with padding:', headerWidth + 40)\n\n  // Measure all cell values in this column\n  store.rows.forEach((row: GridRow) => {\n    const cell = row.cells.find((c: GridCell) => c.columnName === columnName)\n    const value = cell?.value\n    const textValue = value?.toString() ?? ''\n    if (textValue) {\n      const textWidth = context.measureText(textValue).width\n      maxWidth = Math.max(maxWidth, textWidth + 24) // Add padding for cell content\n    }\n  })\n\n  console.log('[DataGrid] Max measured width (with padding):', Math.ceil(maxWidth))\n\n  // Apply constraints (min/max width)\n  const newWidth = Math.max(\n    col.minWidth,\n    Math.min(col.maxWidth, Math.ceil(maxWidth))\n  )\n\n  console.log('[DataGrid] Calculated new width:', newWidth, '(min:', col.minWidth, 'max:', col.maxWidth, ')')\n\n  store.updateColumn(columnName, { width: newWidth })\n  console.log(`[DataGrid] ✅ Auto-fit column ${columnName}: ${newWidth}px (measured: ${Math.ceil(maxWidth)}px)`)\n}\n\n// Filter Flyout state\nconst filterFlyout = ref<{\n  visible: boolean\n  columnName: string\n  position: { x: number; y: number }\n  uniqueValues: FilterValue[]\n  mode: 'checkbox' | 'regex'\n  pattern: string\n}>({\n  visible: false,\n  columnName: '',\n  position: { x: 0, y: 0 },\n  uniqueValues: [],\n  mode: 'checkbox',\n  pattern: ''\n})\n\n// ✅ HELPER: Extract all filters EXCEPT filters for specific column\nfunction extractFiltersExceptColumn(filter: FilterExpression | null | undefined, excludeColumnName: string): FilterExpression | null {\n  // ✅ FIX: Handle undefined filter expression (early initialization)\n  if (filter === null || filter === undefined) return null\n\n  if (filter.type === 'simple') {\n    const simpleFilter = filter as SimpleFilter\n    // If this filter is for the excluded column, remove it\n    return simpleFilter.columnName === excludeColumnName ? null : filter\n  }\n\n  // Composite filter - recursively process left and right\n  const compositeFilter = filter as CompositeFilter\n\n  // ✅ FIX: Defensive check for null/undefined children\n  if (!compositeFilter.left || !compositeFilter.right) {\n    console.error('[extractFiltersExceptColumn] Invalid composite filter - missing children:', compositeFilter)\n    return null\n  }\n\n  const leftFiltered = extractFiltersExceptColumn(compositeFilter.left, excludeColumnName)\n  const rightFiltered = extractFiltersExceptColumn(compositeFilter.right, excludeColumnName)\n\n  // Rebuild composite filter\n  if (!leftFiltered && !rightFiltered) return null\n  if (!leftFiltered) return rightFiltered\n  if (!rightFiltered) return leftFiltered\n\n  return {\n    type: 'composite',\n    left: leftFiltered,\n    right: rightFiltered,\n    operator: compositeFilter.operator\n  } as CompositeFilter\n}\n\n// ✅ HELPER: Extract currently selected values for a column from filter expression\nfunction extractSelectedValuesForColumn(filter: FilterExpression | null | undefined, columnName: string): Set<string> {\n  const selectedValues = new Set<string>()\n\n  // ✅ FIX: Handle undefined filter expression (early initialization)\n  if (filter === null || filter === undefined) return selectedValues\n\n  function traverse(expr: FilterExpression) {\n    if (expr.type === 'simple') {\n      const simpleFilter = expr as SimpleFilter\n      if (simpleFilter.columnName === columnName && simpleFilter.operator === 'Equals') {\n        selectedValues.add(String(simpleFilter.value))\n      }\n    } else {\n      const compositeFilter = expr as CompositeFilter\n      // ✅ FIX: Prechádzaj VŠETKY vetvy (AND aj OR)\n      // Pre checkbox filter: hodnoty pre jeden stĺpec sú spojené OR\n      // Rôzne stĺpce sú spojené AND\n      // Musíme prejsť cez AND, aby sme našli OR vetvy pre náš stĺpec\n      traverse(compositeFilter.left)\n      traverse(compositeFilter.right)\n    }\n  }\n\n  traverse(filter)\n  return selectedValues\n}\n\n// Get unique values for a column with counts\n// ✅ VARIANTA 3 FIX: Shows ALL unique values (with filters applied EXCEPT filter for this column)\n// REASON: User should see all possible values, not just currently filtered ones\n// EXAMPLE: If \"Status\" filtered to [\"Active\"], flyout should show [Active✓, Pending, Completed], not just [Active✓]\nfunction getUniqueValues(columnName: string): FilterValue[] {\n  try {\n    // ✅ FIX: Wrap in try-catch for error handling and debugging\n    console.log(`[getUniqueValues] Starting for column: ${columnName}`)\n\n    // ✅ FIX: Early return if store or rows are not initialized\n    if (!store || !store.rows) {\n      console.warn(`[getUniqueValues] Store or rows not initialized yet, returning empty array`)\n      return []\n    }\n\n    // ✅ FIX: Special handling for Checkbox column\n    if (columnName === '__checkbox') {\n      // Checkbox column - return true/false options\n      // Apply filters from other columns to count correctly\n      const filtersExceptThisColumn = extractFiltersExceptColumn(store.filterExpression, columnName)\n      console.log(`[getUniqueValues] Checkbox - Has filters to apply: ${!!filtersExceptThisColumn}`)\n\n      const allRows = store.rows\n      console.log(`[getUniqueValues] Checkbox - Total rows before filtering: ${allRows.length}`)\n\n      // ✅ FIX: Pass store to filterRowsHelper so it can access checkbox state\n      const filteredRows = filtersExceptThisColumn ? filterRowsHelper(allRows, filtersExceptThisColumn, store) : allRows\n      console.log(`[getUniqueValues] Checkbox - Total rows after filtering: ${filteredRows.length}`)\n\n      // ✅ DEBUG: Log first few rows to see checkbox values\n      const sampleSize = Math.min(3, filteredRows.length)\n      for (let i = 0; i < sampleSize; i++) {\n        const cell = filteredRows[i].cells.find((c: GridCell) => c.columnName === '__checkbox')\n        console.log(`[getUniqueValues] Checkbox - Row ${i}: cell=${!!cell}, value=${cell?.value}, type=${typeof cell?.value}`)\n      }\n\n      const trueCount = filteredRows.filter((row: GridRow) => {\n        // ✅ FIX: Checkbox state je v store.checkedRows, NIE v row.cells\n        return store.isRowChecked(row.rowId)\n      }).length\n\n      const falseCount = filteredRows.length - trueCount\n\n      const currentlySelectedValues = extractSelectedValuesForColumn(store.filterExpression, columnName)\n\n      console.log(`[getUniqueValues] Checkbox column: true=${trueCount}, false=${falseCount}, selected=${Array.from(currentlySelectedValues)}`)\n\n      return [\n        {\n          value: 'true',\n          isSelected: currentlySelectedValues.has('true'),\n          count: trueCount,\n          displayText: `☑ Checked (${trueCount})`\n        },\n        {\n          value: 'false',\n          isSelected: currentlySelectedValues.has('false'),\n          count: falseCount,\n          displayText: `☐ Unchecked (${falseCount})`\n        }\n      ]\n    }\n\n    // ✅ Normal columns processing\n    const valueMap = new Map<string, number>()\n\n    // ✅ VARIANTA 3 FIX: Extract filters EXCEPT filter for this column\n    const filtersExceptThisColumn = extractFiltersExceptColumn(store.filterExpression, columnName)\n    console.log(`[getUniqueValues] Has filters to apply for '${columnName}': ${!!filtersExceptThisColumn}`)\n\n    // ✅ VARIANTA 3 FIX: Load ALL rows (without any filtering)\n    const allRows = store.rows\n\n    // ✅ VARIANTA 3 FIX: Apply filters manually (all EXCEPT this column's filter)\n    // ✅ FIX: Pass store to filterRowsHelper so it can access checkbox state\n    const filteredRows = filtersExceptThisColumn ? filterRowsHelper(allRows, filtersExceptThisColumn, store) : allRows\n\n    console.log(`[getUniqueValues] Column=${columnName}, AllRows=${allRows.length}, FilteredRows=${filteredRows.length}`)\n\n    // Extract unique values from filtered rows\n    filteredRows.forEach((row: GridRow) => {\n      const cell = row.cells.find((c: GridCell) => c.columnName === columnName)\n      const value = cell?.value?.toString() ?? ''\n      valueMap.set(value, (valueMap.get(value) || 0) + 1)\n    })\n\n    // Get currently selected values for this column (to mark checkboxes as checked)\n    const currentlySelectedValues = extractSelectedValuesForColumn(store.filterExpression, columnName)\n\n    console.log(`[getUniqueValues] Column=${columnName}, UniqueValues=${valueMap.size}, SelectedValues=${currentlySelectedValues.size}`)\n\n    const result = Array.from(valueMap.entries())\n      .map(([value, count]: [string, number]) => {\n        // Display empty values as \"(Empty)\"\n        const displayValue = value === '' ? '(Empty)' : value\n        return {\n          value,\n          isSelected: currentlySelectedValues.has(value), // ✅ Mark checkbox based on current filter\n          count,\n          displayText: `${displayValue} (${count})`\n        }\n      })\n      .sort((a: FilterValue, b: FilterValue) => {\n        // Sort empty values to bottom\n        if (a.value === '' && b.value !== '') return 1\n        if (a.value !== '' && b.value === '') return -1\n        return a.value.localeCompare(b.value)\n      })\n\n    console.log(`[getUniqueValues] Returning ${result.length} unique values`)\n    return result\n  } catch (error) {\n    console.error(`[getUniqueValues] ERROR for column '${columnName}':`, error)\n    console.error(`[getUniqueValues] Filter expression at time of error:`, store.filterExpression)\n    console.error(`[getUniqueValues] Stack trace:`, error instanceof Error ? error.stack : 'No stack trace')\n    // Return empty array to prevent UI crash\n    return []\n  }\n}\n\nfunction handleShowFilter(columnName: string) {\n  try {\n    console.log(`[handleShowFilter] START for column: ${columnName}`)\n\n    // ✅ Check if grid is ready\n    if (!isGridReady.value) {\n      console.error(`[handleShowFilter] Grid not ready yet`)\n      alert('Please wait for the grid to finish loading before opening filters.')\n      return\n    }\n\n    // ✅ Check if processing (validation/AutoRowHeight)\n    if (isProcessing.value) {\n      console.error(`[handleShowFilter] Grid is currently processing data`)\n      alert('Please wait while data is being processed...')\n      return\n    }\n\n    // ✅ Check if column exists and is filterable\n    const column = dataColumns.value.find((c: GridColumn) => c.name === columnName)\n    if (!column) {\n      console.error(`[handleShowFilter] Column not found: ${columnName}`)\n      return\n    }\n\n    if (!column.isFilterable) {\n      console.warn(`[handleShowFilter] Column '${columnName}' is not filterable`)\n      return\n    }\n\n    // ✅ Check if column has visibleForGrid=false (should not be filtered)\n    if (column.visibleForGrid === false) {\n      console.warn(`[handleShowFilter] Column '${columnName}' has visibleForGrid=false, filtering not allowed`)\n      return\n    }\n\n    // ✅ Check if store is initialized\n    if (!store || !store.rows || store.rows.length === 0) {\n      console.error(`[handleShowFilter] Store not initialized or no data`)\n      alert('Please load data before opening filters.')\n      return\n    }\n\n    // Get unique values for the column\n    const uniqueValues = getUniqueValues(columnName)\n    console.log(`[handleShowFilter] Got ${uniqueValues.length} unique values`)\n\n    // Calculate position (centered on screen for now)\n    const position = {\n      x: window.innerWidth / 2 - 200, // 200 is roughly half the flyout width\n      y: window.innerHeight / 2 - 300 // 300 is roughly half the flyout height\n    }\n\n    filterFlyout.value = {\n      visible: true,\n      columnName,\n      position,\n      uniqueValues,\n      mode: 'checkbox',\n      pattern: ''\n    }\n\n    console.log(`[handleShowFilter] Filter flyout opened successfully`)\n  } catch (error) {\n    console.error(`[handleShowFilter] CRITICAL ERROR for column '${columnName}':`, error)\n    console.error(`[handleShowFilter] Stack trace:`, error instanceof Error ? error.stack : 'No stack trace')\n    alert(`Error opening filter for column '${columnName}': ${error instanceof Error ? error.message : String(error)}`)\n  }\n}\n\nfunction closeFilterFlyout() {\n  filterFlyout.value.visible = false\n}\n\n// Helper: Extract filters grouped by column from a filter expression tree\n// Returns a Map where key is columnName and value is the filter expression for that column\nfunction extractColumnFilters(filter: FilterExpression | null): Map<string, FilterExpression> {\n  const columnFilters = new Map<string, FilterExpression>()\n\n  function traverse(expr: FilterExpression, isAndContext: boolean): string | null {\n    if (expr.type === 'simple') {\n      const simple = expr as SimpleFilter\n      // In AND context at top level, this is a separate column filter\n      if (isAndContext) {\n        columnFilters.set(simple.columnName, expr)\n      }\n      return simple.columnName\n    } else {\n      const composite = expr as CompositeFilter\n\n      if (composite.operator === 'AND') {\n        // AND operator separates different columns\n        traverse(composite.left, true)\n        traverse(composite.right, true)\n        return null\n      } else {\n        // OR operator keeps same column together\n        const leftCol: string | null = traverse(composite.left, false)\n        const rightCol: string | null = traverse(composite.right, false)\n\n        // Both sides should be same column in OR\n        const columnName: string | null = leftCol || rightCol\n        if (columnName && isAndContext) {\n          columnFilters.set(columnName, expr)\n        }\n        return columnName\n      }\n    }\n  }\n\n  if (filter) {\n    traverse(filter, true)\n  }\n\n  return columnFilters\n}\n\n// Helper: Combine multiple filters with AND operator\nfunction combineFiltersWithAnd(filters: FilterExpression[]): FilterExpression | null {\n  // ✅ FIX: Filter out null/undefined values to prevent corrupted filter structures\n  const validFilters = filters.filter((f: FilterExpression | null) => f != null)\n\n  if (validFilters.length === 0) return null\n  if (validFilters.length === 1) return validFilters[0]\n\n  let result = validFilters[0]\n  for (let i = 1; i < validFilters.length; i++) {\n    result = {\n      type: 'composite',\n      left: result,\n      right: validFilters[i],\n      operator: 'AND'\n    } as CompositeFilter\n  }\n\n  return result\n}\n\n// Helper: Combine a new filter with existing filters (per-column replacement + cumulative)\nfunction combineWithExistingFilters(newColumnFilter: FilterExpression, columnName: string): FilterExpression {\n  // Get current filter expression\n  const currentFilter = store.filterExpression\n\n  // Extract filters grouped by column\n  const columnFilters = extractColumnFilters(currentFilter)\n\n  // Replace or add the filter for this column\n  columnFilters.set(columnName, newColumnFilter)\n\n  // Combine all column filters with AND\n  const allFilters = Array.from(columnFilters.values())\n  return combineFiltersWithAnd(allFilters) || newColumnFilter\n}\n\nfunction handleApplyCheckboxFilter(selectedValues: string[]) {\n  const columnName = filterFlyout.value.columnName\n\n  if (selectedValues.length === 0) {\n    // No values selected = remove filter for this column only\n    const columnFilters = extractColumnFilters(store.filterExpression)\n    columnFilters.delete(columnName)\n\n    if (columnFilters.size === 0) {\n      store.clearFilter()\n    } else {\n      const allFilters = Array.from(columnFilters.values())\n      const combinedFilter = combineFiltersWithAnd(allFilters)\n      store.setFilter(combinedFilter)\n    }\n  } else {\n    // ✅ FIX: Convert string values to boolean for Checkbox column\n    const filterValues = columnName === '__checkbox'\n      ? selectedValues.map((v: string) => v === 'true')\n      : selectedValues\n\n    // Build new filter for this column\n    let newColumnFilter: FilterExpression\n\n    if (filterValues.length === 1) {\n      // Single value - use simple filter\n      newColumnFilter = {\n        type: 'simple',\n        columnName,\n        operator: 'Equals',\n        value: filterValues[0]\n      } as SimpleFilter\n    } else {\n      // Multiple values - build composite OR filter\n      newColumnFilter = {\n        type: 'simple',\n        columnName,\n        operator: 'Equals',\n        value: filterValues[0]\n      } as SimpleFilter\n\n      for (let i = 1; i < filterValues.length; i++) {\n        newColumnFilter = {\n          type: 'composite',\n          left: newColumnFilter,\n          right: {\n            type: 'simple',\n            columnName,\n            operator: 'Equals',\n            value: filterValues[i]\n          } as SimpleFilter,\n          operator: 'OR'\n        } as CompositeFilter\n      }\n    }\n\n    // Combine with existing filters from other columns\n    const combinedFilter = combineWithExistingFilters(newColumnFilter, columnName)\n    store.setFilter(combinedFilter)\n  }\n\n  console.log(`Applied checkbox filter to ${columnName}:`, selectedValues, 'Final filter:', store.filterExpression)\n}\n\nfunction handleApplyRegexFilter(pattern: string) {\n  const columnName = filterFlyout.value.columnName\n\n  if (!pattern) {\n    // Empty pattern = remove filter for this column only\n    const columnFilters = extractColumnFilters(store.filterExpression)\n    columnFilters.delete(columnName)\n\n    if (columnFilters.size === 0) {\n      store.clearFilter()\n    } else {\n      const allFilters = Array.from(columnFilters.values())\n      const combinedFilter = combineFiltersWithAnd(allFilters)\n      store.setFilter(combinedFilter)\n    }\n    return\n  }\n\n  // Note: Full regex support is not available in the declarative filter system\n  // Using 'Contains' operator as a simplified pattern match\n  // For more complex patterns, a custom filter operator would need to be added\n  const newColumnFilter: SimpleFilter = {\n    type: 'simple',\n    columnName,\n    operator: 'Contains',\n    value: pattern\n  }\n\n  // Combine with existing filters from other columns\n  const combinedFilter = combineWithExistingFilters(newColumnFilter, columnName)\n  store.setFilter(combinedFilter)\n\n  console.log(`Applied text contains filter to ${columnName}:`, pattern, 'Final filter:', store.filterExpression)\n}\n\nfunction handleClearFilter() {\n  const columnName = filterFlyout.value.columnName\n\n  // Remove filter for this column only\n  const columnFilters = extractColumnFilters(store.filterExpression)\n  columnFilters.delete(columnName)\n\n  if (columnFilters.size === 0) {\n    store.clearFilter()\n  } else {\n    const allFilters = Array.from(columnFilters.values())\n    const combinedFilter = combineFiltersWithAnd(allFilters)\n    store.setFilter(combinedFilter)\n  }\n\n  console.log(`Cleared filter for ${columnName}`, 'Final filter:', store.filterExpression)\n}\n\n// Auto Row Height handlers\nasync function toggleAutoRowHeight() {\n  try {\n    console.log('[toggleAutoRowHeight] ========== FUNCTION CALLED ==========')\n    console.log(`[toggleAutoRowHeight] Current state: ${store.isAutoRowHeightEnabled}`)\n    console.log('[toggleAutoRowHeight] Rows BEFORE:', store.rows.slice(0, 5).map((r: GridRow) => ({ id: r.rowId, height: r.height })))\n\n    const newValue = !store.isAutoRowHeightEnabled\n    console.log(`[toggleAutoRowHeight] New state will be: ${newValue}`)\n\n    store.setAutoRowHeightEnabled(newValue)\n    console.log('[toggleAutoRowHeight] Store updated')\n\n    if (newValue) {\n      // Apply heights immediately to all existing rows\n      console.log('[toggleAutoRowHeight] Enabled - applying heights to all rows...')\n      await applyAutoRowHeightToAll()\n      console.log('[toggleAutoRowHeight] Heights applied successfully')\n    } else {\n      // Reset all rows to default height when disabling\n      console.log('[toggleAutoRowHeight] Disabled - resetting all row heights...')\n      await resetAllRowHeights()\n      console.log('[toggleAutoRowHeight] Heights reset successfully')\n    }\n\n    console.log('[toggleAutoRowHeight] Rows AFTER:', store.rows.slice(0, 5).map((r: GridRow) => ({ id: r.rowId, height: r.height })))\n    console.log('[toggleAutoRowHeight] ========== FUNCTION COMPLETED ==========')\n  } catch (error) {\n    console.log(`[toggleAutoRowHeight] ❌ ERROR: ${error}`)\n    console.log(`[toggleAutoRowHeight] Error stack: ${error instanceof Error ? error.stack : 'N/A'}`)\n  }\n}\n\nasync function applyAutoRowHeightToAll() {\n  // Pass ALL columns but skip ValidationAlerts to avoid inflated heights\n  // ValidationAlerts uses ellipsis, doesn't need measurement\n  const columnsForMeasurement = allColumns.value\n    .filter((col: GridColumn) => !col.specialType || col.specialType !== 'ValidationAlerts')\n    .map((col: GridColumn) => ({\n      name: col.name,\n      width: col.width,\n      specialType: col.specialType\n    }))\n\n  console.log('[applyAutoRowHeightToAll] ========== START ==========')\n  console.log('[applyAutoRowHeightToAll] AutoRowHeight is ON')\n\n  // Log ALL row heights BEFORE changes\n  const heightsBefore = store.rows.map((r: GridRow) => ({ rowId: r.rowId, heightBefore: r.height }))\n  console.log('[applyAutoRowHeightToAll] BEFORE - All row heights:', heightsBefore.slice(0, 10))\n\n  console.log('[applyAutoRowHeightToAll] Measuring columns:', columnsForMeasurement.map((c: { name: string; width: number; specialType?: string }) => `${c.name} (${c.width}px, special: ${c.specialType || 'none'})`).join(', '))\n\n  const result = await autoRowHeight.applyAutoRowHeight(store.rows, columnsForMeasurement)\n\n  // Log ALL row heights AFTER changes and compare\n  const heightsAfter = store.rows.map((r: GridRow, i: number) => ({\n    rowId: r.rowId,\n    heightBefore: heightsBefore[i].heightBefore,\n    heightAfter: r.height,\n    changed: heightsBefore[i].heightBefore !== r.height\n  }))\n\n  console.log('[applyAutoRowHeightToAll] AFTER - All row heights (first 10):', heightsAfter.slice(0, 10))\n  console.log('[applyAutoRowHeightToAll] Changed rows:', heightsAfter.filter((h: { rowId: string; heightBefore: number; heightAfter: number; changed: boolean }) => h.changed).length)\n  console.log(`[applyAutoRowHeightToAll] Summary: ${result.totalRowsUpdated} rows updated, average height: ${result.averageHeight.toFixed(1)}px`)\n\n  // CRITICAL: Wait for Vue to update DOM before forcing scroller update\n  await nextTick()\n  console.log('[applyAutoRowHeightToAll] First nextTick complete')\n\n  // Double nextTick to ensure all reactive updates complete\n  await nextTick()\n  console.log('[applyAutoRowHeightToAll] Second nextTick complete')\n\n  // Triple nextTick for good measure\n  await nextTick()\n  console.log('[applyAutoRowHeightToAll] Third nextTick complete')\n\n  // Small delay to ensure rendering completes\n  await new Promise((resolve: (value: void | PromiseLike<void>) => void) => setTimeout(resolve, 50))\n  console.log('[applyAutoRowHeightToAll] Delay complete')\n\n  console.log('[applyAutoRowHeightToAll] ========== COMPLETE ==========')\n}\n\nasync function resetAllRowHeights() {\n  console.log('[resetAllRowHeights] START - AutoRowHeight is OFF, resetting heights based on newlines')\n\n  let rowsProcessed = 0\n  let rowsWithNewlines = 0\n  const defaultHeight = 32  // Default pre bunky bez newlines\n\n  // ✅ FIX: Prepočítať výšku pre KAŽDÝ riadok na základe newlines\n  for (const row of store.rows) {\n    let maxLines = 1\n\n    // Check all data cells for newlines\n    for (const cell of row.cells) {\n      if (cell.value == null) continue\n\n      const textValue = String(cell.value)\n      if (textValue.includes('\\n')) {\n        // Count lines (split by \\n)\n        const lines = textValue.split('\\n').length\n        maxLines = Math.max(maxLines, lines)\n      }\n    }\n\n    // Calculate height: lineHeight (21px) * lines + vertical padding (10px)\n    if (maxLines > 1) {\n      const lineHeight = 21  // 14px font-size * 1.5 line-height\n      const verticalPadding = 10  // 5px top + 5px bottom\n      row.height = maxLines * lineHeight + verticalPadding\n      rowsWithNewlines++\n    } else {\n      // No newlines - use default height\n      row.height = defaultHeight\n    }\n\n    rowsProcessed++\n  }\n\n  console.log('[resetAllRowHeights] Summary:', {\n    totalRows: rowsProcessed,\n    rowsWithNewlines: rowsWithNewlines,\n    rowsWithDefaultHeight: rowsProcessed - rowsWithNewlines,\n    defaultHeight: defaultHeight,\n    note: 'Rows with newlines have calculated height'\n  })\n\n  console.log('[resetAllRowHeights] All row heights calculated based on content')\n\n  // CRITICAL: Wait for Vue to update DOM before forcing scroller update\n  await nextTick()\n  console.log('[resetAllRowHeights] First nextTick complete')\n\n  // Double nextTick to ensure all reactive updates complete\n  await nextTick()\n  console.log('[resetAllRowHeights] Second nextTick complete')\n\n  // Triple nextTick for good measure\n  await nextTick()\n  console.log('[resetAllRowHeights] Third nextTick complete')\n\n  // Small delay to ensure rendering completes\n  await new Promise((resolve: (value: void | PromiseLike<void>) => void) => setTimeout(resolve, 50))\n  console.log('[resetAllRowHeights] Delay complete')\n\n  console.log('[resetAllRowHeights] COMPLETE')\n}\n\nasync function recalculateRowHeightAfterEdit(rowId: string) {\n  if (!store.isAutoRowHeightEnabled) return\n\n  // Skip ValidationAlerts column from measurement - validation messages use ellipsis\n  const columnsForMeasurement = allColumns.value\n    .filter((col: GridColumn) => !col.specialType || col.specialType !== 'ValidationAlerts')\n    .map((col: GridColumn) => ({\n      name: col.name,\n      width: col.width,\n      specialType: col.specialType\n    }))\n\n  const row = store.rows.find((r: GridRow) => r.rowId === rowId)\n  if (!row) return\n\n  const updatedCount = autoRowHeight.recalculateRows(store.rows, [rowId], columnsForMeasurement)\n\n  if (updatedCount > 0 && row) {\n    // CRITICAL: Force Vue reactivity by reassigning through store\n    store.updateRowHeight(rowId, row.height)\n\n    await nextTick()\n  }\n}\n\n/**\n * Calculates row height based on newlines when AutoRowHeight is OFF\n * Only counts explicit newlines (\\n), doesn't wrap by spaces\n */\nasync function recalculateRowHeightForNewlines(rowId: string) {\n  const row = store.rows.find((r: GridRow) => r.rowId === rowId)\n  if (!row) return\n\n  let maxLines = 1\n\n  // Check all data cells for newlines\n  for (const cell of row.cells) {\n    if (cell.value == null) continue\n\n    const textValue = String(cell.value)\n    if (textValue.includes('\\n')) {\n      // Count lines (split by \\n)\n      const lines = textValue.split('\\n').length\n      maxLines = Math.max(maxLines, lines)\n    }\n  }\n\n  // Calculate height: lineHeight (21px) * lines + vertical padding (10px)\n  const lineHeight = 21  // 14px font-size * 1.5 line-height\n  const verticalPadding = 10  // 5px top + 5px bottom\n  const calculatedHeight = maxLines * lineHeight + verticalPadding\n\n  // Update row height\n  store.updateRowHeight(rowId, calculatedHeight)\n  await nextTick()\n}\n\n// Backend API handlers\nasync function checkBackendConnection() {\n  logger.debug('🔌 Checking backend connection...')\n\n  try {\n    isBackendConnected.value = await gridApi.healthCheck()\n\n    if (isBackendConnected.value) {\n      logger.info('✅ Backend connected')\n    } else {\n      logger.warn('⚠️ Backend disconnected')\n    }\n  } catch (error: any) {\n    logger.error('❌ Backend connection check failed', {\n      error: error?.message || error?.toString() || 'Unknown error',\n      stack: error?.stack\n    })\n    isBackendConnected.value = false\n  }\n}\n\n// ✅ RIEŠENIE #6: Original function (to be wrapped with debounce)\nasync function loadDataFromBackendOriginal() {\n  // ✅ RIEŠENIE #7: Guard - prevent concurrent data loads\n  if (isProcessing.value) {\n    return\n  }\n\n  isLoadingFromBackend.value = true\n  isProcessing.value = true\n\n  // ✅ RIEŠENIE #4: Set loading state\n  loadingState.value = {\n    isLoading: true,\n    operation: 'Loading data from backend...',\n    progress: 0,\n    total: 0,\n    percentage: 0\n  }\n\n  // 📊 LOG: Data loading START\n  console.info('═══════════════════════════════════════════════════')\n  console.info('📥 DATA LOADING START')\n  console.info('═══════════════════════════════════════════════════')\n\n  try {\n    const response = await gridApi.getData()\n\n    if (response.success && response.data) {\n      // ✅ RIEŠENIE #4: Update loading state\n      loadingState.value.operation = 'Processing data...'\n      loadingState.value.total = response.data.length\n\n      // Convert backend data format to store format\n      // Backend returns: { RowId, RowHeight, Checkbox, Data: { name, email, ... } }\n      // Store expects: { __rowId, __rowHeight, __checkbox, name, email, ... }\n      const rows = response.data.map((row: any, index: number) => ({\n        __rowId: row.RowId || `row-${Date.now()}-${index}`,\n        __rowHeight: row.RowHeight || 40,\n        __checkbox: row.Checkbox,\n        ...row.Data  // Spread Data dictionary to root level\n      }))\n\n      // ✅ RIEŠENIE #4: Update progress\n      loadingState.value.progress = rows.length\n      loadingState.value.percentage = 100\n\n      // Clear validation tracking before loading new data (bulk load)\n      store.clearValidationTracking()\n\n      store.loadRows(rows)\n\n      // ✅ RIEŠENIE #4: Update operation\n      loadingState.value.operation = 'Data loaded successfully'\n\n      // 📊 LOG: Data loading SUCCESS\n      console.info('═══════════════════════════════════════════════════')\n      console.info(`✅ DATA LOADING SUCCESS - ${rows.length} rows loaded`)\n      console.info('═══════════════════════════════════════════════════')\n\n      // ✅ RIEŠENIE #4B: Explicit validation call after data load (replaces deep watch on rows)\n      // Validate all cells after loading data if auto-validation is enabled\n      if (store.config.autoValidate && store.config.enableValidation) {\n        const rulesCount = validation?.validationRules?.value?.size || 0\n\n        if (rulesCount > 0) {\n          // ✅ RIEŠENIE #4B: Wait for DOM to stabilize before validating\n          await nextTick()\n          await nextTick()\n\n          // ✅ RIEŠENIE #4B: Additional small delay for stability\n          await new Promise((resolve: (value: void | PromiseLike<void>) => void) => setTimeout(resolve, 50))\n\n          await validateAllCellsInBatches()\n        }\n      }\n    } else {\n      // 📊 LOG: Data loading ERROR (API failed)\n      console.error('═══════════════════════════════════════════════════')\n      console.error('❌ DATA LOADING ERROR:', response.error)\n      console.error('═══════════════════════════════════════════════════')\n      alert(`Failed to load data: ${response.error}`)\n    }\n  } catch (error) {\n    // 📊 LOG: Data loading FATAL (Exception)\n    console.error('═══════════════════════════════════════════════════')\n    console.error('💥 DATA LOADING FATAL EXCEPTION:', error)\n    console.error('═══════════════════════════════════════════════════')\n    alert(`Error loading data: ${error instanceof Error ? error.message : 'Unknown error'}`)\n  } finally {\n    isLoadingFromBackend.value = false\n    isProcessing.value = false\n\n    // ✅ RIEŠENIE #4: Reset loading state\n    loadingState.value.isLoading = false\n  }\n}\n\n// ✅ RIEŠENIE #6: Debounced wrapper (1 second debounce, max 2 seconds wait)\nconst loadDataFromBackend = useDebounceFn(loadDataFromBackendOriginal, 1000, {\n  maxWait: 2000\n})\n\nasync function saveDataToBackend() {\n  isSavingToBackend.value = true\n\n  try {\n    // ✅ RIEŠENIE #5: Get visible data columns (for empty check)\n    const visibleDataColumns = dataColumns.value.filter((col: GridColumn) =>\n      !col.specialType && col.visibleForGrid !== false\n    )\n\n    // ✅ RIEŠENIE #5: Filter and extract data\n    const data: Record<string, any>[] = []\n    let skippedEmptyRows = 0\n\n    for (const row of store.rows) {\n      // ✅ RIEŠENIE #5: Check if row has visible data\n      const hasVisibleData = visibleDataColumns.some((col: GridColumn) => {\n        const cell = row.cells.find((c: GridCell) => c.columnName === col.name)\n        const value = cell?.value\n        return value !== null && value !== undefined && value !== ''\n      })\n\n      if (!hasVisibleData) {\n        skippedEmptyRows++\n        continue  // ✅ SKIP - row has no visible data\n      }\n\n      // ✅ RIEŠENIE #5: Extract ALL columns (including hidden)\n      // Backend gets complete data for rows with visible content\n      const rowData: Record<string, any> = {}\n\n      dataColumns.value.forEach((col: GridColumn) => {\n        if (!col.specialType) {\n          const cell = row.cells.find((c: GridCell) => c.columnName === col.name)\n          if (cell) {\n            rowData[col.name] = cell.value\n          }\n        }\n      })\n\n      data.push(rowData)\n    }\n\n    console.log('[saveDataToBackend] 📦 Data prepared:', {\n      totalRows: store.rows.length,\n      savedRows: data.length,\n      skippedEmptyRows,\n      filterRate: `${Math.round((skippedEmptyRows / store.rows.length) * 100)}%`\n    })\n\n    const response = await gridApi.importData(data)\n\n    if (response.success) {\n      console.log(`✅ Saved ${data.length} rows to backend`)\n    } else {\n      console.error('❌ Failed to save data to backend:', response.error)\n      alert(`Failed to save data: ${response.error}`)\n    }\n  } catch (error) {\n    console.error('Error saving data to backend:', error)\n    alert(`Error saving data: ${error instanceof Error ? error.message : 'Unknown error'}`)\n  } finally {\n    isSavingToBackend.value = false\n  }\n}\n\n// Import/Export handlers\n// async function handleExportToJson() {\n//   const rows = store.rows.map(row => {\n//     const rowData: Record<string, any> = {}\n\n//     // Extract data columns only (exclude special columns)\n//     dataColumns.value.forEach(col => {\n//       if (!col.specialType) {\n//         const cell = row.cells.find(c => c.columnName === col.name)\n//         if (cell) {\n//           rowData[col.name] = cell.value\n//         }\n//       }\n//     })\n\n//     return rowData\n//   })\n\n//   const columnNames = getDataColumnNames()\n//   const result = importExport.exportToJson(rows, columnNames, {\n//     prettify: true,\n//     includeHiddenColumns: false,\n//     includeSpecialComponents: false\n//   })\n\n//   console.log(result.message)\n// }\n\nasync function handleImportFromJson(mode: ImportMode = ImportMode.Append) {\n  const currentRows = store.rows.map((row: GridRow) => {\n    const rowData: Record<string, any> = { __rowId: row.rowId, __rowIndex: row.rowIndex }\n\n    row.cells.forEach((cell: GridCell) => {\n      rowData[cell.columnName] = cell.value\n    })\n\n    return rowData\n  })\n\n  const columnNames = getDataColumnNames()\n  const result = await importExport.openImportDialog(currentRows, columnNames, {\n    mode,\n    validateSchema: true\n  })\n\n  if (result.success && result.rows) {\n    console.log(result.message)\n\n    // Load the imported rows into the store\n    store.loadRows(result.rows)\n\n    console.log(`Successfully imported ${result.rowsImported} rows into grid`)\n  } else {\n    console.error('Import failed:', result.errors)\n    alert(`Import failed: ${result.message}\\n${result.errors.join('\\n')}`)\n  }\n}\n\n// Merge theme with defaults\nconst mergedTheme = computed(() => {\n  return {\n    ...defaultDataGridTheme,\n    cellColors: { ...defaultDataGridTheme.cellColors, ...(props.theme?.cellColors || {}) },\n    rowColors: { ...defaultDataGridTheme.rowColors, ...(props.theme?.rowColors || {}) },\n    headerColors: { ...defaultDataGridTheme.headerColors, ...(props.theme?.headerColors || {}) },\n    validationColors: { ...defaultDataGridTheme.validationColors, ...(props.theme?.validationColors || {}) },\n    selectionColors: { ...defaultDataGridTheme.selectionColors, ...(props.theme?.selectionColors || {}) },\n    borderColors: { ...defaultDataGridTheme.borderColors, ...(props.theme?.borderColors || {}) },\n    specialColumnColors: { ...defaultDataGridTheme.specialColumnColors, ...(props.theme?.specialColumnColors || {}) },\n    uiControlColors: { ...defaultDataGridTheme.uiControlColors, ...(props.theme?.uiControlColors || {}) }\n  }\n})\n\n// Generate CSS variables from theme and add minTableWidth, width, height\nconst cssVariables = computed(() => {\n  const themeVars = generateDataGridCSSVariables(mergedTheme.value)\n  return {\n    ...themeVars,\n    '--dg-min-table-width': `${minTableWidth.value}px`,  // ✅ Use computed minTableWidth (fixed columns only)\n    width: props.width || '100%',\n    height: props.height || '800px'  // ✅ Zvýšená default výška pre pagination a scrolling\n  }\n})\n\n// Enhanced validation API with tracking and auto-validate support\nconst enhancedValidation = {\n  ...validation,\n\n  /**\n   * Validates only cells that need validation (changed or unvalidated)\n   * Returns true if all non-empty cells are valid\n   * Respects autoValidate config\n   */\n  async validateRequired(): Promise<boolean> {\n    if (!store.config.enableValidation) {\n      return true\n    }\n\n    const cellsToValidate = store.getCellsNeedingValidation()\n\n    if (cellsToValidate.length === 0) {\n      // Nothing to validate - return current validation state\n      return store.areNonEmptyRowsValid()\n    }\n\n    // Validate each cell that needs validation\n    for (const { rowId, columnName } of cellsToValidate) {\n      const row = store.rows.find((r: GridRow) => r.rowId === rowId)\n      if (!row) continue\n\n      const cell = row.cells.find((c: GridCell) => c.columnName === columnName)\n      if (!cell) continue\n\n      // Validate the cell using existing validation rules\n      await validation.validateCell(rowId, columnName, cell.value)\n\n      // Mark as validated\n      store.markCellValidated(rowId, columnName)\n    }\n\n    return store.areNonEmptyRowsValid()\n  },\n\n  /**\n   * Checks if all non-empty rows are valid (without running validation)\n   * Returns true if valid, false if there are errors\n   */\n  isAllValid(): boolean {\n    return store.areNonEmptyRowsValid()\n  },\n\n  /**\n   * Forces validation of all cells regardless of tracking\n   * Returns true if all non-empty cells are valid\n   */\n  async validateAll(rows?: any[]): Promise<{ isValid: boolean; totalErrors: number }> {\n    if (!store.config.enableValidation) {\n      return { isValid: true, totalErrors: 0 }\n    }\n\n    // Use original validateAll method\n    const result = await validation.validateAll(rows || store.rows)\n\n    // Clear tracking and mark all cells as validated\n    store.clearValidationTracking()\n\n    for (const row of store.rows) {\n      for (const cell of row.cells) {\n        store.markCellValidated(cell.rowId, cell.columnName)\n      }\n    }\n\n    return result\n  }\n}\n\n// Expose validation, copy/paste, shortcuts, and grid state to parent components\ndefineExpose({\n  loadDataFromBackend,\n  validation: enhancedValidation,\n  copyPaste,\n  shortcuts,\n  handleCopy,\n  handlePaste,\n  handleCut,\n  isGridReady,  // ✅ RIEŠENIE #3: Expose grid ready state for validation guard\n  store,  // ✅ Expose store for advanced use cases\n  getColumns: () => store.columns,          // ✅ NOVÁ metóda - vráti aktuálne stĺpce\n  setColumns: (columns: GridColumn[]) => {  // ✅ NOVÁ metóda - nastaví stĺpce\n    store.setColumns(columns)\n  }\n})\n</script>\n\n<style scoped>\n.data-grid {\n  display: flex;\n  flex-direction: column;\n  /* height: 100%; ← REMOVED: Conflict with inline style from props.height */\n  /* Inline style from cssVariables (props.height || '800px') takes precedence */\n  border: 1px solid var(--dg-border-grid, #ddd);\n  background-color: var(--dg-cell-bg, white);\n  border-radius: 4px;\n  overflow: hidden; /* ✅ Zachová flex layout a umožní správny scrolling */\n  position: relative; /* For absolute positioning of overlay */\n}\n\n/* Loading overlay during processing */\n.processing-overlay {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(0, 0, 0, 0.5);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 1000;\n  backdrop-filter: blur(2px);\n}\n\n.processing-content {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 16px;\n  background-color: white;\n  padding: 32px 48px;\n  border-radius: 8px;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);\n}\n\n.processing-spinner {\n  width: 48px;\n  height: 48px;\n  border: 4px solid var(--dg-border-cell, #e0e0e0);\n  border-top-color: var(--dg-header-sort-indicator, #2196f3);\n  border-radius: 50%;\n  animation: spinner-rotate 0.8s linear infinite;\n}\n\n@keyframes spinner-rotate {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n\n.processing-text {\n  font-size: 14px;\n  font-weight: 500;\n  color: var(--dg-cell-fg, #212529);\n  white-space: nowrap;\n}\n\n/* ✅ RIEŠENIE #4: Loading overlay styles */\n.loading-overlay {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(0, 0, 0, 0.5);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 1000;\n  backdrop-filter: blur(2px);\n}\n\n.loading-content {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 16px;\n  background-color: white;\n  padding: 32px 48px;\n  border-radius: 8px;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);\n}\n\n.loading-spinner {\n  width: 48px;\n  height: 48px;\n  border: 4px solid var(--dg-border-cell, #e0e0e0);\n  border-top-color: var(--dg-header-sort-indicator, #2196f3);\n  border-radius: 50%;\n  animation: spinner-rotate 0.8s linear infinite;\n}\n\n.loading-text {\n  font-size: 14px;\n  font-weight: 500;\n  color: var(--dg-cell-fg, #212529);\n  white-space: nowrap;\n}\n\n/* ✅ RIEŠENIE #4: Progress bar styles */\n.progress-container {\n  width: 100%;\n  max-width: 400px;\n  margin-top: 16px;\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n}\n\n.progress-bar-wrapper {\n  width: 100%;\n  height: 8px;\n  background-color: var(--dg-border-cell, #e0e0e0);\n  border-radius: 4px;\n  overflow: hidden;\n}\n\n.progress-bar {\n  height: 100%;\n  background-color: var(--dg-header-sort-indicator, #2196f3);\n  border-radius: 4px;\n  transition: width 0.3s ease;\n}\n\n.progress-text {\n  font-size: 12px;\n  font-weight: 400;\n  color: var(--dg-cell-fg, #212529);\n  text-align: center;\n}\n\n.grid-toolbar {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  padding: 8px 12px;\n  background-color: var(--dg-ui-pagination-bg, #f8f9fa);\n  border-bottom: 1px solid var(--dg-border-cell, #e0e0e0);\n}\n\n.toolbar-section {\n  display: flex;\n  gap: 8px;\n}\n\n.toolbar-button {\n  padding: 6px 12px;\n  background-color: var(--dg-ui-pagination-bg, white);\n  border: 1px solid var(--dg-border-cell, #ccc);\n  border-radius: 4px;\n  font-size: 13px;\n  font-weight: 500;\n  cursor: pointer;\n  color: var(--dg-ui-pagination-fg, #212529);\n  transition: all 0.2s;\n  display: flex;\n  align-items: center;\n  gap: 4px;\n}\n\n.toolbar-button:hover {\n  background-color: var(--dg-cell-hover-bg, #e9ecef);\n  border-color: var(--dg-header-sort-indicator, #2196f3);\n}\n\n.toolbar-button:active {\n  transform: translateY(1px);\n}\n\n.toolbar-button--active {\n  background-color: var(--dg-header-sort-indicator, #2196f3);\n  color: white;\n  border-color: var(--dg-header-sort-indicator, #2196f3);\n}\n\n.toolbar-button--active:hover {\n  background-color: #1976d2;\n  border-color: #1976d2;\n}\n\n.toolbar-button--disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n}\n\n.toolbar-button:disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n  pointer-events: none;\n}\n\n.connection-status {\n  padding: 6px 12px;\n  font-size: 13px;\n  font-weight: 500;\n  cursor: pointer;\n  border-radius: 4px;\n  display: flex;\n  align-items: center;\n  gap: 4px;\n  user-select: none;\n  transition: all 0.2s;\n}\n\n.connection-status--connected {\n  color: var(--dg-header-sort-indicator, #4caf50);\n}\n\n.connection-status--disconnected {\n  color: var(--dg-validation-error-fg, #f44336);\n}\n\n.connection-status:hover {\n  background-color: var(--dg-cell-hover-bg, #f0f0f0);\n}\n\n.hidden-columns-panel {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  padding: 8px 12px;\n  background-color: var(--dg-validation-warning-bg, #fff3cd);\n  border-bottom: 1px solid var(--dg-validation-warning-border, #ffc107);\n  font-size: 13px;\n}\n\n.hidden-columns-label {\n  font-weight: 500;\n  color: var(--dg-validation-warning-fg, #856404);\n}\n\n.show-column-button,\n.show-all-button {\n  padding: 4px 12px;\n  background-color: var(--dg-ui-pagination-bg, white);\n  border: 1px solid var(--dg-border-cell, #ccc);\n  border-radius: 4px;\n  font-size: 12px;\n  cursor: pointer;\n  color: var(--dg-ui-pagination-fg, #212529);\n  transition: all 0.2s;\n}\n\n.show-column-button:hover,\n.show-all-button:hover {\n  background-color: var(--dg-cell-hover-bg, #e9ecef);\n  border-color: var(--dg-header-sort-indicator, #2196f3);\n}\n\n.show-all-button {\n  font-weight: 500;\n  background-color: var(--dg-header-sort-indicator, #2196f3);\n  color: white;\n  border-color: var(--dg-header-sort-indicator, #2196f3);\n  margin-left: auto;\n}\n\n.show-all-button:hover {\n  background-color: #1976d2;\n  border-color: #1976d2;\n  color: white;\n}\n\n.grid-container {\n  flex: 1 1 0; /* ✅ FIX: Allow shrinking to fit pagination */\n  display: flex;\n  flex-direction: column;\n  overflow: visible; /* ✅ FIX: Allow child scrolling (horizontal scroll fix) */\n  width: 100%; /* CRITICAL: Fill full width of parent */\n  min-width: 0; /* ✅ Allow shrinking below content width */\n  min-height: 0; /* ✅ CRITICAL: Allow flex child to be smaller than content - fixes pagination visibility */\n}\n\n/* ✅ Table content wrapper - horizontal scroll container */\n.table-content {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  min-height: 0; /* Allow flex item to shrink */\n  overflow-x: auto; /* ✅ Horizontal scroll pre celý .table-inner (header + rows) */\n  overflow-y: hidden; /* Vertical scroll is on .scroller */\n}\n\n/* ✅ RIEŠENIE A: Wrapper pre column grouping - header + rows v jednom scroll contexte */\n.table-inner {\n  /* minWidth set via inline style from minTableWidth prop */\n  width: fit-content; /* Shrink to content ak je menší ako viewport */\n  display: flex;\n  flex-direction: column;\n  flex: 1; /* Fill vertical space */\n  min-height: 0; /* Allow flex item to shrink */\n}\n\n.scroller {\n  flex: 1;\n  overflow-y: auto; /* ✅ Vertical scroll pre rows */\n  overflow-x: hidden; /* ✅ RIEŠENIE A: HIDDEN (nie visible!) - no horizontal scroll, zdedí width od .table-inner */\n  min-width: 0; /* Allow flex item to shrink */\n  /* ✅ FIX (Riešenie B): REMOVED min-height - let flex handle height naturally */\n}\n\n/* Scrollbar styling - horizontal (on .table-content) */\n.table-content::-webkit-scrollbar {\n  height: 8px;\n}\n\n.table-content::-webkit-scrollbar-track {\n  background: var(--dg-ui-pagination-bg, #f1f1f1);\n}\n\n.table-content::-webkit-scrollbar-thumb {\n  background: var(--dg-border-cell, #c1c1c1);\n  border-radius: 4px;\n}\n\n.table-content::-webkit-scrollbar-thumb:hover {\n  background: var(--dg-ui-resize-grip, #a8a8a8);\n}\n\n/* Scrollbar styling - vertical (on .scroller) */\n.scroller::-webkit-scrollbar {\n  width: 8px;\n  /* ✅ FIX: height removed - .scroller has overflow-x: visible, no horizontal scrollbar */\n}\n\n.scroller::-webkit-scrollbar-track {\n  background: var(--dg-ui-pagination-bg, #f1f1f1);\n}\n\n.scroller::-webkit-scrollbar-thumb {\n  background: var(--dg-border-cell, #c1c1c1);\n  border-radius: 4px;\n}\n\n.scroller::-webkit-scrollbar-thumb:hover {\n  background: var(--dg-ui-resize-grip, #a8a8a8);\n}\n</style>\n","<template>\r\n  <div class=\"listbox-container\">\r\n    <!-- ✅ RIEŠENIE #6A: Header with title and reset button -->\r\n    <div v-if=\"title || showResetButton\" class=\"listbox-header\">\r\n      <div v-if=\"title\" class=\"listbox-title\">{{ title }}</div>\r\n      <button\r\n        v-if=\"showResetButton\"\r\n        class=\"listbox-reset-btn\"\r\n        @click=\"handleReset\"\r\n        :disabled=\"selectedValues.size === 0\"\r\n        title=\"Clear selection\"\r\n      >\r\n        ✖\r\n      </button>\r\n    </div>\r\n    <div\r\n      class=\"listbox\"\r\n      :class=\"{ 'listbox--multi': multiSelect }\"\r\n      :style=\"listboxStyle\"\r\n    >\r\n      <div\r\n        v-for=\"item in items\"\r\n        :key=\"item.value\"\r\n        class=\"listbox-item\"\r\n        :class=\"{\r\n          'listbox-item--selected': isSelected(item.value),\r\n          'listbox-item--hover': hoveredValue === item.value\r\n        }\"\r\n        @click=\"handleItemClick(item)\"\r\n        @mouseenter=\"hoveredValue = item.value\"\r\n        @mouseleave=\"hoveredValue = null\"\r\n      >\r\n        <input\r\n          v-if=\"multiSelect\"\r\n          type=\"checkbox\"\r\n          :checked=\"isSelected(item.value)\"\r\n          class=\"listbox-checkbox\"\r\n          @click.stop=\"handleItemClick(item)\"\r\n        />\r\n        <span class=\"listbox-item-text\">{{ item.name }}</span>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { ref, computed, watch } from 'vue'\r\nimport { generateListBoxCSSVariables, defaultListBoxTheme } from '@/composables/useTheme'\r\nimport type { ListBoxTheme } from '@/types/theme'\r\n\r\nexport interface ListBoxItem {\r\n  name: string\r\n  value: string\r\n}\r\n\r\nconst props = withDefaults(defineProps<{\r\n  items: ListBoxItem[]\r\n  title?: string\r\n  multiSelect?: boolean\r\n  preSelected?: string[]\r\n  height?: number\r\n  width?: number\r\n  theme?: Partial<ListBoxTheme>  // Optional theme customization\r\n  showResetButton?: boolean  // ✅ RIEŠENIE #6A: Show reset button (default: true)\r\n}>(), {\r\n  title: '',\r\n  multiSelect: false,\r\n  preSelected: () => [],\r\n  height: 200,\r\n  width: 250,\r\n  showResetButton: true  // ✅ RIEŠENIE #6A: Default to showing reset button\r\n})\r\n\r\nconst emit = defineEmits<{\r\n  selectionChange: [selectedValues: string[]]\r\n}>()\r\n\r\nconst selectedValues = ref<Set<string>>(new Set())\r\nconst hoveredValue = ref<string | null>(null)\r\n\r\n// Initialize with pre-selected items\r\nwatch(() => props.preSelected, (newPreSelected) => {\r\n  selectedValues.value = new Set(newPreSelected)\r\n}, { immediate: true })\r\n\r\n// Merge theme with defaults\r\nconst mergedTheme = computed(() => {\r\n  return {\r\n    ...defaultListBoxTheme,\r\n    itemColors: { ...defaultListBoxTheme.itemColors, ...(props.theme?.itemColors || {}) },\r\n    containerColors: { ...defaultListBoxTheme.containerColors, ...(props.theme?.containerColors || {}) },\r\n    checkboxColors: { ...defaultListBoxTheme.checkboxColors, ...(props.theme?.checkboxColors || {}) },\r\n    scrollbarColors: { ...defaultListBoxTheme.scrollbarColors, ...(props.theme?.scrollbarColors || {}) }\r\n  }\r\n})\r\n\r\n// Generate CSS variables from theme\r\nconst cssVariables = computed(() => generateListBoxCSSVariables(mergedTheme.value))\r\n\r\nconst listboxStyle = computed(() => ({\r\n  height: `${props.height}px`,\r\n  width: `${props.width}px`,\r\n  ...cssVariables.value\r\n}))\r\n\r\nfunction isSelected(value: string): boolean {\r\n  return selectedValues.value.has(value)\r\n}\r\n\r\n// ✅ RIEŠENIE #5: Listbox deselect on click for single-select\r\nfunction handleItemClick(item: ListBoxItem) {\r\n  if (props.multiSelect) {\r\n    // Multi-select: toggle selection\r\n    if (selectedValues.value.has(item.value)) {\r\n      selectedValues.value.delete(item.value)\r\n    } else {\r\n      selectedValues.value.add(item.value)\r\n    }\r\n  } else {\r\n    // ✅ RIEŠENIE #5: Single-select with deselect support\r\n    // Toggle if clicking same item, otherwise select new item\r\n    if (selectedValues.value.has(item.value)) {\r\n      // Clicked on already selected item → deselect\r\n      selectedValues.value.delete(item.value)\r\n    } else {\r\n      // Clicked on different item → select it\r\n      selectedValues.value.clear()\r\n      selectedValues.value.add(item.value)\r\n    }\r\n  }\r\n\r\n  // Emit selection change\r\n  emit('selectionChange', Array.from(selectedValues.value))\r\n}\r\n\r\n// ✅ RIEŠENIE #6B: Reset handler\r\nfunction handleReset() {\r\n  selectedValues.value.clear()\r\n  emit('selectionChange', [])\r\n}\r\n\r\n// Expose selected values for programmatic access\r\n// ✅ RIEŠENIE #6B: clearSelection already exposed, can be called from API\r\ndefineExpose({\r\n  getSelectedValues: () => Array.from(selectedValues.value),\r\n  clearSelection: () => {\r\n    selectedValues.value.clear()\r\n    emit('selectionChange', [])\r\n  },\r\n  selectValue: (value: string) => {\r\n    if (props.multiSelect) {\r\n      selectedValues.value.add(value)\r\n    } else {\r\n      selectedValues.value.clear()\r\n      selectedValues.value.add(value)\r\n    }\r\n    emit('selectionChange', Array.from(selectedValues.value))\r\n  }\r\n})\r\n</script>\r\n\r\n<style scoped>\r\n.listbox-container {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 8px;\r\n}\r\n\r\n/* ✅ RIEŠENIE #6A: Header with title and reset button */\r\n.listbox-header {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  gap: 8px;\r\n  padding-bottom: 4px;\r\n}\r\n\r\n.listbox-title {\r\n  font-weight: 600;\r\n  font-size: 14px;\r\n  color: var(--lb-title-fg, #212529);\r\n  flex: 1;\r\n}\r\n\r\n/* ✅ RIEŠENIE #6A: Reset button styles */\r\n.listbox-reset-btn {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  width: 24px;\r\n  height: 24px;\r\n  padding: 0;\r\n  border: 1px solid var(--lb-container-border, #ced4da);\r\n  border-radius: 4px;\r\n  background-color: var(--lb-container-bg, white);\r\n  color: var(--lb-item-fg, #212529);\r\n  cursor: pointer;\r\n  font-size: 12px;\r\n  transition: all 0.15s ease;\r\n}\r\n\r\n.listbox-reset-btn:hover:not(:disabled) {\r\n  background-color: var(--lb-item-hover-bg, #f8f9fa);\r\n  border-color: var(--lb-container-focused-border, #0d6efd);\r\n  color: var(--lb-container-focused-border, #0d6efd);\r\n}\r\n\r\n.listbox-reset-btn:active:not(:disabled) {\r\n  background-color: var(--lb-item-selected-bg, #e3f2fd);\r\n}\r\n\r\n.listbox-reset-btn:disabled {\r\n  opacity: 0.4;\r\n  cursor: not-allowed;\r\n}\r\n\r\n.listbox {\r\n  border: 1px solid var(--lb-container-border, #ced4da);\r\n  border-radius: 4px;\r\n  overflow-y: auto;\r\n  overflow-x: auto; /* Enable horizontal scroll when content is wider than container */\r\n  background-color: var(--lb-container-bg, white);\r\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.listbox:focus-within {\r\n  border-color: var(--lb-container-focused-border, #0d6efd);\r\n  box-shadow: 0 0 0 3px rgba(13, 110, 253, 0.1);\r\n}\r\n\r\n.listbox-item {\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 8px 12px;\r\n  cursor: pointer;\r\n  user-select: none;\r\n  transition: background-color 0.15s ease;\r\n  border-bottom: 1px solid var(--lb-container-border, #f0f0f0);\r\n  background-color: var(--lb-item-bg, #ffffff);\r\n  color: var(--lb-item-fg, #212529);\r\n}\r\n\r\n.listbox-item:last-child {\r\n  border-bottom: none;\r\n}\r\n\r\n.listbox-item--hover {\r\n  background-color: var(--lb-item-hover-bg, #f8f9fa);\r\n  color: var(--lb-item-hover-fg, #212529);\r\n}\r\n\r\n.listbox-item--selected {\r\n  background-color: var(--lb-item-selected-bg, #e3f2fd);\r\n  color: var(--lb-item-selected-fg, #0d6efd);\r\n  border-left: 3px solid var(--lb-container-focused-border, #2196f3);\r\n  padding-left: 9px;\r\n}\r\n\r\n.listbox-item--selected.listbox-item--hover {\r\n  background-color: var(--lb-item-selected-hover-bg, #bbdefb);\r\n  color: var(--lb-item-selected-hover-fg, #0d6efd);\r\n}\r\n\r\n.listbox-checkbox {\r\n  margin-right: 8px;\r\n  cursor: pointer;\r\n  width: 16px;\r\n  height: 16px;\r\n  border: 1px solid var(--lb-checkbox-border, #ced4da);\r\n  background-color: var(--lb-checkbox-bg, #ffffff);\r\n}\r\n\r\n.listbox-checkbox:checked {\r\n  background-color: var(--lb-checkbox-checked-bg, #0d6efd);\r\n  border-color: var(--lb-checkbox-checked-border, #0d6efd);\r\n}\r\n\r\n.listbox-checkbox:hover {\r\n  border-color: var(--lb-checkbox-hover-border, #adb5bd);\r\n}\r\n\r\n.listbox-item-text {\r\n  flex: 1;\r\n  font-size: 14px;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  white-space: nowrap;\r\n}\r\n\r\n.listbox-item--selected .listbox-item-text {\r\n  font-weight: 500;\r\n}\r\n\r\n/* Scrollbar styling */\r\n.listbox::-webkit-scrollbar {\r\n  width: 8px;\r\n  height: 8px; /* Height for horizontal scrollbar */\r\n}\r\n\r\n.listbox::-webkit-scrollbar-track {\r\n  background: var(--lb-scrollbar-track-bg, #f1f1f1);\r\n  border-radius: 4px;\r\n}\r\n\r\n.listbox::-webkit-scrollbar-thumb {\r\n  background: var(--lb-scrollbar-thumb-bg, #c1c1c1);\r\n  border-radius: 4px;\r\n}\r\n\r\n.listbox::-webkit-scrollbar-thumb:hover {\r\n  background: var(--lb-scrollbar-thumb-hover-bg, #a8a8a8);\r\n}\r\n</style>\r\n","<template>\r\n  <div class=\"search-panel\" :class=\"{ 'search-panel--collapsed': isCollapsed }\">\r\n    <div class=\"search-panel__header\">\r\n      <button\r\n        class=\"search-panel__toggle\"\r\n        @click=\"toggleCollapse\"\r\n        :title=\"isCollapsed ? 'Expand search' : 'Collapse search'\"\r\n      >\r\n        {{ isCollapsed ? '▶' : '▼' }}\r\n      </button>\r\n      <span class=\"search-panel__title\">Search</span>\r\n      <span v-if=\"store.searchResults?.length > 0\" class=\"search-panel__count\">\r\n        {{ store.searchResults.length }} result(s)\r\n      </span>\r\n    </div>\r\n\r\n    <div v-if=\"!isCollapsed\" class=\"search-panel__content\">\r\n      <div class=\"search-panel__row\">\r\n        <input\r\n          v-model=\"searchQuery\"\r\n          type=\"text\"\r\n          class=\"search-panel__input\"\r\n          placeholder=\"Enter search query...\"\r\n          @input=\"handleSearch\"\r\n        />\r\n\r\n        <select\r\n          v-model=\"searchMode\"\r\n          class=\"search-panel__mode-select\"\r\n          @change=\"handleSearch\"\r\n        >\r\n          <option value=\"Exact\">Exact</option>\r\n          <option value=\"Contains\">Contains</option>\r\n          <option value=\"StartsWith\">Starts With</option>\r\n          <option value=\"EndsWith\">Ends With</option>\r\n          <option value=\"Regex\">Regex</option>\r\n          <option value=\"Fuzzy\">Fuzzy</option>\r\n        </select>\r\n\r\n        <button\r\n          class=\"search-panel__clear-btn\"\r\n          @click=\"handleClearSearch\"\r\n          :disabled=\"!searchQuery\"\r\n          title=\"Clear search\"\r\n        >\r\n          ✕\r\n        </button>\r\n      </div>\r\n\r\n      <div class=\"search-panel__options\">\r\n        <label class=\"search-panel__checkbox\">\r\n          <input\r\n            v-model=\"caseSensitive\"\r\n            type=\"checkbox\"\r\n            @change=\"handleSearch\"\r\n          />\r\n          <span>Case sensitive</span>\r\n        </label>\r\n\r\n        <label v-if=\"searchMode === 'Fuzzy'\" class=\"search-panel__threshold\">\r\n          <span>Threshold: {{ fuzzyThreshold }}</span>\r\n          <input\r\n            v-model.number=\"fuzzyThreshold\"\r\n            type=\"range\"\r\n            min=\"0\"\r\n            max=\"10\"\r\n            step=\"1\"\r\n            class=\"search-panel__slider\"\r\n            @input=\"handleSearch\"\r\n          />\r\n        </label>\r\n      </div>\r\n\r\n      <!-- Search Results Summary -->\r\n      <div v-if=\"searchQuery && store.searchResults?.length > 0\" class=\"search-panel__results\">\r\n        <div class=\"search-panel__navigation\">\r\n          <button\r\n            class=\"search-panel__nav-btn\"\r\n            @click=\"goToPreviousResult\"\r\n            :disabled=\"currentResultIndex <= 0\"\r\n            title=\"Previous result\"\r\n          >\r\n            ↑\r\n          </button>\r\n          <span class=\"search-panel__nav-info\">\r\n            {{ currentResultIndex + 1 }} / {{ store.searchResults.length }}\r\n          </span>\r\n          <button\r\n            class=\"search-panel__nav-btn\"\r\n            @click=\"goToNextResult\"\r\n            :disabled=\"currentResultIndex >= store.searchResults.length - 1\"\r\n            title=\"Next result\"\r\n          >\r\n            ↓\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { ref, toRef } from 'vue'\r\nimport { useDataGridStore } from '@/stores/dataGridStore'\r\nimport { useSearch, type SearchMode } from '@/composables/useSearch'\r\n\r\nconst props = defineProps<{\r\n  visible?: boolean\r\n  gridId?: string\r\n}>()\r\n\r\nconst store = useDataGridStore(props.gridId || 'dataGrid')()\r\nconst { searchInRows, goToNextResult, goToPreviousResult, currentResultIndex } = useSearch(toRef(store, 'rows'))\r\n\r\nconst isCollapsed = ref(false)\r\nconst searchQuery = ref('')\r\nconst searchMode = ref<SearchMode>('Contains')\r\nconst caseSensitive = ref(false)\r\nconst fuzzyThreshold = ref(3)\r\n\r\nconst debouncedSearch = debounce(() => {\r\n  if (searchQuery.value.trim()) {\r\n    searchInRows(\r\n      searchQuery.value,\r\n      searchMode.value,\r\n      {\r\n        caseSensitive: caseSensitive.value,\r\n        fuzzyThreshold: fuzzyThreshold.value\r\n      }\r\n    )\r\n    store.setSearchQuery(searchQuery.value)\r\n  } else {\r\n    store.clearSearch()\r\n  }\r\n}, 300)\r\n\r\nfunction handleSearch() {\r\n  debouncedSearch()\r\n}\r\n\r\nfunction handleClearSearch() {\r\n  searchQuery.value = ''\r\n  store.clearSearch()\r\n}\r\n\r\nfunction toggleCollapse() {\r\n  isCollapsed.value = !isCollapsed.value\r\n}\r\n\r\n// Simple debounce implementation\r\nfunction debounce<T extends (...args: any[]) => any>(func: T, delay: number): (...args: Parameters<T>) => void {\r\n  let timeoutId: ReturnType<typeof setTimeout> | null = null\r\n\r\n  return function(...args: Parameters<T>) {\r\n    if (timeoutId) {\r\n      clearTimeout(timeoutId)\r\n    }\r\n    timeoutId = setTimeout(() => {\r\n      func(...args)\r\n    }, delay)\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.search-panel {\r\n  background-color: #f8f9fa;\r\n  border-bottom: 1px solid #dee2e6;\r\n  padding: 12px;\r\n  transition: all 0.2s ease;\r\n}\r\n\r\n.search-panel--collapsed {\r\n  padding: 8px 12px;\r\n}\r\n\r\n.search-panel__header {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n}\r\n\r\n.search-panel__toggle {\r\n  border: none;\r\n  background: transparent;\r\n  cursor: pointer;\r\n  font-size: 12px;\r\n  padding: 4px;\r\n  color: #6c757d;\r\n  transition: color 0.2s;\r\n}\r\n\r\n.search-panel__toggle:hover {\r\n  color: #212529;\r\n}\r\n\r\n.search-panel__title {\r\n  font-weight: 600;\r\n  color: #212529;\r\n  font-size: 14px;\r\n}\r\n\r\n.search-panel__count {\r\n  margin-left: auto;\r\n  font-size: 12px;\r\n  color: #6c757d;\r\n  background-color: #e9ecef;\r\n  padding: 2px 8px;\r\n  border-radius: 12px;\r\n}\r\n\r\n.search-panel__content {\r\n  margin-top: 12px;\r\n}\r\n\r\n.search-panel__row {\r\n  display: flex;\r\n  gap: 8px;\r\n  align-items: center;\r\n}\r\n\r\n.search-panel__input {\r\n  flex: 1;\r\n  padding: 8px 12px;\r\n  border: 1px solid #ced4da;\r\n  border-radius: 4px;\r\n  font-size: 14px;\r\n  outline: none;\r\n  transition: border-color 0.2s;\r\n}\r\n\r\n.search-panel__input:focus {\r\n  border-color: #0d6efd;\r\n  box-shadow: 0 0 0 3px rgba(13, 110, 253, 0.1);\r\n}\r\n\r\n.search-panel__mode-select {\r\n  padding: 8px 12px;\r\n  border: 1px solid #ced4da;\r\n  border-radius: 4px;\r\n  font-size: 14px;\r\n  background-color: white;\r\n  cursor: pointer;\r\n  outline: none;\r\n  min-width: 130px;\r\n}\r\n\r\n.search-panel__mode-select:focus {\r\n  border-color: #0d6efd;\r\n}\r\n\r\n.search-panel__clear-btn {\r\n  padding: 8px 12px;\r\n  border: 1px solid #dc3545;\r\n  background-color: white;\r\n  color: #dc3545;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  font-size: 14px;\r\n  transition: all 0.2s;\r\n}\r\n\r\n.search-panel__clear-btn:hover:not(:disabled) {\r\n  background-color: #dc3545;\r\n  color: white;\r\n}\r\n\r\n.search-panel__clear-btn:disabled {\r\n  opacity: 0.5;\r\n  cursor: not-allowed;\r\n}\r\n\r\n.search-panel__options {\r\n  display: flex;\r\n  gap: 16px;\r\n  align-items: center;\r\n  margin-top: 8px;\r\n}\r\n\r\n.search-panel__checkbox {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 6px;\r\n  font-size: 13px;\r\n  color: #495057;\r\n  cursor: pointer;\r\n}\r\n\r\n.search-panel__checkbox input[type=\"checkbox\"] {\r\n  cursor: pointer;\r\n}\r\n\r\n.search-panel__threshold {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  font-size: 13px;\r\n  color: #495057;\r\n}\r\n\r\n.search-panel__slider {\r\n  width: 120px;\r\n  cursor: pointer;\r\n}\r\n\r\n.search-panel__results {\r\n  margin-top: 12px;\r\n  padding-top: 12px;\r\n  border-top: 1px solid #dee2e6;\r\n}\r\n\r\n.search-panel__navigation {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  justify-content: center;\r\n}\r\n\r\n.search-panel__nav-btn {\r\n  padding: 6px 12px;\r\n  border: 1px solid #ced4da;\r\n  background-color: white;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  font-size: 14px;\r\n  transition: all 0.2s;\r\n}\r\n\r\n.search-panel__nav-btn:hover:not(:disabled) {\r\n  background-color: #f8f9fa;\r\n  border-color: #0d6efd;\r\n  color: #0d6efd;\r\n}\r\n\r\n.search-panel__nav-btn:disabled {\r\n  opacity: 0.5;\r\n  cursor: not-allowed;\r\n}\r\n\r\n.search-panel__nav-info {\r\n  font-size: 13px;\r\n  color: #495057;\r\n  min-width: 80px;\r\n  text-align: center;\r\n}\r\n</style>\r\n","<template>\r\n  <div class=\"filter-row\">\r\n    <div class=\"filter-row__header\">\r\n      <button\r\n        class=\"filter-row__toggle\"\r\n        @click=\"toggleCollapse\"\r\n        :title=\"isCollapsed ? 'Expand filters' : 'Collapse filters'\"\r\n      >\r\n        {{ isCollapsed ? '▶' : '▼' }}\r\n      </button>\r\n      <span class=\"filter-row__title\">Filters</span>\r\n      <span v-if=\"activeFiltersCount > 0\" class=\"filter-row__count\">\r\n        {{ activeFiltersCount }} active\r\n      </span>\r\n      <button\r\n        v-if=\"activeFiltersCount > 0\"\r\n        class=\"filter-row__clear-all\"\r\n        @click=\"clearAllFilters\"\r\n        title=\"Clear all filters\"\r\n      >\r\n        Clear All\r\n      </button>\r\n    </div>\r\n\r\n    <div v-if=\"!isCollapsed\" class=\"filter-row__content\">\r\n      <!-- Filter Builder -->\r\n      <div class=\"filter-row__filters\">\r\n        <div\r\n          v-for=\"(filter, index) in columnFilters\"\r\n          :key=\"index\"\r\n          class=\"filter-row__filter-item\"\r\n        >\r\n          <!-- Column Selector -->\r\n          <select\r\n            v-model=\"filter.columnName\"\r\n            class=\"filter-row__column-select\"\r\n            @change=\"updateFilters\"\r\n          >\r\n            <option value=\"\">Select column...</option>\r\n            <option\r\n              v-for=\"(col, colIndex) in dataColumns\"\r\n              :key=\"`col-${colIndex}`\"\r\n              :value=\"col.name\"\r\n            >\r\n              {{ col.header }}\r\n            </option>\r\n          </select>\r\n\r\n          <!-- Operator Selector -->\r\n          <select\r\n            v-model=\"filter.operator\"\r\n            class=\"filter-row__operator-select\"\r\n            @change=\"updateFilters\"\r\n          >\r\n            <option value=\"Equals\">Equals</option>\r\n            <option value=\"NotEquals\">Not Equals</option>\r\n            <option value=\"Contains\">Contains</option>\r\n            <option value=\"StartsWith\">Starts With</option>\r\n            <option value=\"EndsWith\">Ends With</option>\r\n            <option value=\"GreaterThan\">Greater Than</option>\r\n            <option value=\"LessThan\">Less Than</option>\r\n            <option value=\"GreaterThanOrEquals\">≥</option>\r\n            <option value=\"LessThanOrEquals\">≤</option>\r\n            <option value=\"IsEmpty\">Is Empty</option>\r\n            <option value=\"IsNotEmpty\">Is Not Empty</option>\r\n          </select>\r\n\r\n          <!-- Value Input (hide for IsEmpty/IsNotEmpty) -->\r\n          <input\r\n            v-if=\"!['IsEmpty', 'IsNotEmpty'].includes(filter.operator)\"\r\n            v-model=\"filter.value\"\r\n            type=\"text\"\r\n            class=\"filter-row__value-input\"\r\n            placeholder=\"Filter value...\"\r\n            @input=\"updateFilters\"\r\n          />\r\n\r\n          <!-- Logic Operator (for next filter) -->\r\n          <select\r\n            v-if=\"index < columnFilters.length - 1\"\r\n            v-model=\"filter.logicOperator\"\r\n            class=\"filter-row__logic-select\"\r\n            @change=\"updateFilters\"\r\n          >\r\n            <option value=\"AND\">AND</option>\r\n            <option value=\"OR\">OR</option>\r\n          </select>\r\n\r\n          <!-- Remove Filter Button -->\r\n          <button\r\n            class=\"filter-row__remove-btn\"\r\n            @click=\"removeFilter(index)\"\r\n            title=\"Remove filter\"\r\n          >\r\n            ✕\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Add Filter Button -->\r\n      <button\r\n        class=\"filter-row__add-btn\"\r\n        @click=\"addFilter\"\r\n      >\r\n        + Add Filter\r\n      </button>\r\n\r\n      <!-- Quick Filters (if any active) -->\r\n      <div v-if=\"activeFiltersCount > 0\" class=\"filter-row__active\">\r\n        <div class=\"filter-row__active-title\">Active filters:</div>\r\n        <div class=\"filter-row__active-list\">\r\n          <span\r\n            v-for=\"(filter, index) in activeColumnFilters\"\r\n            :key=\"index\"\r\n            class=\"filter-row__active-chip\"\r\n          >\r\n            {{ getColumnHeader(filter.columnName) }}\r\n            <strong>{{ filter.operator }}</strong>\r\n            <span v-if=\"filter.value\">\"{{ filter.value }}\"</span>\r\n            <button\r\n              class=\"filter-row__chip-remove\"\r\n              @click=\"removeFilter(columnFilters.indexOf(filter))\"\r\n            >\r\n              ✕\r\n            </button>\r\n          </span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { ref, computed } from 'vue'\r\nimport { useDataGridStore, type GridColumn } from '@/stores/dataGridStore'\r\nimport { type FilterOperator, type SimpleFilter } from '@/composables/useFiltering'\r\n\r\nconst props = defineProps<{\r\n  gridId?: string\r\n}>()\r\n\r\nconst store = useDataGridStore(props.gridId || 'dataGrid')()\r\n\r\nconst isCollapsed = ref(false)\r\n\r\ninterface ColumnFilter {\r\n  columnName: string\r\n  operator: FilterOperator\r\n  value: string\r\n  logicOperator: 'AND' | 'OR'\r\n}\r\n\r\nconst columnFilters = ref<ColumnFilter[]>([\r\n  {\r\n    columnName: '',\r\n    operator: 'Contains',\r\n    value: '',\r\n    logicOperator: 'AND'\r\n  }\r\n])\r\n\r\nconst dataColumns = computed(() => {\r\n  return store.columns.filter((col: GridColumn) => !col.specialType)\r\n})\r\n\r\nconst activeColumnFilters = computed(() => {\r\n  return columnFilters.value.filter(f => f.columnName && (f.value || ['IsEmpty', 'IsNotEmpty'].includes(f.operator)))\r\n})\r\n\r\nconst activeFiltersCount = computed(() => activeColumnFilters.value.length)\r\n\r\nfunction addFilter() {\r\n  columnFilters.value.push({\r\n    columnName: '',\r\n    operator: 'Contains',\r\n    value: '',\r\n    logicOperator: 'AND'\r\n  })\r\n}\r\n\r\nfunction removeFilter(index: number) {\r\n  columnFilters.value.splice(index, 1)\r\n\r\n  // Ensure at least one empty filter exists\r\n  if (columnFilters.value.length === 0) {\r\n    addFilter()\r\n  }\r\n\r\n  updateFilters()\r\n}\r\n\r\nfunction clearAllFilters() {\r\n  columnFilters.value = [\r\n    {\r\n      columnName: '',\r\n      operator: 'Contains',\r\n      value: '',\r\n      logicOperator: 'AND'\r\n    }\r\n  ]\r\n  store.clearFilter()\r\n}\r\n\r\nfunction updateFilters() {\r\n  const active = activeColumnFilters.value\r\n\r\n  if (active.length === 0) {\r\n    store.clearFilter()\r\n    return\r\n  }\r\n\r\n  // Build composite filter expression\r\n  if (active.length === 1) {\r\n    // Single filter\r\n    const f = active[0]\r\n    const simpleFilter: SimpleFilter = {\r\n      type: 'simple',\r\n      columnName: f.columnName,\r\n      operator: f.operator,\r\n      value: f.value\r\n    }\r\n    store.setFilter(simpleFilter)\r\n  } else {\r\n    // Multiple filters - build composite expression\r\n    let filterExpression: any = {\r\n      type: 'simple',\r\n      columnName: active[0].columnName,\r\n      operator: active[0].operator,\r\n      value: active[0].value\r\n    }\r\n\r\n    for (let i = 1; i < active.length; i++) {\r\n      const currentFilter = active[i]\r\n      const previousLogicOp = active[i - 1].logicOperator\r\n\r\n      filterExpression = {\r\n        type: 'composite',\r\n        operator: previousLogicOp,\r\n        left: filterExpression,\r\n        right: {\r\n          type: 'simple',\r\n          columnName: currentFilter.columnName,\r\n          operator: currentFilter.operator,\r\n          value: currentFilter.value\r\n        }\r\n      }\r\n    }\r\n\r\n    store.setFilter(filterExpression)\r\n  }\r\n}\r\n\r\nfunction toggleCollapse() {\r\n  isCollapsed.value = !isCollapsed.value\r\n}\r\n\r\nfunction getColumnHeader(columnName: string): string {\r\n  const col = store.columns.find((c: GridColumn) => c.name === columnName)\r\n  return col?.header || columnName\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.filter-row {\r\n  background-color: #f8f9fa;\r\n  border-bottom: 1px solid #dee2e6;\r\n  padding: 12px;\r\n  transition: all 0.2s ease;\r\n}\r\n\r\n.filter-row__header {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n}\r\n\r\n.filter-row__toggle {\r\n  border: none;\r\n  background: transparent;\r\n  cursor: pointer;\r\n  font-size: 12px;\r\n  padding: 4px;\r\n  color: #6c757d;\r\n  transition: color 0.2s;\r\n}\r\n\r\n.filter-row__toggle:hover {\r\n  color: #212529;\r\n}\r\n\r\n.filter-row__title {\r\n  font-weight: 600;\r\n  color: #212529;\r\n  font-size: 14px;\r\n}\r\n\r\n.filter-row__count {\r\n  margin-left: auto;\r\n  font-size: 12px;\r\n  color: #0d6efd;\r\n  background-color: #e7f1ff;\r\n  padding: 2px 8px;\r\n  border-radius: 12px;\r\n  font-weight: 500;\r\n}\r\n\r\n.filter-row__clear-all {\r\n  padding: 4px 12px;\r\n  border: 1px solid #dc3545;\r\n  background-color: white;\r\n  color: #dc3545;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  font-size: 12px;\r\n  transition: all 0.2s;\r\n}\r\n\r\n.filter-row__clear-all:hover {\r\n  background-color: #dc3545;\r\n  color: white;\r\n}\r\n\r\n.filter-row__content {\r\n  margin-top: 12px;\r\n}\r\n\r\n.filter-row__filters {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 8px;\r\n}\r\n\r\n.filter-row__filter-item {\r\n  display: flex;\r\n  gap: 8px;\r\n  align-items: center;\r\n}\r\n\r\n.filter-row__column-select {\r\n  padding: 8px 12px;\r\n  border: 1px solid #ced4da;\r\n  border-radius: 4px;\r\n  font-size: 14px;\r\n  background-color: white;\r\n  cursor: pointer;\r\n  outline: none;\r\n  min-width: 150px;\r\n}\r\n\r\n.filter-row__column-select:focus {\r\n  border-color: #0d6efd;\r\n}\r\n\r\n.filter-row__operator-select {\r\n  padding: 8px 12px;\r\n  border: 1px solid #ced4da;\r\n  border-radius: 4px;\r\n  font-size: 14px;\r\n  background-color: white;\r\n  cursor: pointer;\r\n  outline: none;\r\n  min-width: 130px;\r\n}\r\n\r\n.filter-row__operator-select:focus {\r\n  border-color: #0d6efd;\r\n}\r\n\r\n.filter-row__value-input {\r\n  flex: 1;\r\n  padding: 8px 12px;\r\n  border: 1px solid #ced4da;\r\n  border-radius: 4px;\r\n  font-size: 14px;\r\n  outline: none;\r\n  transition: border-color 0.2s;\r\n}\r\n\r\n.filter-row__value-input:focus {\r\n  border-color: #0d6efd;\r\n  box-shadow: 0 0 0 3px rgba(13, 110, 253, 0.1);\r\n}\r\n\r\n.filter-row__logic-select {\r\n  padding: 8px 12px;\r\n  border: 1px solid #ced4da;\r\n  border-radius: 4px;\r\n  font-size: 13px;\r\n  background-color: #e9ecef;\r\n  cursor: pointer;\r\n  outline: none;\r\n  font-weight: 600;\r\n  color: #495057;\r\n  min-width: 80px;\r\n}\r\n\r\n.filter-row__logic-select:focus {\r\n  border-color: #0d6efd;\r\n}\r\n\r\n.filter-row__remove-btn {\r\n  padding: 8px 12px;\r\n  border: 1px solid #dc3545;\r\n  background-color: white;\r\n  color: #dc3545;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  font-size: 14px;\r\n  transition: all 0.2s;\r\n}\r\n\r\n.filter-row__remove-btn:hover {\r\n  background-color: #dc3545;\r\n  color: white;\r\n}\r\n\r\n.filter-row__add-btn {\r\n  margin-top: 8px;\r\n  padding: 8px 16px;\r\n  border: 1px dashed #0d6efd;\r\n  background-color: white;\r\n  color: #0d6efd;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  font-size: 14px;\r\n  transition: all 0.2s;\r\n}\r\n\r\n.filter-row__add-btn:hover {\r\n  background-color: #e7f1ff;\r\n}\r\n\r\n.filter-row__active {\r\n  margin-top: 12px;\r\n  padding-top: 12px;\r\n  border-top: 1px solid #dee2e6;\r\n}\r\n\r\n.filter-row__active-title {\r\n  font-size: 12px;\r\n  color: #6c757d;\r\n  margin-bottom: 8px;\r\n  font-weight: 500;\r\n}\r\n\r\n.filter-row__active-list {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 8px;\r\n}\r\n\r\n.filter-row__active-chip {\r\n  display: inline-flex;\r\n  align-items: center;\r\n  gap: 6px;\r\n  padding: 4px 8px;\r\n  background-color: #e7f1ff;\r\n  color: #0d6efd;\r\n  border-radius: 16px;\r\n  font-size: 12px;\r\n}\r\n\r\n.filter-row__active-chip strong {\r\n  font-weight: 600;\r\n}\r\n\r\n.filter-row__chip-remove {\r\n  border: none;\r\n  background: transparent;\r\n  color: #0d6efd;\r\n  cursor: pointer;\r\n  font-size: 14px;\r\n  padding: 0 4px;\r\n  margin-left: 4px;\r\n  transition: color 0.2s;\r\n}\r\n\r\n.filter-row__chip-remove:hover {\r\n  color: #dc3545;\r\n}\r\n</style>\r\n","/**\r\n * RPA Advanced Table - Vue 3 Component Library\r\n * Exports DataGrid and ListBox components for TypeScript and JavaScript\r\n */\r\n\r\nimport type { App } from 'vue'\r\nimport DataGrid from './components/DataGrid.vue'\r\nimport ListBox from './components/ListBox.vue'\r\nimport SearchPanel from './components/SearchPanel.vue'\r\nimport FilterRow from './components/FilterRow.vue'\r\n\r\n// Export components individually\r\nexport { DataGrid, ListBox, SearchPanel, FilterRow }\r\n\r\n// Export AdvancedTable as alias for DataGrid (for backwards compatibility)\r\nexport { DataGrid as AdvancedTable }\r\n\r\n// Export composables\r\nexport { useValidation } from './composables/useValidation'\r\nexport { useAutoRowHeight } from './composables/useAutoRowHeight'\r\nexport { useFiltering } from './composables/useFiltering'\r\nexport { useSearch } from './composables/useSearch'\r\nexport { useShortcuts } from './composables/useShortcuts'\r\n\r\n// Export stores\r\nexport { useDataGridStore } from './stores/dataGridStore'\r\n\r\n// Export Pinia (for apps using this library)\r\nexport { createPinia, setActivePinia, getActivePinia } from 'pinia'\r\nexport type { Pinia } from 'pinia'\r\n\r\n// Export services\r\nexport { gridApi } from './services/gridApi'\r\n\r\n// Export types\r\nexport type { ListBoxItem } from './components/ListBox.vue'\r\nexport type {\r\n  GridCell,\r\n  GridRow,\r\n  GridColumn,\r\n  GridConfig\r\n} from './stores/dataGridStore'\r\n\r\nexport type {\r\n  ValidationRule,\r\n  ValidationError,\r\n  ValidationResult\r\n} from './composables/useValidation'\r\n\r\nexport type {\r\n  AutoRowHeightConfig,\r\n  RowHeightResult\r\n} from './composables/useAutoRowHeight'\r\n\r\nexport type {\r\n  FilterExpression,\r\n  SimpleFilter,\r\n  CompositeFilter,\r\n  FilterOperator\r\n} from './composables/useFiltering'\r\n\r\n// Plugin install function\r\nexport function install(app: App) {\r\n  app.component('DataGrid', DataGrid)\r\n  app.component('ListBox', ListBox)\r\n  app.component('SearchPanel', SearchPanel)\r\n  app.component('FilterRow', FilterRow)\r\n}\r\n\r\n// Default export for Vue.use()\r\nexport default {\r\n  install\r\n}\r\n"],"names":["fn","res","cb","mod","__create","Object","create","__defProp","defineProperty","__getOwnPropDesc","getOwnPropertyDescriptor","__getOwnPropNames","getOwnPropertyNames","__getProtoOf","getPrototypeOf","__hasOwnProp","prototype","hasOwnProperty","init_esm_shims","require_rfdc","exports","module","copyBuffer","cur","Buffer","from","constructor","buffer","slice","byteOffset","length","opts","circles","refs","refsNew","constructorHandlers","Map","set","Date","o","cloneArray","Array","Set","handler2","handler","proto","cloneProto","clone","a","keys","a2","i","k","get","ArrayBuffer","isView","index","indexOf","isArray","o2","push","call","pop","rfdcCircles","_a","isBrowser","navigator","target","window","globalThis","global","chrome","devtools","self","top","userAgent","toLowerCase","includes","import_rfdc","isNodeMode","target2","to","except","desc","key","enumerable","__copyProps","value","__toESM","classifyRE","toUpper","_","c","toUpperCase","deepClone","default","DEBOUNCE_DEFAULTS","trailing","debounce","wait","options","Number","isFinite","TypeError","leadingValue","timeout","currentPromise","trailingArgs","resolveList","applyFn","_this","args","async","apply","_applyPromised","finally","promise","Promise","resolve","shouldCallNow","leading","clearTimeout","setTimeout","this","_resolve","flatHooks","configHooks","hooks","parentName","subHook","name","defaultTask","run","function_","createTask","console","serialTaskCaller","shift","task","reduce","hookFunction","then","parallelTaskCaller","all","map","hook","callEachWith","callbacks","arg0","callback","Hookable","_hooks","_before","_after","_deprecatedMessages","_deprecatedHooks","bind","callHook","callHookWith","originalName","dep","allowDeprecated","message","has","warn","add","replace","configurable","removeHook","hookOnce","_unreg","_function","arguments_","splice","deprecateHook","deprecated","deprecateHooks","deprecatedHooks","assign","addHooks","removeFns","unreg","removeHooks","removeAllHooks","unshift","callHookParallel","caller","event","context","result","beforeEach","afterEach","createHooks","range","__commonJS","__esm","require_speakingurl","root","charMap","$","lookAheadCharArray","diatricMap","langCharMap","en","az","cs","fi","hu","lt","lv","pl","sv","sk","sr","tr","symbolMap","ar","ca","de","dv","es","fa","fr","ge","gr","it","my","mk","nl","pt","ro","ru","uk","vn","uricChars","join","uricNoSlashChars","markChars","getSlug","input","maintainCase","titleCase","truncate","uricFlag","uricNoSlashFlag","markFlag","symbol","langChar","lucky","ch","l","lastCharWasSymbol","lastCharWasDiatric","separator","diatricString","convertSymbols","customReplacements","allowedChars","custom","uric","uricNoSlash","mark","symbols","lang","toString","forEach","v","r","RegExp","escapeChars","isReplacedCustomChar","match","test","substr","i2","j","charAt","lastIndexOf","createSlug","define","amd","e","require_speakingurl2","getComponentFileName","file","__file","str","filename","ext","normalizedFilename","endsWith","lastSlashIndex","baseNameWithExt","substring","extIndex","basename","saveComponentGussedName","instance","type","__VUE_DEVTOOLS_COMPONENT_GUSSED_NAME__","getAppRecord","__VUE_DEVTOOLS_NEXT_APP_RECORD__","appContext","app","isFragment","_a25","_b25","subTreeType","subTree","appRecord","types","Fragment","getInstanceName","_c","_componentTag","__name","getComponentTypeName","parent","components","fileName","getComponentInstance","instanceId","id","instanceMap","getTextRect","node","document","createRange","selectNode","getBoundingClientRect","mergeRects","b","bottom","left","right","DEFAULT_RECT","width","height","getComponentBoundingRect","el","vnode","rect","createRect","children","childVnode","childRect","component","nodeType","data","trim","getFragmentRect","getRootElementsFromComponentInstance","list","getFragmentRootElements","CONTAINER_ELEMENT_ID","CARD_ELEMENT_ID","COMPONENT_NAME_ELEMENT_ID","INDICATOR_ELEMENT_ID","containerStyles","display","zIndex","position","backgroundColor","border","borderRadius","transition","pointerEvents","cardStyles","fontFamily","padding","textAlign","color","fontSize","fontWeight","lineHeight","boxShadow","indicatorStyles","fontStyle","opacity","getContainerElement","getElementById","getStyles","bounds","Math","round","containerEl","createElement","elementId","style","cardEl","nameEl","innerHTML","indicatorEl","appendChild","body","update","unhighlight","inspectInstance","inspectFn","target22","__vueParentComponent","inspectComponentHighLighterSelectFn","inspectComponentHighLighter","addEventListener","onSelect","preventDefault","stopPropagation","__VUE_DEVTOOLS_NEXT_APP_RECORD_ID__","uid","selectComponentFn","removeEventListener","JSON","stringify","getComponentInspector","setup","inspector","__VUE_INSPECTOR__","_openInEditor","openInEditor","params","disable","setupInspector","total","timer","setInterval","clearInterval","waitForInspectorInit","isReactive","isReadonly","isRef","__v_isRef","toRaw","observed","raw","__VUE_DEVTOOLS_COMPONENT_INSPECTOR_ENABLED__","StateEditor","refEditor","RefStateEditor","object","path","sections","split","section","values","field","item","size","createDefaultSetCallback","state","remove","newKey","delete","Reflect","deleteProperty","ref","clear","currentKeys","previousKeysSet2","previousKeysSet","_a2","getTimelineLayersStateFromStorage","localStorage","recordingState","mouseEventEnabled","keyboardEventEnabled","componentEventEnabled","performanceEventEnabled","selected","getItem","parse","target3","__VUE_DEVTOOLS_KIT_TIMELINE_LAYERS","_a3","devtoolsTimelineLayers","Proxy","prop","receiver","target4","__VUE_DEVTOOLS_KIT_INSPECTOR__","_a4","_a5","_a6","_a7","_a8","devtoolsInspector","callInspectorUpdatedHook","devtoolsContext","getActiveInspectors","filter","descriptor","activeAppRecord","label","logo","icon","packageName","homepage","pluginId","getInspector","find","__VUE_DEVTOOLS_KIT_APP_RECORDS__","__VUE_DEVTOOLS_KIT_ACTIVE_APP_RECORD__","__VUE_DEVTOOLS_KIT_ACTIVE_APP_RECORD_ID__","__VUE_DEVTOOLS_KIT_CUSTOM_TABS__","__VUE_DEVTOOLS_KIT_CUSTOM_COMMANDS__","_a9","STATE_KEY","connected","clientConnected","vitePluginDetected","appRecords","activeAppRecordId","tabs","commands","highPerfModeEnabled","devtoolsClientDetected","perfUniqueGroupId","timelineLayersState","callStateUpdatedHook","debounce3","oldState","devtoolsAppRecords","_target","updateAllStates","_a10","devtoolsState","property","host","baseUrl","location","origin","line","column","_baseUrl","VUE_DEVTOOLS_CONFIG","openInEditorHost","fetch","encodeURI","response","ok","msg","log","target5","__VUE_DEVTOOLS_OPEN_IN_EDITOR_BASE_URL__","target6","__VUE_DEVTOOLS_KIT_PLUGIN_BUFFER__","_a11","_b11","devtoolsPluginBuffer","_getSettings","settings","_settings","defaultValue","getPluginLocalKey","getPluginSettingsOptions","item2","_a26","getPluginSettings","fallbackValue","localKey","localSettings","devtoolsHooks","target7","__VUE_DEVTOOLS_HOOK","createHooks2","on","vueAppInit","vueAppUnmount","vueAppConnected","componentAdded","componentEmit","componentUpdated","componentRemoved","setupDevtoolsPlugin","perfStart","perfEnd","setupDevToolsPlugin","pluginDescriptor","setupFn","DevToolsPluginAPI","plugin","ctx","visitComponentTree","inspectComponent","editComponentState","getInspectorTree","getInspectorState","editInspectorState","inspectTimelineEvent","timelineCleared","setPluginSettings","notifyComponentUpdate","inspectorId","addInspector","setItem","initPluginSettings","sendInspectorTree","sendInspectorState","selectInspectorNode","nodeId","payload","now","addTimelineLayer","addTimelineEvent","getSettings","getComponentInstances","getComponentBounds","getComponentName","highlightElement","__VUE_DEVTOOLS_NEXT_UID__","unhighlightElement","UNDEFINED","INFINITY","NEGATIVE_INFINITY","NAN","_a12","tokenMap","registerDevToolsPlugin","target8","__VUE_DEVTOOLS_KIT__REGISTERED_PLUGIN_APPS__","inspectingComponent","api","callDevToolsPluginSetupFn","entries","acc","_a13","_a14","_a15","ROUTER_KEY","ROUTER_INFO_KEY","filterRoutes","routes","meta","normalizeRouterInfo","activeAppRecord2","init","router","config","globalProperties","$router","currentRoute","route","fullPath","hash","href","matched","query","filterCurrentRoute","routesMap","getRoutes","global3","debounce5","global2","target10","__VUE_DEVTOOLS_ENV__","_a16","hooks2","treeFilterPlaceholder","stateFilterPlaceholder","treeFilter","selectedNodeId","debounceSendInspectorTree","debounce2","_payload","rootNodes","debounceSendInspectorState","currentTab","descriptorId","layerId","appId","highlight","createDevToolsCtxHooks","target11","__VUE_DEVTOOLS_KIT_CONTEXT__","stateEditor2","obj","inspectComponentInspector","cancelInspectComponentInspector","getComponentRenderCode","render","scrollToComponent","scrollIntoView","behavior","scrollTarget","styles","removeChild","el2","getVueInspector","toggleApp","record","setActiveAppRecordId","inspectDOM","target9","__VUE_DEVTOOLS_INSPECT_DOM_TARGET__","updatePluginSettings","parsedLocalSettings","updated","oldValue","newValue","_a17","_a18","target12","__VUE_DEVTOOLS_NEXT_APP_RECORD_INFO__","appIds","target15","__VUE_DEVTOOLS_UPDATE_CLIENT_DETECTED__","devtoolsClientVisible","some","Boolean","DoubleIndexedKV","keyToValue","valueToKey","getByKey","getByValue","Registry","generateIdentifier","kv","register","identifier","getIdentifier","getValue","ClassRegistry","super","classToAllowedProps","allowProps","getAllowedProps","predicate","valuesOfObj","valuesNotNever","arr","findArr","CustomTransformerRegistry","transfomers","transformer","findApplicable","isApplicable","findByName","isUndefined","isPlainObject2","isEmptyObject","isMap","isSet","isSymbol","getType","isNaNValue","isNaN","isPrimitive2","isBoolean","isNull","isNumber","isString","escapeKey","stringifyPath","String","parsePath","string","segment","char","lastSegment","simpleTransformation","annotation","transform","untransform","simpleRules","BigInt","error","valueOf","toISOString","Error","superJson","baseError","allowedErrorProps","stack","regex","flags","Infinity","URL","compositeTransformation","symbolRule","s","symbolRegistry","description","constructorToName","Int8Array","Uint8Array","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","Uint8ClampedArray","ctor","typedArrayRule","DataView","isInstanceOfRegisteredClass","potentialClass","classRegistry","classRule","clazz","allowedProps","customRule","customTransformerRegistry","serialize","deserialize","compositeRules","transformValue","applicableCompositeRule","rule","applicableSimpleRule","simpleRulesByAnnotation","getNthKey","n","next","validatePath","setDeep","mapper","row","keyOfRow","lastKey","keyToRow","traverse","tree","walker2","subtree","nodeValue","child","applyValueAnnotations","plain","annotations","json","transformation","untransformValue","applyReferentialEqualityAnnotations","identicalPaths","getDeep","identicalObjectPath","other","identicalPath","walker","identities","dedupe","objectsInThisPath","seenObjects","primitive","existingSet","addIdentity","seen","transformedValue","isDeep","transformed2","result2","transformationResult","transformed","innerAnnotations","recursiveResult","getType2","isArray2","copy","isPlainObject3","getOwnPropertySymbols","carry","props","newVal","originalObject","includeNonenumerable","propType","propertyIsEnumerable","writable","assignProp","nonenumerable","_a19","_a20","_a21","_a22","_a23","_a24","SuperJSON","output","equalityAnnotations","identitites","rootEqualityPaths","paths","sort","representativePath","generateReferentialEqualityAnnotations","referentialEqualities","registerClass","registerSymbol","registerCustom","allowErrorProps","defaultInstance","target21","__VUE_DEVTOOLS_KIT_MESSAGE_CHANNELS__","__VUE_DEVTOOLS_KIT_RPC_CLIENT__","__VUE_DEVTOOLS_KIT_RPC_SERVER__","__VUE_DEVTOOLS_KIT_VITE_RPC_CLIENT__","__VUE_DEVTOOLS_KIT_VITE_RPC_SERVER__","__VUE_DEVTOOLS_KIT_BROADCAST_RPC_SERVER__","IS_CLIENT","activePinia","setActivePinia","pinia","getActivePinia","process","env","NODE_ENV","hasInjectionContext","inject","piniaSymbol","Symbol","isPlainObject","toJSON","MutationType","_global","HTMLElement","download","url","xhr","XMLHttpRequest","open","responseType","onload","saveAs","onerror","send","corsEnabled","status","click","dispatchEvent","MouseEvent","evt","bubbles","cancelable","view","detail","screenX","screenY","clientX","clientY","ctrlKey","altKey","shiftKey","metaKey","button","relatedTarget","_navigator","isMacOSWebView","HTMLAnchorElement","blob","rel","createObjectURL","revokeObjectURL","msSaveOrOpenBlob","autoBom","Blob","fromCharCode","bom","popup","title","innerText","force","isSafari","isChromeIOS","FileReader","reader","onloadend","readAsDataURL","toastMessage","piniaMessage","__VUE_DEVTOOLS_TOAST__","isPinia","checkClipboardAccess","checkNotFocusedError","fileInput","actionGlobalOpenStateFile","accept","reject","onchange","files","text","oncancel","loadStoresState","storeState","formatDisplay","_custom","PINIA_ROOT_LABEL","PINIA_ROOT_ID","formatStoreForInspectorTree","store","$id","formatEventData","events","operations","operation","formatMutationType","direct","patchFunction","patchObject","isTimelineActive","componentStateTypes","MUTATIONS_LAYER_ID","INSPECTOR_ID","assign$1","getStoreType","registerPiniaDevtools","actions","action","clipboard","writeText","actionGlobalCopyState","tooltip","readText","actionGlobalPasteState","actionGlobalSaveState","nodeActions","_s","$reset","proxy","componentInstance","_pStores","piniaStores","instanceData","editable","_isOptionsAPI","$state","_getters","getters","stores","concat","$pinia","inspectedStore","$store","storeNames","storeMap","storeId","getterName","_customProperties","customProperties","formatStoreForInspectorState","startsWith","activeAction","runningActionId","patchActionForGrouping","actionNames","wrapWithProxy","storeActions","actionName","_actionId","trackedStore","retValue","arguments","devtoolsPlugin","_p","_testing","originalHotUpdate","_hotUpdate","newStore","_hmrPayload","logStoreChanges","$onAction","after","onError","groupId","time","subtitle","logType","watch","unref","deep","$subscribe","eventData","detached","flush","hotUpdate","markRaw","info","$dispose","addStoreToDevtools","newState","subPatch","targetValue","noop","addSubscription","subscriptions","onCleanup","removeSubscription","getCurrentScope","onScopeDispose","triggerSubscriptions","fallbackRunWithContext","ACTION_MARKER","ACTION_NAME","mergeReactiveObjects","patchToApply","skipHydrateSymbol","shouldHydrate","isComputed","effect","createOptionsStore","hot","initialState","createSetupStore","localState","toRefs","computedGetters","computed","isOptionsStore","scope","optionsForPlugin","_e","active","$subscribeOptions","isListening","isSyncListening","onTrigger","debuggerEvents","_hotUpdating","actionSubscriptions","hotState","activeListener","$patch","partialStateOrMutator","subscriptionMutation","myListenerId","nextTick","wrappedAction","afterCallbackSet","onErrorCallbackSet","ret","catch","partialStore","stopWatcher","stop","reactive","setupStore","runWithContext","effectScope","toRef","actionValue","stateKey","newStateTarget","oldStateSource","actionFn","getter","getterValue","nonEnumerable","p","extender","extensions","hydrate","defineStore","setupOptions","isSetupStore","useStore","hasContext","_pinia","hotId","currentInstance","getCurrentInstance","vm","useFiltering","currentFilter","evaluateFilter","cellValue","columnName","isRowChecked","rowId","cell","cells","filterValue","operator","evaluateSimpleFilter","leftResult","rightResult","evaluateCompositeFilter","filterRows","rows","setFilter","clearFilter","useSearch","searchTerm","searchMode","searchResults","currentResultIndex","fuzzyMatch","pattern","threshold","matrix","min","levenshteinDistance","searchInRows","term","mode","matches","caseSensitive","fuzzyThreshold","isMatch","searchValue","goToNextResult","goToPreviousResult","clearSearch","isSearchMatch","m","storeCache","pendingStores","useDataGridStore","storeDefinition","rowsMap","rowsOrder","columns","selectedCells","checkedRows","pageSize","currentPage","sortColumnsMap","sortColumnsOrder","filterExpression","searchQuery","enableSort","enableFilter","enableSearch","enableValidation","autoValidate","showRowNumber","showCheckbox","showValidationAlerts","showDeleteButton","showInsertButton","minRowHeight","pressedCell","isDragging","wasCtrlPressed","isAutoRowHeightEnabled","validatedCells","changedCellsSinceValidation","minRows","sortColumns","direction","getRow","totalRows","totalPages","ceil","visibleRows","filteredRows","before","storeInterface","searchRowIds","rowsToSort","sorts","aCell","bCell","aVal","bVal","cmp","compareValues","start","end","createEmptyRow","rowIndex","generateULID","col","isSelected","isValidationError","ensureMinimumRows","currentRowCount","minimumRequired","rowsToAdd","localeCompare","random","checkboxState","checkedCount","expandDragSelection","currentRowId","currentColumnName","pressedRowIndex","findIndex","currentRowIndex","selectableColumns","specialType","pressedColIndex","currentColIndex","pressedColumn","currentColumn","startRowIndex","endRowIndex","max","startColIndex","endColIndex","rowRange","colRange","cellsToSelect","rowIdx","colIdx","cellKey","selectedCellsCount","SPECIAL_COLUMN_NAMES","ensureUniqueColumnNames","inputColumns","nameCounts","count","loadRows","originalRowCount","columnCount","newMap","newOrder","visibleColumns","visibleForGrid","skippedEmptyRows","rowData","idx","__rowId","__rowHeight","originalRows","loadedRows","filterRate","minRowsRequired","firstRowId","firstRowCells","updateCell","updateRowHeight","newHeight","oldHeight","autoRowHeightEnabled","setAutoRowHeightEnabled","enabled","addSort","multiSort","existing","order","clearSort","setSortColumns","setPageSize","goToPage","page","deleteRow","hasRow","rowsBefore","wasChecked","checkedIndex","rowsAfter","insertRow","afterRowId","newRowId","newRow","insertMultipleRows","insertIndex","newRowIds","toggleCheckbox","checked","currentCount","toggleAllCheckboxes","totalCount","newCount","setConfig","newConfig","oldAutoValidate","newAutoValidate","initializeEmptyRows","rowCount","requestedCount","minRowsValue","pageSizeValue","currentRowsLength","columnsLength","newRowsLength","firstRowCellsCount","setSearchQuery","selectCell","isCtrlPressed","wasSelected","currentSelectionCount","newSelectionCount","startDragSelection","endDragSelection","isCellSelected","setColumns","conflicts","uniqueColumns","originalCount","uniqueCount","columnNames","updateColumn","updates","colIndex","oldColumn","oldWidth","newWidth","areNonEmptyRowsValid","every","markCellValidated","clearValidationTracking","clearedValidatedCount","clearedChangedCount","getCellsNeedingValidation","forceValidateAll","columnsWithRules","validatedCellsCount","changedCellsCount","hasColumnsWithRules","columnsToValidate","totalColumns","skippedColumns","cellsToValidate","emptyRowsSkipped","alreadyValidatedCells","changedCells","neverValidatedCells","skippedInvisibleCells","skippedNoRulesCells","isVisible","hasRules","isValidated","isChanged","neverValidated","changedSinceValidation","alreadyValidated","sampleCells","setMinRows","newMinRows","clearAllData","useValidation","validationRules","validationErrors","errorCount","ruleCount","updateErrorCount","validateCell","rules","isEmpty","ruleType","errorMessage","severity","isValid","regexPattern","numValue","minValue","maxValue","customValidator","isRowCompletelyEmpty","rowCells","validateCellDirect","skipErrorCountUpdate","rowErrors","filteredErrors","remainingErrors","existingErrorIdx","validateCellThrottled","useDebounceFn","addValidationRule","totalRulesForColumn","validateAll","totalErrors","totalBatches","batchIndex","batchStart","batchEnd","batch","cellCount","hasCells","rowsWithErrorsCount","allErrors","errors","getValidationErrors","clearValidationErrors","clearedCount","useCopyPaste","clipboardData","escapeTsvValue","copyToClipboard","success","tsvData","lines","includeHeaders","formatAsTabSeparated","processedRows","copySelectedCells","allRows","allColumns","selectedCount","dataColumnsOnly","allColumnsCount","dataColumnsCount","cellPositions","columnIndex","visualRowIndex","minRowIndex","maxRowIndex","minColIndex","maxColIndex","cols","cellPos","lineCount","preview","pasteFromClipboard","headers","clipboardText","currentRow","currentCell","inQuotes","isFirstRow","trimmedText","firstDataRow","dataRow","parseTabSeparated","canPaste","clearClipboard","defaultAutoRowHeightConfig","minHeight","maxHeight","enableWrapping","useAutoRowHeight","canvas","measureTextHeight","getContext","font","explicitLines","totalLines","words","currentLine","linesInThisSegment","word","testLine","measureText","totalHeight","calculateRowHeight","cellHeight","calculatedHeight","isSuccess","calculateRowHeights","applyAutoRowHeight","updatedCount","totalRowsUpdated","averageHeight","recalculateRows","rowIds","updateMaxHeight","newMaxHeight","ShortcutContext","useShortcuts","shortcuts","currentContext","keyCombinationToString","parts","ctrl","alt","handleKeyDown","matchingShortcuts","shortcut","matchesKeyCombination","shortcutContext","current","priority","registerShortcut","definition","keyString","onMounted","onUnmounted","registerShortcuts","definitions","unregisterShortcut","unregisterShortcutByName","entry","def","setShortcutEnabled","getShortcuts","getShortcutsByContext","clearShortcuts","Keys","logQueue","isProcessing","processingTimer","enqueueLog","level","category","timestamp","stopProcessing","writeLogToConsole","processLogBatch","startProcessing","debug","gridApi","isHostMode","listBoxRegistry","detectHostMode","callHostApi","method","hostApi","resultJson","request","endpoint","credentials","statusText","getData","importData","jsonData","exportData","optionsJson","OnlyFiltered","onlyFiltered","FilteredRowIds","filteredRowIds","ColumnNames","URLSearchParams","append","getConfig","setValidationRules","jsonRules","getValidationRules","getColumnNames","getColumns","healthCheck","registerListBox","listBoxId","listBoxRef","unregisterListBox","clearListBoxSelection","clearSelection","getListBoxSelection","selectedValues","getSelectedValues","getListBoxConfig","getThemeConfig","defaultDataGridTheme","cellColors","defaultBackground","defaultForeground","hoverBackground","hoverForeground","focusedBackground","focusedForeground","disabledBackground","disabledForeground","readOnlyBackground","readOnlyForeground","rowColors","evenRowBackground","oddRowBackground","selectedBackground","selectedForeground","selectedInactiveBackground","selectedInactiveForeground","headerColors","background","foreground","pressedBackground","sortIndicatorColor","validationColors","errorBackground","errorForeground","errorBorder","warningBackground","warningForeground","warningBorder","infoBackground","infoForeground","infoBorder","selectionColors","selectionBorder","selectionFill","multiSelectionBackground","multiSelectionForeground","borderColors","cellBorder","rowBorder","columnBorder","gridBorder","focusedCellBorder","specialColumnColors","rowNumberBackground","rowNumberForeground","checkboxBorder","checkboxBackground","checkboxForeground","deleteRowBackground","deleteRowForeground","deleteRowHoverBackground","insertRowBackground","insertRowForeground","insertRowBorder","insertRowHoverBackground","insertRowHoverForeground","validationAlertsErrorBackground","validationAlertsErrorForeground","uiControlColors","resizeGripColor","menuBackground","menuForeground","menuHoverBackground","dialogBackground","dialogForeground","dialogBorder","placeholderColor","searchPanelBackground","searchPanelForeground","searchPanelBorder","filterRowBackground","filterRowForeground","filterRowBorder","paginationBackground","paginationForeground","paginationBorder","paginationButtonHoverBackground","defaultListBoxTheme","itemColors","selectedHoverBackground","selectedHoverForeground","containerColors","focusedBorder","titleForeground","checkboxColors","checkedBackground","checkedBorder","hoverBorder","scrollbarColors","trackBackground","thumbBackground","thumbHoverBackground","__props","emit","__emit","gridId","resizingColumn","resizeStartX","resizeStartWidth","sortInfoMap","sortCol","isPrimary","getSortInfo","handleHeaderClick","isSortable","currentSort","newDirection","sortInfo","handleSort","showHeaderContextMenu","handleCheckboxHeaderClick","onResizeMove","delta","minWidth","maxWidth","onResizeEnd","header","isFilterable","showHiddenColumnsPanel","isGridReady","sortColumnsCopy","filterExpressionCopy","menuItems","hasOtherSorts","onClick","divided","newSorts","enableAutoFit","enableHideColumn","ContextMenu","showContextMenu","x","y","items","_createElementBlock","class","gridTemplateColumns","_Fragment","_renderList","_normalizeClass","autoWidth","$event","onContextmenu","_withModifiers","_unref","_hoisted_2","_hoisted_3","_openBlock","_hoisted_4","_toDisplayString","_createTextVNode","_hoisted_5","_createElementVNode","onMousedown","startResize","validation","cellRef","inputRef","isEditing","editValue","originalValue","isHovered","tooltipPosition","isConfirming","displayValue","hasNewlines","highlightedValue","escapeHtml","escapedQuery","div","textContent","validationError","cellClasses","isReadOnly","cellStyle","handleMouseDown","handleMouseEnter","isLeftButtonPressed","buttons","handleMouseLeave","handleCellKeyDown","enterEditMode","currentCellValue","storingAsOriginal","focus","select","handleDoubleClick","currentValue","getRowCells","handleInput","cancelEdit","confirmedValue","originalWas","confirmEdit","selectionStart","selectionEnd","currentEditValue","handleBlur","handleContextMenu","selectedRowData","selectedRowCount","selectedRowIndices","minRow","maxRow","disabled","onMouseenter","onMouseleave","onDblclick","onKeydown","tabindex","onInput","onBlur","_createBlock","_Teleport","_normalizeStyle","isChecked","oldVal","immediate","isDeleting","lastDeleteClick","rowNumber","validationErrorsForRow","hasValidationErrors","hasValidationWarnings","validationMessage","specialCellClasses","handleCheckboxChange","currentProp","handleDelete","confirm","handleInsert","_hoisted_1","onChange","isRowCheckedComputed","getCellForColumn","handleEditComplete","handleCellInput","handleDeleteRow","handleInsertRow","handleInsertAbove","handleInsertBelow","SpecialColumnCell","onCheckboxChange","onDeleteRow","onInsertRow","DataGridCell","onEditComplete","onCellInput","onInsertAbove","onInsertBelow","placeholderRef","observer","rowVisibility","dataset","observe","unobserve","DataGridRow","_mergeProps","minTableWidth","$attrs","sortedPageSizeOptions","pageSizeOptions","visiblePages","pages","step","handlePageSizeChange","_cache","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_10","filterMode","currentMode","searchText","currentPattern","uniqueValues","newValues","newPattern","filteredValues","search","displayText","selectAll","deselectAll","handleApply","handleClose","handleClear","visible","placeholder","_vModelCheckbox","_hoisted_9","logger","fatal","getQueueSize","useLogger","hasConfig","hasColumns","storeFactory","provide","sharedObserver","copyPaste","filterRowsHelper","isValidating","validationProgress","percentage","validationCancelled","containerHeight","computedMaxHeight","floor","autoRowHeight","applyAutoRowHeightToAll","measureContainerHeight","scrollerRef","clientHeight","handleDocumentMouseUp","handleKeyboardShortcuts","alert","isBackendConnected","checkBackendConnection","IntersectionObserver","isIntersecting","rootMargin","handleWheel","abs","deltaY","deltaX","maxScroll","scrollHeight","currentScroll","scrollTop","passive","__dataGridScrollCleanup","tableContent","querySelector","tableInner","headerEl","scrollerEl","firstRow","group","offsetWidth","scrollWidth","getComputedStyle","overflowX","hasHorizontalScroll","overflowY","groupEnd","lastScrollLeft","handleTableContentScroll","scrollLeft","scrollDelta","currentHeaderLeft","currentRowLeft","misalignment","headerOffsetLeft","rowOffsetLeft","toFixed","handleScrollerScroll","solution","newColumns","propCol","dataType","addColumn","onBeforeUnmount","cleanup","isLoadingFromBackend","loadingState","isLoading","progress","handleCopy","dataColumns","handlePaste","targetRowIndex","targetRow","lastRowId","handleCut","cellId","Normal","handlers","onCopy","onPaste","onCut","onDelete","onSelectAll","onFind","onUndo","onRedo","onEscape","onEnter","onTab","onArrowUp","onArrowDown","onArrowLeft","onArrowRight","createDefaultShortcuts","handleCopySelectedCells","targetColIndex","firstCellKey","firstColName","firstColIdx","isSpecialColumn","rowOffset","pasteRowIndex","maxRows","columnKey","colOffset","pasteColIndex","maxCols","targetColumn","validateAllCellsInBatches","handlePasteSelectedCells","waitForValidation","maxWaitMs","startWait","iterations","webview","postMessage","source","elapsedMs","PARALLEL_BATCH_SIZE","totalCells","validatedCount","validationPromises","err","onBeforeMount","disconnect","wasEnabled","specialColumns","validationColumn","actionColumns","template","totalWidth","sum","handleResize","handleCellEditComplete","recalculateRowHeightAfterEdit","recalculateRowHeightForNewlines","rowsLength","willInitialize","oldCount","rulesSize","oldErrorCount","newErrors","validationErrorCount","resetAllRowHeights","hiddenColumns","handleHideColumn","showAllColumns","handleAutoFitColumn","currentWidth","headerWidth","textValue","textWidth","filterFlyout","extractFiltersExceptColumn","excludeColumnName","compositeFilter","leftFiltered","rightFiltered","extractSelectedValuesForColumn","expr","simpleFilter","handleShowFilter","filtersExceptThisColumn","sampleSize","trueCount","falseCount","currentlySelectedValues","valueMap","getUniqueValues","innerWidth","innerHeight","closeFilterFlyout","extractColumnFilters","columnFilters","isAndContext","simple","composite","leftCol","rightCol","combineFiltersWithAnd","filters","validFilters","f","combineWithExistingFilters","newColumnFilter","handleApplyCheckboxFilter","combinedFilter","filterValues","handleApplyRegexFilter","handleClearFilter","toggleAutoRowHeight","columnsForMeasurement","heightsBefore","heightBefore","heightsAfter","heightAfter","changed","h","rowsProcessed","rowsWithNewlines","maxLines","verticalPadding","rowsWithDefaultHeight","defaultHeight","note","loadDataFromBackend","RowId","RowHeight","__checkbox","Checkbox","Data","maxWait","mergedTheme","theme","cssVariables","__expose","validateRequired","isAllValid","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","showColumn","_hoisted_17","_hoisted_18","_hoisted_19","_createVNode","DataGridHeader","onSort","onResize","onHideColumn","onAutoFitColumn","onShowFilter","LazyRow","onCellEditComplete","PaginationControl","onPageChange","onPageSizeChange","FilterFlyout","onClose","onApplyCheckbox","onApplyRegex","onClearFilter","hoveredValue","preSelected","newPreSelected","generateListBoxCSSVariables","listboxStyle","handleItemClick","multiSelect","handleReset","selectValue","showResetButton","isCollapsed","debouncedSearch","func","delay","timeoutId","handleSearch","handleClearSearch","toggleCollapse","number","logicOperator","activeColumnFilters","activeFiltersCount","addFilter","removeFilter","updateFilters","clearAllFilters","getColumnHeader","_vModelSelect","_vModelText","install","DataGrid","ListBox","SearchPanel","FilterRow","toBeInstalled","use"],"mappings":"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AAU,KACV,IAAU,IACV,KAAgB,KAChB,IAAU,KACV,IAAU,IACV,IAAU,KACV,IAAU,IACV,IAAU,KACV,IAAU,KACV,IAAU,IACV,IAAU,KACV,IAAU,IACV,IAAU,KACV,IAAU,IACV,IAAU,IACV,IAAU,KACV,IAAU,IACV,IAAU,KACV,IAAU,IACV,IAAU,IACV,IAAU,KACV,IAAU,IACV,IAAU,IACV,IAAU,KACV,IAAU,IACV,IAAU,KACV,IAAU,IAEV,IAAU,IACV,IAAU,KACV,IAAU,IACV,KAAgB,KAChB,KAAgB,MAChB,IAAU,IAEV,IAAU,IACV,IAAU,KACV,IAAU,IACV,IAAU,KACV,IAAU,IACV,IAAU,KACV,IAAU,KACV,OAA4B,KAC5B,IAAU,KAEV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IAEV,IAAU,GACV,IAAU,GACV,IAAU,GAEV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IAEV,IAAU,IACV,IAAU,KACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,KACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,KACV,IAAU,KACV,IAAU,IACV,IAAU,IACV,IAAU,KACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,KACV,IAAU,KACV,IAAU,KACV,IAAU,KACV,IAAU,KACV,IAAU,IACV,IAAU,KACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,KACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,KACV,IAAU,IACV,IAAU,KACV,IAAU,IACV,IAAU,KACV,IAAU,IACV,IAAU,KACV,IAAU,IACV,IAAU,KACV,IAAU,GAGV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,KACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,KACV,IAAU,IACV,IAAU,KACV,IAAU,KACV,IAAU,KACV,IAAU,KACV,IAAU,KACV,IAAU,KACV,IAAU,KACV,IAAU,IACV,IAAU,IAEV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,KACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,KACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,KACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,KACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,KACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,KACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IAEV,IAAU,IAEV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IAEV,IAAU,IAEV,IAAU,IAEV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IAEV,IAAU,IAGV,IAAU,KACV,IAAU,KACV,IAAU,KACV,IAAU,KACV,IAAU,KACV,IAAU,KACV,KAAgB,KAChB,KAAgB,KAEhB,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IAEV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IAEV,IAAU,KACV,IAAU,IACV,IAAU,KACV,IAAU,IACV,IAAU,KACV,IAAU,IACV,IAAU,KACV,IAAU,IAEV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IAGV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IAGV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,KACV,IAAU,KACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,KACV,IAAU,IACV,IAAU,KACV,IAAU,KACV,IAAU,KACV,IAAU,GACV,IAAU,IACV,IAAU,GACV,IAAU,IACV,IAAU,KACV,IAAU,KACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,KACV,IAAU,KACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,KACV,IAAU,IACV,IAAU,KACV,IAAU,KACV,IAAU,KACV,IAAU,GACV,IAAU,IACV,IAAU,GACV,IAAU,IACV,IAAU,KACV,IAAU,KAEV,IAAU,KACV,IAAU,IAGV,IAAU,IACV,IAAU,KACV,IAAU,KACV,IAAU,IAGV,IAAU,IACV,IAAU,KAEV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IAEV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IAOV,IAAU,IACV,IAAU,IAEV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IAGV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,KACV,IAAU,KACV,IAAU,KACV,IAAU,KACV,IAAU,KACV,IAAU,KACV,IAAU,KACV,IAAU,KACV,IAAU,KACV,IAAU,KACV,IAAU,KACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,KACV,IAAU,IACV,IAAU,KACV,IAAU,KACV,IAAU,KACV,IAAU,KACV,IAAU,KACV,IAAU,KACV,IAAU,KACV,IAAU,KACV,IAAU,KACV,IAAU,KACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IAEV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,IACV,IAAU,OACV,IAAQ,MACR,IAAU,KACV,IAAU,KACV,IAAQ,MACR,IAAU,IACV,IAAU,OACV,IAAU,MACV,IAAU,IACV,IAAQ,IACR,IAAQ,IACR,IAAU,IACV,IAAU,IACV,IAAU,IAEVC,EAAK,MACL,IAAU,MACV,IAAU,MACV,IAAU,MACV,IAAQ,MACR,IAAU,MACV,IAAU,MACV,IAAU,MACV,IAAU,MACV,IAAU,MACV,IAAU,MACV,IAAU,MACV,IAAU,MACV,IAAU,MACV,IAAU,MACV,IAAU,MACV,IAAU,MACV,IAAU,MACV,IAAU,MACV,IAAQ,OAC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","x_google_ignoreList":[0,1,2,3,4]}